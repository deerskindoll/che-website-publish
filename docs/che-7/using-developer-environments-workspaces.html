<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=",  ">
<title>Using developer environments - workspaces | Eclipse Che Documentation</title>
<link rel="stylesheet" href="/che/docs/css/syntax.css">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="/che/docs/css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="/che/docs/css/customstyles.css">
<link rel="stylesheet" href="/che/docs/css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="/che/docs/css/theme-che.css">


    <link rel="stylesheet" href="/che/docs/css/coderay.css" media="screen" type="text/css">
    <link rel="stylesheet" href="/che/docs/css/asciidoc.css" type="text/css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js" crossorigin="anonymous"></script>
<script src="/che/docs/js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js" crossorigin="anonymous"></script>
<script src="/che/docs/js/toc.js"></script>
<script src="/che/docs/js/customscripts.js"></script>

<link rel="shortcut icon" href="/che/docs/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="che" href="/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="/che/docs/">&nbsp;<span class="projectTitle"> Eclipse Che Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://medium.com/eclipse-che-blog/" target="_blank">Blog</a></li>
                
                
                
                <li><a href="https://github.com/eclipse/che" target="_blank">Source Code</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Che Version<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/che/docs/che-6">Che 6</a></li>
                        
                        
                        
                        <li class="dropdownActive"><a href="/che/docs/che-7">Che 7</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Support<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3Akind%2Fbug" target="_blank">Known Bugs</a></li>
                        
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues/new" target="_blank">File an Issue</a></li>
                        
                        
                        
                        <li><a href="https://stackoverflow.com/questions/tagged/eclipse-che" target="_blank">Che on StackOverflow</a></li>
                        
                        
                    </ul>
                </li>
                
                
                <!-- 
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:?subject= feedback&body=I have some feedback about the Using developer environments - workspaces page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>
 -->
		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="/che/docs/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: "/che/docs/search.json",
                                searchResultTemplate: '<li><a href="{url}" title="Using developer environments - workspaces">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Eclipse Che 7</li>
  
  <div class="sidebarSubtitle">Overview</div>
  
  
  <li>
      
      <a href="/che/docs/che-7/introduction-to-eclipse-che">Introduction to Che</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Che quick-starts</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/installing-the-chectl-management-tool">Installing the chectl management tool</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/running-che-locally">Running Che locally</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/deploying-che-on-kubernetes-on-aws">Che on Amazon Web Services</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/installing-che-on-openshift-3-using-the-operator">Che on OpenShift 3</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/installing-che-on-openshift-4-from-operatorhub">Che on OpenShift 4</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/installing-che-on-google-cloud-platform">Che on Google Cloud Platform</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/installing-eclipse-che-on-microsoft-azure">Che on Microsoft Azure</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/hosted-che">Hosted Che</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Che architecture</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/high-level-che-architecture">High-level Che architecture</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che-workspace-controller">Che workspace controller</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che-workspaces-architecture">Che workspaces architecture</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
  <div class="sidebarSubtitle">End-user Guide</div>
  
  
  <li>
      
      <a href="/che/docs/che-7/navigating-che-using-the-dashboard">Navigating Che: dashboard</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Che-Theia IDE basics</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/defining-custom-commands-for-che-theia">Defining custom commands for Che-Theia</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/version-control">Version Control</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Using developer workspaces</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/workspaces-overview">Workspaces overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/configuring-a-workspace-using-a-devfile">Configuring a workspace using a devfile</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/making-a-workspace-portable-using-a-devfile">Making a workspace portable using a devfile</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/converting-a-che-6-workspace-to-a-che-7-devfile">Converting a Che 6 Workspace to a Che 7 devfile</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/creating-and-configuring-a-new-che-7-workspace">Creating and configuring a new Che 7 workspace</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/importing-a-kubernetes-application-into-a-che-workspace">Importing a Kubernetes application into a Che workspace</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/remotely-accessing-che-workspaces">Remotely accessing workspaces</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/creating-a-workspace-from-code-sample">Creating a workspace from code sample</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/creating-a-workspace-by-importing-source-code-of-a-project">Creating a workspace by importing source code of a project</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Customizing developer environments</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/customizing-developer-environments">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/what-is-a-che-theia-plug-in">What is a Che-Theia plug-in</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/using-alternative-ides-in-che">Using alternative IDEs in Che</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/using-a-visual-studio-code-extension-in-che">Using a VS Code extension in Che</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
  <div class="sidebarSubtitle">Administration Guide</div>
  
  
  <li>
      
      <a href="#" class="expandable">Customizing devfile and plug-in registries</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/customizing-the-devfile-and-plug-in-registries">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/building-and-running-a-custom-registry-image">Building and running a custom registry image</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/including-the-plug-in-binaries-in-the-registry-image">Including the plug-in binaries in the registry image</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/editing-a-devfile-and-plug-in-at-runtime">Editing a devfile and plug-in at runtime</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Retrieving Che logs</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/retrieving-che-logs">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/viewing-kubernetes-events">Viewing Kubernetes events</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/viewing-che-server-logs">Viewing Che server logs</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/viewing-external-service-logs">Viewing external service logs</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/viewing-che-workspaces-logs">Viewing Che workspaces logs</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/viewing-plug-in-broker-logs">Viewing the plug-in broker logs</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/monitoring-che">Monitoring Che</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/tracing-che">Tracing Che</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Securing Che</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/authenticating-users">Authenticating users</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/authorizing-users">Authorizing users</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
  <div class="sidebarSubtitle">Contributor Guide</div>
  
  
  <li>
      
      <a href="/che/docs/che-7/developing-che-theia-plug-ins">Developing Che-Theia plug-ins</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/testing-che-theia-plug-ins">Testing Che-Theia plug-ins</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/publishing-che-theia-plug-ins">Publishing Che-Theia plug-ins</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/adding-support-for-a-new-language">Adding support for a new language</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/adding-support-for-a-new-debugger">Adding support for a new debugger</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Che extensibility reference</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/che-extensibility-reference">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che-extension-points">Che extension points</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che-theia-plug-in-api">Che-Theia plug-in API</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/debug-adapter-protocol">Debug Adapter Protocol</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/language-server-protocol">Language Server Protocol</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
  <div class="sidebarSubtitle">Extensions</div>
  
  
  <li>
      
      <a href="#" class="expandable">Eclipse Che4z</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/che4z-release-information">Release Information</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che4z-installing">Installing</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che4z-using-explorer-for-zos">Using Explorer for z/OS</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che4z-product-accessibility-features">Product Accessibility Features</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block: -->
         <p class="external">
             <a href="#" id="collapseAll">Collapse all</a> | <a href="#" id="expandAll">Expand all</a>
         </p>
         
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>

            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Using developer environments - workspaces</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.
$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2' });
/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top
  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    


    <!-- 


     -->

  <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Eclipse Che provides developer workspaces with everything needed to code, build, test, run, and debug applications. To allow that, the developer workspaces provide four main components:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Project source code</dt>
<dd>
<p>The source code of a project</p>
</dd>
<dt class="hdlist1">Browser-based IDE</dt>
<dd>
<p>A web-based IDE that is packaged by default in a workspace</p>
</dd>
<dt class="hdlist1">Tool dependencies</dt>
<dd>
<p>Dependencies needed by developers to work on a project</p>
</dd>
<dt class="hdlist1">Application runtime</dt>
<dd>
<p>A replica of the environment where the application runs in production</p>
</dd>
</dl>
</div>
<hr>
<div class="paragraph">
<p>title: Workspaces overview
keywords:
tags: []
sidebar: che_7_docs
permalink: che-7/workspaces-overview/
folder: che-7/end-user-guide
summary:
---</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="workspaces-overview">Workspaces overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Eclipse Che provides developer workspaces with everything needed to a code, build, test, run, and debug applications. To allow that, the developer workspaces provide four main components:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Project source code</dt>
<dd>
<p>the source code of a project</p>
</dd>
<dt class="hdlist1">Browser-based IDE</dt>
<dd>
<p>a web-based IDE that is packaged by default in a workspace</p>
</dd>
<dt class="hdlist1">Tool dependencies</dt>
<dd>
<p>dependencies needed by developers to work on a project</p>
</dd>
<dt class="hdlist1">Application runtime</dt>
<dd>
<p>a replica of the environment where the application runs in production</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Eclipse Che workspaces are managed by Kubernetes pods. Everything running in a Che developer workspace is running inside containers and is accessible from the embedded browser-based IDE. Because developer workspaces are containerized, they are highly portable. And because they only need a browser to be accessed, they are easily shareable.</p>
</div>
<div class="sect2">
<h3 id="features-and-benefits">Features and benefits</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Features</th>
<th class="tableblock halign-left valign-top">Traditional IDE workspaces</th>
<th class="tableblock halign-left valign-top">Eclipse Che workspaces</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Configuration and installation required</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Embedded tools</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Partial. IDE plug-ins need configuration. Dependencies need installation and configuration. Example: JDK, Maven, Node.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes. Plug-ins provide their dependencies.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Application runtime provided</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Developers have to manage that separately.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes. Application runtime is replicated in the workspace.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Shareable</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.Or not easily</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes. Developer workspaces are shareable with a URL.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Versionable</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes. Devfiles live with project source code.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Accessible from anywhere</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Installation is needed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes. Only requires a browser.</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p><a href="/che/docs/che-7/configuring-a-workspace-using-a-devfile">Configuring a workspace using a devfile</a></p>
</li>
<li>
<p><a href="/che/docs/che-7/making-a-workspace-portable-using-a-devfile">Making a workspace portable using a devfile</a></p>
</li>
<li>
<p><a href="/che/docs/che-7/converting-a-che-6-workspace-to-a-che-7-devfile">Converting a Che 6 Workspace to a Che 7 devfile</a></p>
</li>
<li>
<p><a href="/che/docs/che-7/creating-and-configuring-a-new-che-7-workspace">Creating and configuring a new Che 7 workspace</a></p>
</li>
<li>
<p><a href="/che/docs/che-7/importing-a-kubernetes-application-into-a-che-workspace">Importing a Kubernetes application into a Che workspace</a></p>
</li>
<li>
<p><a href="/che/docs/che-7/remotely-accessing-che-workspaces">Remotely accessing workspaces</a></p>
</li>
<li>
<p><a href="/che/docs/che-7/creating-a-workspace-from-code-sample">Creating a workspace from code sample</a></p>
</li>
<li>
<p><a href="/che/docs/che-7/creating-a-workspace-by-importing-source-code-of-a-project">Creating a workspace by importing source code of a project</a></p>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p>title: Configuring a workspace using a devfile
keywords:
tags: []
sidebar: che_7_docs
permalink: che-7/configuring-a-workspace-using-a-devfile/
folder: che-7/end-user-guide
summary:
---</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-a-workspace-using-a-devfile">Configuring a workspace using a devfile</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to select a workspace, loading in the required stack and a sample project, all in one step.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://redhat-developer.github.io/devfile/devfile">Devfile specifications</a> for detailed information on how to add or remove components, or how to set memory and environment variables.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>An OKD, OCP, or OSD cluster for using Che on Openshift. See below for use of <a href="https://www.okd.io/minishift/">Minishift</a> (OKD). Or, use a Kubernetes cluster, such as <a href="https://github.com/kubernetes/minikube#installation">Minikube</a>.</p>
</li>
<li>
<p>To install on Minishift or Minikube, see <a href="/che/docs/che-7/running-che-locally/#deploying-che-using-chectl">Deploying Che using chectl</a>.</p>
</li>
<li>
<p><code>chectl</code> management tool is installed. See <a href="/che/docs/che-7/installing-the-chectl-management-tool/">Installing the <code>chectl</code> management tool</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="importing-a-project-using-a-devfile">Importing a project using a devfile</h3>
<div class="paragraph">
<div class="title">Procedure</div>
<p>Stacks are defined as <a href="/che/docs/che-7/making-a-workspace-portable-using-a-devfile/">devfiles</a>. This gives the user more flexibility when defining the projects, IDE, commands, tools, and application runtimes needed in their workspace.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In Che 6, a stack is defined with a Dockerfile. In Che 7, <code>devfile.yaml</code> is used instead.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="the-minimal-devfile">The minimal devfile</h4>
<div class="paragraph">
<p>The following is the minimum content required in a <code>devfile.yaml</code> file:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://redhat-developer.github.io/devfile/devfile#apiversion">apiVersion</a></p>
</li>
<li>
<p><a href="https://redhat-developer.github.io/devfile/devfile#metadata">metadata name</a></p>
</li>
<li>
<p><a href="https://redhat-developer.github.io/devfile/devfile#projects">projects name and source</a></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">che-in-che-out</span></span>
<span style="color:#606">projects</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: che</span></span>
    <span style="color:#606">source</span>:
      <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
      <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">'https://github.com/eclipse/che.git'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For a complete <code>devfile</code> example file, see <a href="https://github.com/eclipse/che/blob/master/devfile.yaml">Eclipse Che in Che devfile.yaml</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-workspace-from-a-devfile">Creating a workspace from a devfile</h3>
<div class="paragraph">
<p>To create a workspace from a devfile:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Commit a <code>devfile.yaml</code> file into the root of your Git repository.</p>
</li>
<li>
<p>When the repository contains a <code>devfile.yaml</code> file, point a running Che 7 instance at that project. The Che 7 instance then uses the discovered <a href="https://github.com/eclipse/che/blob/master/devfile.yaml">devfile.yaml</a> file to build a workspace using the <code>/f?url=</code> API.</p>
<div class="ulist">
<ul>
<li>
<p>For example, when using <a href="/che/docs/che-7/running-che-locally/#deploying-che-using-chectl">Che inside Minishift</a>: <code>http://che-che.&lt;IP-address&gt;.nip.io/f?url=https://github.com/eclipse/che</code>.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/che-in-che-devfile.png" alt="Che in Che">
</div>
</div>
</li>
<li>
<p>Or, point at a plain text file: <code>http://che-che.&lt;IP-address&gt;.nip.io/f?url=https://gist.githubusercontent.com/nickboldt/9551284c2c779a93ccf16bc801416205/raw/7ad1e949880d7f8ed30360e74bb9f8426450db05/devfile.yaml</code>.</p>
</li>
<li>
<p>Alternatively, use <a href="https://github.com/che-incubator/chectl/">chectl</a> to reference a local devfile. For example, to create a workspace in which to build the Che project:</p>
<div class="ulist">
<ul>
<li>
<p><a href="/che/docs/che-7/running-che-locally/#deploying-che-using-chectl">Deploy Che onto Minishift</a> (or another cluster).</p>
</li>
<li>
<p>Fetch the devfile and run the <code>chectl</code> command to start a workspace called <strong>che-in-che</strong> from the devfile in the Minishift <code>che-che</code> instance.</p>
<div class="listingblock">
<div class="content">
<pre>$ wget https://raw.githubusercontent.com/eclipse/che/master/devfile.yaml -o /tmp/devfile.yaml

$ ./chectl workspace:start -f /tmp/devfile.yaml -n che-che
  ✔ Retrieving Che Server URL...http://che-che.`your.IP.address.here`.nip.io
  ✔ Verify if Che server is running
  ✔ Create workspace from Devfile /tmp/devfile.yaml

Workspace IDE URL:
http://che-che.`your.IP.address.here`.nip.io/dashboard/#/ide/che/che-in-che</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="/che/docs/che-7/making-a-workspace-portable-using-a-devfile">Making a workspace portable using a Devfile</a></p>
</li>
<li>
<p><a href="https://redhat-developer.github.io/devfile/devfile">Devfile specifications</a></p>
</li>
<li>
<p><a href="https://docs.okd.io/latest/minishift/getting-started/preparing-to-install.html">Minishift installation</a></p>
</li>
<li>
<p><a href="https://github.com/kubernetes/minikube#installation">Minikube installation</a></p>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p>title: Making a workspace portable using a Devfile
keywords:
tags: []
sidebar: che_7_docs
permalink: che-7/making-a-workspace-portable-using-a-devfile/
folder: che-7/end-user-guide
summary:
---</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="making-a-workspace-portable-using-a-devfile">Making a workspace portable using a devfile</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Eclipse Che workspaces are defined by a <strong>devfile</strong>. A devfile is the definition of everything that is used in developer workspaces.</p>
</div>
<div class="paragraph">
<p>Che uses devfiles to define:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>projects to clone</p>
</li>
<li>
<p>browser IDE to use</p>
</li>
<li>
<p>preconfigured commands</p>
</li>
<li>
<p>tools that you need</p>
</li>
<li>
<p>application runtime definition</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When you create a workspace, Che uses that definition to initiate everything for you and run all the containers for your tools and your application runtimes. Che also mounts filesystem volumes to make your source code available to the workspace.</p>
</div>
<div class="paragraph">
<p>Devfiles can be versioned with the project source code. When you have to get a workspace to fix an old maintenance branch, the project devfile provides you with a definition of the workspace with the tools and the exact dependencies to start working on the old branch. Use it to easily instantiate workspaces on demand.</p>
</div>
<div class="paragraph">
<p>Che maintains the devfile up-to-date with the tools you use in the workspace:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Projects of the workspace (path, Git location, branch)</p>
</li>
<li>
<p>Commands to perform daily tasks (build, run, test, debug)</p>
</li>
<li>
<p>Runtime environment (container images to run your application)</p>
</li>
<li>
<p>Che-Theia plug-ins with tools, IDE features, and helpers that a developer would use in the workspace (Git, Java support, Sonarlint, Pull Request)</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="starting-a-workspace-with-a-devfile_making-a-workspace-portable-using-a-devfile">Starting a workspace with a devfile</h3>
<div class="paragraph">
<p>This section describes how to start a Che workspace using your own existing devfile.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A running instance of Eclipse Che.</p>
</li>
<li>
<p>An existing devfile.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>There are several ways to launch a Che workspace based on a prepared devfile:</p>
</div>
<div class="paragraph">
<div class="title">Devfile from Git</div>
<p>Add the devfile to a Git source repository and then create a factory from this repository.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Put a <code>devfile.yaml</code> file in the root of your Git repository.</p>
</li>
<li>
<p>Execute the factory by opening the following URL:</p>
<div class="listingblock">
<div class="content">
<pre>https://<em>&lt;your-che-host&gt;</em>/f?url=https://github.com/<em>&lt;mygroup&gt;</em>/<em>&lt;myrepo&gt;</em></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Devfile from URL</div>
<p>Execute a devfile by constructing the factory with the URL pointing to the raw content of the devfile, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>https://<em>&lt;your-che-host&gt;</em>/f?url=https://pastebin.com/raw/ux6iCGaW</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Devfile using the <code>chectl</code> tool</div>
<p>Execute a workspace from a devfile using the <code>workspace:start</code> parameter with the <code>chectl</code> tool as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ chectl workspace:start --devfile=devfile.yaml</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-a-devfile-for-your-project_making-a-workspace-portable-using-a-devfile">Writing a devfile for a project</h3>
<div class="paragraph">
<p>This section describes how to create a minimal devfile for your project and how to include more than one projects in a devfile.</p>
</div>
<div class="sect3">
<h4 id="preparing-a-minimal-devfile_making-a-workspace-portable-using-a-devfile">Preparing a minimal devfile</h4>
<div class="paragraph">
<p>A minimal devfile sufficient to run a workspace consists of the following parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Specification version</p>
</li>
<li>
<p>Name</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example of a minimal devfile with no project</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">minimal-workspace</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Without any further configuration, a workspace with the default editor is launched along with its default plug-ins, which are configured on the Che Server. Che-Theia is configured as the default editor along with the <strong>Che Machine Exec</strong> plug-in.</p>
</div>
<div class="paragraph">
<p>Add the following parts for a more functional workspace:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List of components: Development components and user runtimes</p>
</li>
<li>
<p>List of projects: Source code repositories</p>
</li>
<li>
<p>List of commands: Actions to manage the workspace components, such as running the development tools, starting the runtime environments, and others</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example of a minimal devfile with a project</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">petclinic-dev-environment</span></span>
<span style="color:#606">projects</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: petclinic</span></span>
    <span style="color:#606">source</span>:
      <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
      <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">'https://github.com/spring-projects/spring-petclinic.git'</span></span>
<span style="color:#606">components</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: chePlugin</span></span>
    <span style="color:#606">id</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">redhat/java/latest</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="specifying-multiple-projects-in-a-devfile_making-a-workspace-portable-using-a-devfile">Specifying multiple projects in a devfile</h4>
<div class="paragraph">
<p>A single devfile can specify multiple projects. For each project, specify the type of the source repository, its location, and optionally also the directory to which the project should be cloned to.</p>
</div>
<div class="listingblock">
<div class="title">Example of a devfile with two projects</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">example-devfile</span></span>
<span style="color:#606">projects</span>:
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: frontend</span></span>
  <span style="color:#606">source</span>:
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
    <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://github.com/acmecorp/frontend.git</span></span>
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: backend</span></span>
  <span style="color:#606">clonePath</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">src/github.com/acmecorp/backend</span></span>
  <span style="color:#606">source</span>:
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
    <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://github.com/acmecorp/backend.git</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the preceding example, there are two projects defined, <code>frontend</code> and <code>backend</code>. Each project is located in its own repository. The <code>backend</code> project has a specific requirement to be cloned into the <code>src/github.com/acmecorp/backend/</code> directory under the source root (implicitly defined by the Che runtime) while the <code>frontend</code> project will be cloned into the <code>frontend/</code> directory under the source root.</p>
</div>
<div class="paragraph">
<div class="title">Additional resources</div>
<p>For a detailed explanation of all devfile component assignments and possible values, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/redhat-developer/devfile">Specification repository</a></p>
</li>
<li>
<p><a href="https://redhat-developer.github.io/devfile/devfile">detailed json-schema documentation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These sample devfiles are a good source of inspiration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/eclipse/che-devfile-registry/tree/master/devfiles">Sample devfiles for Eclipse Che workspaces used by default in the user interface</a>.</p>
</li>
<li>
<p><a href="https://github.com/redhat-developer/devfile/tree/master/samples">Sample devfiles for Eclipse Che workspaces from Red Hat Developer program</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devfile-reference_making-a-workspace-portable-using-a-devfile">Devfile reference</h3>
<div class="paragraph">
<p>This section contains devfile reference and instructions on how to use the various elements that devfiles consist of.</p>
</div>
<div class="sect3">
<h4 id="adding-components-to-a-devfile">Adding components to a devfile</h4>
<div class="paragraph">
<p>Each component in a single devfile must have a unique name.</p>
</div>
<div class="sect4">
<h5 id="component-type-cheeditor">Component type: cheEditor</h5>
<div class="paragraph">
<p>Describes the editor used in the workspace by defining its <code>id</code>. A devfile can only contain one component of the <code>cheEditor</code> type.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">components</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: theia-editor</span></span>
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">cheEditor</span></span>
    <span style="color:#606">id</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">eclipse/che-theia/next</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When <code>cheEditor</code> is missing, a default editor is provided along with its default plug-ins. The default plug-ins are also provided for an explicitly defined editor with the same <code>id</code> as the default one (even if it is a different version). Che-Theia is configured as default editor along with the <strong>Che Machine Exec</strong> plug-in.</p>
</div>
<div class="paragraph">
<p>To specify that a workspace requires no editor, use the <a href="#attribute-editorfree_making-a-workspace-portable-using-a-devfile"><code>editorFree:true</code> attribute</a> in the devfile attributes.</p>
</div>
</div>
<div class="sect4">
<h5 id="component-type-cheplugin">Component type: chePlugin</h5>
<div class="paragraph">
<p>Describes plug-ins in a workspace by defining their <code>id</code>. It is allowed to have several <code>chePlugin</code> components.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span style="color:#606">components</span>:
   - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: exec-plugin</span></span>
     <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">chePlugin</span></span>
     <span style="color:#606">id</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">eclipse/che-machine-exec-plugin/0.0.1</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Both types above using id, which is slash-separated publisher, name and version of plugin from Che Plugin registry.<br>
List of available Che plugins and more information about registry can be found on <a href="https://github.com/eclipse/che-plugin-registry" class="bare">https://github.com/eclipse/che-plugin-registry</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="specifying-an-alternative-component-registry">Specifying an alternative component registry</h5>
<div class="paragraph">
<p>To specify an alternative registry for the <code>cheEditor</code> and <code>chePlugin</code> component types, use the <code>registryUrl</code> parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span style="color:#606">components</span>:
   - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: exec-plugin</span></span>
     <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">chePlugin</span></span>
     <span style="color:#606">registryUrl</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://my-customregistry.com</span></span>
     <span style="color:#606">id</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">eclipse/che-machine-exec-plugin/0.0.1</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="specifying-a-component-by-linking-to-its-descriptor">Specifying a component by linking to its descriptor</h5>
<div class="paragraph">
<p>An alternative way of specifying <code>cheEditor</code> or <code>chePlugin</code>, instead of using the editor or plug-in <code>id</code> (and optionally an alternative registry), is to provide a direct link to the component descriptor (typically named <code>meta.yaml</code>) by using the <code>reference</code> field:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span style="color:#606">components</span>:
   - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: exec-plugin</span></span>
     <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">chePlugin</span></span>
     <span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://raw.githubusercontent.com.../plugin/1.0.1/meta.yaml</span></span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is not possible to mix the <code>id</code> and <code>reference</code> fields in a single component definition; they are mutually exclusive.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="specifying-container-memory-limit-for-components">Specifying container memory limit for components</h5>
<div class="paragraph">
<p>To specify a container(s) memory limit for <code>cheEditor</code> or <code>chePlugin</code>, use the <code>memoryLimit</code> parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span style="color:#606">components</span>:
   - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: exec-plugin</span></span>
     <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">chePlugin</span></span>
     <span style="color:#606">id</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">eclipse/che-machine-exec-plugin/0.0.1</span></span>
     <span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">256M</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This limit will be applied to every container of the given component.</p>
</div>
</div>
<div class="sect4">
<h5 id="tuning-component-configuration">Tuning component configuration</h5>
<div class="paragraph">
<p>A component may need to be precisely tuned, and in such case, component preferences can be used. The example shows how to configure JVM using plug-in preferences.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span style="color:#606">id</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">redhat/java/0.38.0</span></span>
  <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">chePlugin</span></span>
  <span style="color:#606">preferences</span>:
     <span style="color:#606">java.jdt.ls.vmargs</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">'-noverify -Xmx1G -XX:+UseG1GC -XX:+UseStringDeduplication'</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="component-type-kubernetes">Component type: kubernetes</h5>
<div class="paragraph">
<p>A complex component type that allows to apply configuration from a Kubernetes or OpenShift lists. The content of the component can be provided either via the <code>reference</code> attribute, which points to the file with the component content.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span style="color:#606">components</span>:
    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: mysql</span></span>
      <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubernetes</span></span>
      <span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">petclinic.yaml</span></span>
      <span style="color:#606">selector</span>:
        <span style="color:#606">app.kubernetes.io/name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">mysql</span></span>
        <span style="color:#606">app.kubernetes.io/component</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">database</span></span>
        <span style="color:#606">app.kubernetes.io/part-of</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">petclinic</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, to post a devfile with such components to REST API, the contents of the Kubernetes or OpenShift list can be embedded into the devfile using the <code>referenceContent</code> field:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span style="color:#606">components</span>:
    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: mysql</span></span>
      <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubernetes</span></span>
      <span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">petclinic.yaml</span></span>
      <span style="color:#606">referenceContent</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">|</span><span style="color:#D20">
           kind: List
           items:
            -
             apiVersion: v1
             kind: Pod
             metadata:
              name: ws
             spec:
              containers:
              ... etc</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As with the <a href="#component-type-dockerimage_making-a-workspace-portable-using-a-devfile"><code>dockerimage</code> component</a>, it is possible to override the entrypoint of the containers contained in the Kubernetes or OpenShift list using the <code>command</code> and <code>args</code> properties (as <a href="https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#notes">understood</a> by Kubernetes).</p>
</div>
<div class="paragraph">
<p>There can be more containers in the list (contained in pods or pod templates of deployments). To select which containers to apply the entrypoint changes to.</p>
</div>
<div class="paragraph">
<p>The entrypoints can be defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span style="color:#606">components</span>:
    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: appDeployment</span></span>
      <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubernetes</span></span>
      <span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">app-deployment.yaml</span></span>
      <span style="color:#606">entrypoints</span>:
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">parentName: mysqlServer</span></span>
        <span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['sleep']</span></span>
        <span style="color:#606">args</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['infinity']</span></span>
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">parentSelector:</span><span style="color:#D20">
          app: prometheus</span></span>
        <span style="color:#606">args</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['-f', '/opt/app/prometheus-config.yaml']</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>entrypoints</code> list contains constraints for picking the containers along with the <code>command</code> and <code>args</code> parameters to apply to them. In the example above, the constraint is <code>parentName: mysqlServer</code>, which will cause the command to be applied to all containers defined in any parent object called <code>mysqlServer</code>. The parent object is assumed to be a top level object in the list defined in the referenced file, which is <code>app-deployment.yaml</code> in the example above.</p>
</div>
<div class="paragraph">
<p>Other types of constraints (and their combinations) are possible:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>containerName</code></dt>
<dd>
<p>the name of the container</p>
</dd>
<dt class="hdlist1"><code>parentName</code></dt>
<dd>
<p>the name of the parent object that (indirectly) contains the containers to override</p>
</dd>
<dt class="hdlist1"><code>parentSelector</code></dt>
<dd>
<p>the set of labels the parent object needs to have</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A combination of these constraints can be used to precisely locate the containers inside the referenced Kubernetes list.</p>
</div>
</div>
<div class="sect4">
<h5 id="specifying-mount-sources-option">Specifying mount sources option</h5>
<div class="paragraph">
<p>To specify a project sources directory mount into container(s), use the <code>mountSources</code> parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">   <span style="color:#606">components</span>:
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: appDeployment</span></span>
        <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubernetes</span></span>
        <span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">app-deployment.yaml</span></span>
        <span style="color:#606">mountSources</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If enabled, project sources mounts will be applied to every container of the given component.
This parameter is also applicable for <code>chePlugin</code> type components.</p>
</div>
</div>
<div class="sect4">
<h5 id="component-type-dockerimage_making-a-workspace-portable-using-a-devfile">Component type: dockerimage</h5>
<div class="paragraph">
<p>A component type that allows to define a container image-based configuration of a container in a workspace. A devfile can only contain one component of the <code>dockerimage</code> type. The <code>dockerimage</code> type of component brings in custom tooling into the workspace. The component is identified by its image.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"> <span style="color:#606">components</span>:
   - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: maven</span></span>
     <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dockerimage</span></span>
     <span style="color:#606">image</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">eclipe/maven-jdk8:latest</span></span>
     <span style="color:#606">volumes</span>:
       - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: mavenrepo</span></span>
         <span style="color:#606">containerPath</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">/root/.m2</span></span>
     <span style="color:#606">env</span>:
       - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: ENV_VAR</span></span>
         <span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">value</span></span>
     <span style="color:#606">endpoints</span>:
       - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: maven-server</span></span>
         <span style="color:#606">port</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">3101</span></span>
         <span style="color:#606">attributes</span>:
           <span style="color:#606">protocol</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">http</span></span>
           <span style="color:#606">secure</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">'true'</span></span>
           <span style="color:#606">public</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">'true'</span></span>
           <span style="color:#606">discoverable</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">'false'</span></span>
     <span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1536M</span></span>
     <span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['tail']</span></span>
     <span style="color:#606">args</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['-f', '/dev/null']</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example of a minimal <code>dockerimage</code> component</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
    <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">MyDevfile</span></span>
<span style="color:#606">components</span>:
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dockerimage</span></span>
<span style="color:#606">image</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">golang</span></span>
<span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">512Mi</span></span>
<span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['sleep', 'infinity']</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It specifies the type of the component, <code>dockerimage</code> and the <code>image</code> attribute names the image to be used for the component using the usual docker naming conventions, that is, the above <code>type</code> attribute is equal to <code>docker.io/library/golang:latest</code>.</p>
</div>
<div class="paragraph">
<p>A <code>dockerimage</code> component has many features that enable augmenting the image with additional resources and information needed for meaningful integration of the <strong>tool</strong> provided by the image with Eclipse Che.</p>
</div>
<div class="sect5">
<h6 id="mounting-project-sources">Mounting project sources</h6>
<div class="paragraph">
<p>For the <code>dockerimage</code> component to have access to the project sources, you must set the <code>mountSources</code> attribute to <code>true</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
    <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">MyDevfile</span></span>
<span style="color:#606">components</span>:
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dockerimage</span></span>
<span style="color:#606">image</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">golang</span></span>
<span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">512Mi</span></span>
<span style="color:#606">mountSources</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
<span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['sleep', 'infinity']</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The sources is mounted on a location stored in the <code>CHE_PROJECTS_ROOT</code> environment variable that is made available in the running container of the image. This location defaults to <code>/projects</code>.</p>
</div>
</div>
<div class="sect5">
<h6 id="container-entrypoint">Container Entrypoint</h6>
<div class="paragraph">
<p>The <code>command</code> attribute of the <code>dockerimage</code> along with other arguments, is used to modify the <code>entrypoint</code> command of the container created from the image. In Eclipse Che the container is needed to run indefinitely so that you can connect to it and execute arbitrary commands in it at any time. Because the availability of the <code>sleep</code> command and the support for the <code>infinity</code> argument for it is different and depends on the base image used in the particular images, Che cannot insert this behavior automatically on its own. However, you can take advantage of this feature to, for example, start up necessary servers with modified configurations, etc.</p>
</div>
</div>
<div class="sect5">
<h6 id="persistent-storage">Persistent Storage</h6>
<div class="paragraph">
<p>Docker image tools can specify the custom volumes to be mounted on specific locations within the image. Note that the volume names are shared across all components and therefore this mechanism can also be used to share file systems between components.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
    <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">MyDevfile</span></span>
<span style="color:#606">components</span>:
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dockerimage</span></span>
<span style="color:#606">image</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">golang</span></span>
<span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">512Mi</span></span>
<span style="color:#606">mountSources</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
<span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['sleep', 'infinity']</span></span>
<span style="color:#606">volumes</span>:
    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: cache</span></span>
      <span style="color:#606">containerPath</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">/.cache</span></span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="environment">Environment</h6>
<div class="paragraph">
<p>Eclipse Che allows you to configure Docker containers by modifying the environment variables available in the container of an image.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
    <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">MyDevfile</span></span>
<span style="color:#606">projects</span>:
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">my-go-project</span></span>
<span style="color:#606">source</span>:
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
    <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://github.com/acme/my-go-project.git</span></span>
    <span style="color:#606">clonePath</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">go/src/github.com/acme/my-go-project</span></span>
<span style="color:#606">components</span>:
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dockerimage</span></span>
<span style="color:#606">image</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">golang</span></span>
<span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">512Mi</span></span>
<span style="color:#606">mountSources</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
<span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['sleep', 'infinity']</span></span>
<span style="color:#606">env</span>:
    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: GOPATH</span></span>
      <span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">$(CHE_PROJECTS_ROOT)/go</span></span>
    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: GOCACHE</span></span>
      <span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">/tmp/go-cache</span></span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>The variable expansion works between the environment variables and it uses the Kubernetes convention for the variable references.</p>
</li>
<li>
<p>You can use the predefined variables in your own definitions.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following environment variables are pre-set by the Che server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CHE_PROJECTS_ROOT</code>: The location of the projects directory (note that if the component does not mount the sources, the projects will not be accessible).</p>
</li>
<li>
<p><code>CHE_WORKSPACE_LOGS_ROOT__DIR</code>: The location of the logs common to all the components. If the component chooses to put logs into this directory, the log files are accessible from all other components.</p>
</li>
<li>
<p><code>CHE_API_INTERNAL</code>: The URL to the Che server API endpoint used for communication with the Che server.</p>
</li>
<li>
<p><code>CHE_WORKSPACE_ID</code>: The ID of the current workspace.</p>
</li>
<li>
<p><code>CHE_WORKSPACE_NAME</code>: The name of the current workspace.</p>
</li>
<li>
<p><code>CHE_WORKSPACE_NAMESPACE</code>: The namespace of the current workspace.</p>
</li>
<li>
<p><code>CHE_MACHINE_TOKEN</code>: The token used to authenticate the request against the Che server.</p>
</li>
<li>
<p><code>CHE_MACHINE_AUTH_SIGNATURE<em>PUBLIC</em>KEY</code>: The public key used to secure the communication with the Che server.</p>
</li>
<li>
<p><code>CHE_MACHINE_AUTH_SIGNATURE__ALGORITHM</code>: The encryption algorithm used in the secured communication with the Che server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A devfiles may only need the <code>CHE_PROJECTS_ROOT</code> environment variable to locate the cloned projects in the component&#8217;s container. More advanced devfiles might use the <code>CHE_WORKSPACE_LOGS_ROOT__DIR</code> environment variable to read the logs (for example as part of a devfile command). The environment variables used to securely access the Che server are mostly out of scope for devfiles and are present only for advanced use cases that are usually handled by the Che plug-ins.</p>
</div>
</div>
<div class="sect5">
<h6 id="endpoints">Endpoints</h6>
<div class="paragraph">
<p>You can specify the endpoints that the docker image exposes. These endpoints can be made accessible to the users if the Che cluster is running using a Kubernetes ingress or an OpenShift route and to the other components within the workspace. You can create an endpoint for your application or database, if your application or database server is listening on a port and you want to be able to directly interact with it yourself or you want other components to interact with it.</p>
</div>
<div class="paragraph">
<p>Endpoints have a number of properties as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
    <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">MyDevfile</span></span>
<span style="color:#606">projects</span>:
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">my-go-project</span></span>
<span style="color:#606">source</span>:
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
    <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://github.com/acme/my-go-project.git</span></span>
    <span style="color:#606">clonePath</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">go/src/github.com/acme/my-go-project</span></span>
<span style="color:#606">components</span>:
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dockerimage</span></span>
<span style="color:#606">image</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">golang</span></span>
<span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">512Mi</span></span>
<span style="color:#606">mountSources</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
<span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['sleep', 'infinity']</span></span>
<span style="color:#606">env</span>:
    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: GOPATH</span></span>
      <span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">$(CHE_PROJECTS_ROOT)/go</span></span>
    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: GOCACHE</span></span>
      <span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">/tmp/go-cache</span></span>
<span style="color:#606">endpoints</span>:
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">web</span><span style="color:#D20">
    port: 8080
    attributes:
        discoverable: false
        public: true
        protocol: http</span></span>
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dockerimage</span></span>
<span style="color:#606">image</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span>
<span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">512Mi</span></span>
<span style="color:#606">env</span>:
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">POSTGRES_USER</span></span>
<span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">user</span></span>
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">POSTGRES_PASSWORD</span></span>
<span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">password</span></span>
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">POSTGRES_DB</span><span style="color:#D20">
    value: database</span></span>
<span style="color:#606">endpoints</span>:
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span><span style="color:#D20">
    port: 5432
    attributes:
        discoverable: true
        public: false</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, there are two dockerimages, each defining a single endpoint. Endpoint is an accessible port that can be made accessible inside the workspace or also publicly (example, from the UI). Each endpoint has a name and port, which is the port on which certain server running inside the container is listening. The following are a few attributes that you can set on the endpoint:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>discoverable</code>: If an endpoint is discoverable, it means that it can be accessed using its name as the hostname within the workspace containers (in the Kubernetes parlance, a service is created for it with the provided name).</p>
</li>
<li>
<p><code>public</code>: The endpoint will be accessible outside of the workspace, too (such endpoint can be accessed from the Che user interface). Such endpoints are publicized always on port <code>80</code> or <code>443</code> (depending on whether <code>tls</code> is enabled in Che).</p>
</li>
<li>
<p><code>protocol</code>: For public endpoints the protocol is a hint to the UI on how to construct the URL for the endpoint access. Typical values are <code>http</code>, <code>https</code>, <code>ws</code>, <code>wss</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you start a new server within your component, Che will autodetect this and the UI will offer you to automatically expose this port as a <code>public</code> port. This is useful for debugging a web application, for example. But, it is not possible to do this for servers that autostart with the container (for example, a database server). For such components, you must specify the endpoints explicitly.</p>
</div>
</div>
<div class="sect5">
<h6 id="kubernetes-and-openshift-resources">Kubernetes and OpenShift resources</h6>
<div class="paragraph">
<p>Complex deployments can be described using Kubernetes or OpenShift resource lists that can be referenced in the devfile. This will make them part of the workspace.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Because a Che workspace is internally represented as a single deployment, all resources from the Kubernetes or OpenShift list are merged into that single deployment.</p>
</li>
<li>
<p>You must be careful when designing such lists because this can result in name conflicts and other problems.</p>
</li>
<li>
<p>Only the following subset of the Kubernetes objects are supported: <code>deployments</code>, <code>pods</code>, <code>services</code>, <code>persistent volume claims</code>, <code>secrets</code>, and <code>config maps</code>. Kubernetes ingresses are ignored but OpenShift routes are supported. A workspace created from a devfile using any other object types will fail to start.</p>
</li>
<li>
<p>If you run Che on a Kubernetes cluster, only Kubernetes lists are supported. However, if you run Che on an OpenShift cluster, both Kubernetes and OpenShift lists are supported (because OpenShift is a superset of Kubernetes).</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
    <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">MyDevfile</span></span>
<span style="color:#606">projects</span>:
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">my-go-project</span></span>
<span style="color:#606">source</span>:
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
    <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://github.com/acme/my-go-project.git</span></span>
    <span style="color:#606">clonePath</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">go/src/github.com/acme/my-go-project</span></span>
<span style="color:#606">components</span>:
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubernetes</span></span>
<span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">../relative/path/postgres.yaml</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The preceding component references a file that is relative to the location of the devfile itself. Meaning, this devfile is only loadable by a Che factory to which you supply the location of the devfile and therefore it is able to figure out the location of the referenced Kubernetes resource list.</p>
</div>
<div class="paragraph">
<p>The following is an example of the <code>postgres.yaml</code> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
<span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">List</span></span>
<span style="color:#606">items</span>:
-
    <span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
    <span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Deployment</span></span>
    <span style="color:#606">metadata</span>:
        <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span>
        <span style="color:#606">labels</span>:
            <span style="color:#606">app</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span>
    <span style="color:#606">spec</span>:
        <span style="color:#606">template</span>:
        <span style="color:#606">metadata</span>:
            <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span>
            <span style="color:#606">app</span>:
                <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span>
        <span style="color:#606">spec</span>:
            <span style="color:#606">containers</span>:
            - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">image: postgres</span></span>
              <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span>
              <span style="color:#606">ports</span>:
              - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: postgres</span></span>
                <span style="color:#606">containerPort</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">5432</span></span>
                <span style="color:#606">volumeMounts</span>:
                - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: pg-storage</span></span>
                  <span style="color:#606">mountPath</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">/var/lib/postgresql/data</span></span>
            <span style="color:#606">volumes</span>:
            - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: pg-storage</span></span>
              <span style="color:#606">persistentVolumeClaim</span>:
                  <span style="color:#606">claimName</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">pg-storage</span></span>
-
    <span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
    <span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Service</span></span>
    <span style="color:#606">metadata</span>:
        <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span>
        <span style="color:#606">labels</span>:
            <span style="color:#606">app</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span>
            <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span>
    <span style="color:#606">spec</span>:
        <span style="color:#606">ports</span>:
            - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">port: 5432</span></span>
              <span style="color:#606">targetPort</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">5432</span></span>
        <span style="color:#606">selector</span>:
            <span style="color:#606">app</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span>
-
    <span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
    <span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">PersistentVolumeClaim</span></span>
    <span style="color:#606">metadata</span>:
        <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">pg-storage</span></span>
      <span style="color:#606">labels</span>:
        <span style="color:#606">app</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span>
    <span style="color:#606">spec</span>:
        <span style="color:#606">accessModes</span>:
         - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">ReadWriteOnce</span></span>
        <span style="color:#606">resources</span>:
            <span style="color:#606">requests</span>:
                <span style="color:#606">storage</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1Gi</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For a basic example of a devfile with an associated Kubernetes or OpenShift list, see <a href="https://github.com/redhat-developer/devfile/tree/master/samples/web-nodejs-with-db-sample" class="bare">https://github.com/redhat-developer/devfile/tree/master/samples/web-nodejs-with-db-sample</a>.</p>
</div>
<div class="paragraph">
<p>If you use generic or large resource lists from which you will only need a subset of resources, you can select particular resources from the list using a selector (which, as the usual Kubernetes selectors, works on the labels of the resources in the list).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
    <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">MyDevfile</span></span>
<span style="color:#606">projects</span>:
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">my-go-project</span></span>
<span style="color:#606">source</span>:
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
    <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://github.com/acme/my-go-project.git</span></span>
    <span style="color:#606">clonePath</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">go/src/github.com/acme/my-go-project</span></span>
<span style="color:#606">components</span>:
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubernetes</span></span>
<span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">../relative/path/postgres.yaml</span></span>
<span style="color:#606">selector</span>:
    <span style="color:#606">app</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">postgres</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Additionally, it is also possible to modify the entrypoints (command and arguments) of the containers present in the resource list. For details of the advanced use case, see the reference (TODO: link).</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="adding-commands-to-a-devfile">Adding commands to a devfile</h4>
<div class="paragraph">
<p>A devfile allows to specify commands to be available for execution in a workspace. Every command can contain a subset of actions, which are related to a specific component in whose container it will be executed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"> <span style="color:#606">commands</span>:
   - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: build</span></span>
     <span style="color:#606">actions</span>:
       - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: exec</span></span>
         <span style="color:#606">component</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">mysql</span></span>
         <span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">mvn clean</span></span>
         <span style="color:#606">workdir</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">/projects/spring-petclinic</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use commands to automate the workspace. You can define commands for building and testing your code, or cleaning the database.</p>
</div>
<div class="paragraph">
<p>The following are two kinds of commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Che specific commands: You have full control over what component executes the command.</p>
</li>
<li>
<p>Editor specific commands: You can use the editor-specific command definitions (example: <code>tasks.json</code> and <code>launch.json</code> in Theia, which is equivalent to how these files work in VS Code).</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="che-specific-commands">Che-specific commands</h5>
<div class="paragraph">
<p>Each che-specific command has an <strong>action</strong> attribute that is a command to execute and a <strong>component</strong> attribute that specifies the container in which the command should be executed. The commands are run using the default shell in the container.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
    <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">MyDevfile</span></span>
<span style="color:#606">projects</span>:
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">my-go-project</span></span>
<span style="color:#606">source</span>:
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
    <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://github.com/acme/my-go-project.git</span></span>
    <span style="color:#606">clonePath</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">go/src/github.com/acme/my-go-project</span></span>
<span style="color:#606">components</span>:
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dockerimage</span></span>
<span style="color:#606">image</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">golang</span></span>
<span style="color:#606">alias</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">go-cli</span></span>
<span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">512Mi</span></span>
<span style="color:#606">mountSources</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
<span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['sleep', 'infinity']</span></span>
<span style="color:#606">env</span>:
    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: GOPATH</span></span>
      <span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">$(CHE_PROJECTS_ROOT)/go</span></span>
    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: GOCACHE</span></span>
      <span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">/tmp/go-cache</span></span>
<span style="color:#606">commands</span>:
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: compile and run</span></span>
  <span style="color:#606">actions</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: exec</span></span>
    <span style="color:#606">component</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">go-cli</span></span>
    <span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">“go get -d &amp;&amp; go run main.go”</span></span>
    <span style="color:#606">workdir</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">“${CHE_PROJECTS_ROOT}/src/github.com/acme/my-go-project”</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>If a component to be used in a command must have an alias. This alias is used to reference the component in the command definition. Example: <code>alias: go-cli</code> in the component definition and <code>component: go-cli</code> in the command definition. This ensures that Eclipse Che can find the correct container to run the command in.</p>
</li>
<li>
<p>A command can have only one action.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="editor-specific-commands">Editor-specific commands</h5>
<div class="paragraph">
<p>If the editor in the workspace supports it, the devfile can specify additional configuration in the editor-specific format. This is dependent on the integration code present in the workspace editor itself and so is not a generic mechanism. However, the default Theia editor within Eclipse Che is equipped to understand the <code>tasks.json</code> and <code>launch.json</code> files provided in the devfile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
    <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">MyDevfile</span></span>
<span style="color:#606">projects</span>:
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">my-go-project</span></span>
<span style="color:#606">source</span>:
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
    <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://github.com/acme/my-go-project.git</span></span>
    <span style="color:#606">clonePath</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">go/src/github.com/acme/my-go-project</span></span>
<span style="color:#606">commands</span>:
        - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: tasks</span></span>
          <span style="color:#606">actions</span>:
          - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: vscode-task</span></span>
            <span style="color:#606">referenceContent</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&gt;</span><span style="color:#D20">
                {
                    &quot;version&quot;: &quot;2.0.0&quot;,
                    &quot;tasks&quot;: [
                        {
                            &quot;label&quot;: &quot;create test file&quot;,
                            &quot;type&quot;: &quot;shell&quot;,
                            &quot;command&quot;: &quot;touch ${workspaceFolder}/test.file&quot;
                        }
                    ]
                }</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This example shows association of a <code>tasks.json</code> file with a devfile. Notice the <code>vscode-task</code> type that instructs the Che-Theia editor to interpret this command as a tasks definition and <code>referenceContent</code> attribute that contains the contents of the file itself. You can also save this file separately from the devfile and use <code>reference</code> attribute to specify a relative or absolute URL to it.</p>
</div>
<div class="paragraph">
<p>In addition to the <code>vscode-task</code> commands, the Che-Theia editor understands <code>vscode-launch</code> type using which you can specify the launch configurations.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devfile-attributes">Devfile attributes</h4>
<div class="paragraph">
<p>Devfile attributes can be used to configure various features.</p>
</div>
<div class="sect4">
<h5 id="attribute-editorfree_making-a-workspace-portable-using-a-devfile">Attribute: editorFree</h5>
<div class="paragraph">
<p>When an editor is not specified in a devfile, a default is provided. When no editor is needed, the <code>editorFree</code> attribute should be used. The default value is <code>false</code>, and it means that the devfile needs the default editor to be provisioned.</p>
</div>
<div class="listingblock">
<div class="title">Example of a devfile without an editor</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">petclinic-dev-environment</span></span>
<span style="color:#606">components</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: myApp</span></span>
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubernetes</span></span>
    <span style="color:#606">local</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">my-app.yaml</span></span>
<span style="color:#606">attributes</span>:
  <span style="color:#606">editorFree</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="attribute-persistvolumes-ephemeral-mode">Attribute: persistVolumes (ephemeral mode)</h5>
<div class="paragraph">
<p>By default, volumes and PVCs specified in a devfile are bound to a host folder to persist data even after a container restart. Sometimes, it may be necessary to disable data persistence, such as when volume backend is slow, and it is needed to make workspace faster. To achieve it, the <code>persistVolumes</code> devfile attribute should be used. The default value is <code>true</code>, and in case of <code>false</code>, <code>emptyDir</code> volumes will be used for configured volumes and PVC.</p>
</div>
<div class="listingblock">
<div class="title">Example of a devfile with ephemeral mode enabled</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">petclinic-dev-environment</span></span>
<span style="color:#606">projects</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: petclinic</span></span>
    <span style="color:#606">source</span>:
      <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
      <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">'https://github.com/che-samples/web-java-spring-petclinic.git'</span></span>
<span style="color:#606">attributes</span>:
  <span style="color:#606">persistVolumes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">false</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="objects-supported-in-eclipse-che">Objects supported in Eclipse Che 7</h3>
<div class="paragraph">
<p>The following table lists the objects that are partially supported in Eclipse Che 7:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 55.5556%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Object</th>
<th class="tableblock halign-left valign-top">API</th>
<th class="tableblock halign-left valign-top">Kubernetes Infra</th>
<th class="tableblock halign-left valign-top">OpenShift Infra</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pod</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deployment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConfigMap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PVC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secret</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ingress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minishift allows you to create Ingress and it works when the host is specified (OpenShift creates a route for it). But, the <code>loadBalancer</code> IP is not provisioned. To add Ingress support for the OpenShift infrastructure node, generate routes based on the provided Ingress.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Route</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The OpenShift recipe must be made compatible with the Kubernetes Infrastructure and, instead of the provided route, generate Ingress.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Template</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Kubernetes API does not support templates. A workspace with a template in the recipe starts successfully and the default parameters are resolved.</p></td>
</tr>
</tbody>
</table>
<hr>
<div class="paragraph">
<p>title: Converting a Che 6 workspace to a Che 7 devfile
keywords:
tags: []
sidebar: che_7_docs
permalink: che-7/converting-a-che-6-workspace-to-a-che-7-devfile/
folder: che-7/end-user-guide
summary:
---</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="converting-a-che-6-workspace-to-a-che-7-devfile">Converting a Che 6 workspace to a Che 7 devfile</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to manually convert an old Che 6 workspace configuration to a Che 7 devfile. The following are the benefits of using a Che 7 devfile:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Using a portable file that works with any installation of Che; nothing needs to be changed on the server to start a workspace.</p>
</li>
<li>
<p>Configuration can be stored in project repository and automatically used by Che to start a workspace. To start a workspace, specify a devfile using the following format: <code><em>&lt;che-instance-domain&gt;</em>/f?url=path</code>, for example:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>https://che.openshift.io/f?url=https://raw.githubusercontent.com/redhat-developer/devfile/master/getting-started/vertx/devfile.yaml</pre>
</div>
</div>
<div class="paragraph">
<p>This creates and starts a new workspace based on the <a href="https://github.com/redhat-developer/devfile/blob/master/getting-started/vertx/devfile.yaml">devfile</a> defined in the URL attribute.
* A human-readable YAML format for all content.</p>
</div>
<div class="paragraph">
<p>Below, there is a comparison of a <strong>Che 6 workspace configuration</strong> and a <strong>Che 7 devfile</strong>. Both are <strong>Java Vert.x</strong> stacks with a default project and default settings:</p>
</div>
<div class="listingblock">
<div class="title">Che 6 configuration file</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span style="color:#606"><span style="color:#404">&quot;</span><span>defaultEnv</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">default</span><span style="color:#710">&quot;</span></span>,
  <span style="color:#606"><span style="color:#404">&quot;</span><span>environments</span><span style="color:#404">&quot;</span></span>: {
    <span style="color:#606"><span style="color:#404">&quot;</span><span>default</span><span style="color:#404">&quot;</span></span>: {
      <span style="color:#606"><span style="color:#404">&quot;</span><span>machines</span><span style="color:#404">&quot;</span></span>: {
        <span style="color:#606"><span style="color:#404">&quot;</span><span>dev-machine</span><span style="color:#404">&quot;</span></span>: {
          <span style="color:#606"><span style="color:#404">&quot;</span><span>attributes</span><span style="color:#404">&quot;</span></span>: {
            <span style="color:#606"><span style="color:#404">&quot;</span><span>memoryLimitBytes</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">2147483648</span><span style="color:#710">&quot;</span></span>
          },
          <span style="color:#606"><span style="color:#404">&quot;</span><span>servers</span><span style="color:#404">&quot;</span></span>: {
            <span style="color:#606"><span style="color:#404">&quot;</span><span>8080/tcp</span><span style="color:#404">&quot;</span></span>: {
              <span style="color:#606"><span style="color:#404">&quot;</span><span>attributes</span><span style="color:#404">&quot;</span></span>: {},
              <span style="color:#606"><span style="color:#404">&quot;</span><span>port</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">8080</span><span style="color:#710">&quot;</span></span>,
              <span style="color:#606"><span style="color:#404">&quot;</span><span>protocol</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">http</span><span style="color:#710">&quot;</span></span>
            }
          },
          <span style="color:#606"><span style="color:#404">&quot;</span><span>volumes</span><span style="color:#404">&quot;</span></span>: {},
          <span style="color:#606"><span style="color:#404">&quot;</span><span>installers</span><span style="color:#404">&quot;</span></span>: [
            <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">com.redhat.oc-login</span><span style="color:#710">&quot;</span></span>,
            <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">com.redhat.bayesian.lsp</span><span style="color:#710">&quot;</span></span>,
            <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">org.eclipse.che.ls.java</span><span style="color:#710">&quot;</span></span>,
            <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">org.eclipse.che.ws-agent</span><span style="color:#710">&quot;</span></span>,
            <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">org.eclipse.che.exec</span><span style="color:#710">&quot;</span></span>,
            <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">org.eclipse.che.terminal</span><span style="color:#710">&quot;</span></span>
          ],
          <span style="color:#606"><span style="color:#404">&quot;</span><span>env</span><span style="color:#404">&quot;</span></span>: {}
        }
      },
      <span style="color:#606"><span style="color:#404">&quot;</span><span>recipe</span><span style="color:#404">&quot;</span></span>: {
        <span style="color:#606"><span style="color:#404">&quot;</span><span>type</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">dockerimage</span><span style="color:#710">&quot;</span></span>,
        <span style="color:#606"><span style="color:#404">&quot;</span><span>content</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">quay.io/openshiftio/che-vertx</span><span style="color:#710">&quot;</span></span>
      }
    }
  },
  <span style="color:#606"><span style="color:#404">&quot;</span><span>projects</span><span style="color:#404">&quot;</span></span>: [
    {
      <span style="color:#606"><span style="color:#404">&quot;</span><span>links</span><span style="color:#404">&quot;</span></span>: [],
      <span style="color:#606"><span style="color:#404">&quot;</span><span>name</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">vertx-http-booster</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>attributes</span><span style="color:#404">&quot;</span></span>: {
        <span style="color:#606"><span style="color:#404">&quot;</span><span>language</span><span style="color:#404">&quot;</span></span>: [
          <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">java</span><span style="color:#710">&quot;</span></span>
        ]
      },
      <span style="color:#606"><span style="color:#404">&quot;</span><span>type</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">maven</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>source</span><span style="color:#404">&quot;</span></span>: {
        <span style="color:#606"><span style="color:#404">&quot;</span><span>location</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://github.com/openshiftio-vertx-boosters/vertx-http-booster</span><span style="color:#710">&quot;</span></span>,
        <span style="color:#606"><span style="color:#404">&quot;</span><span>type</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">git</span><span style="color:#710">&quot;</span></span>,
        <span style="color:#606"><span style="color:#404">&quot;</span><span>parameters</span><span style="color:#404">&quot;</span></span>: {}
      },
      <span style="color:#606"><span style="color:#404">&quot;</span><span>path</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/vertx-http-booster</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>description</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">HTTP Vert.x Booster</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>problems</span><span style="color:#404">&quot;</span></span>: [],
      <span style="color:#606"><span style="color:#404">&quot;</span><span>mixins</span><span style="color:#404">&quot;</span></span>: []
    }
  ],
  <span style="color:#606"><span style="color:#404">&quot;</span><span>name</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">wksp-jhwp</span><span style="color:#710">&quot;</span></span>,
  <span style="color:#606"><span style="color:#404">&quot;</span><span>commands</span><span style="color:#404">&quot;</span></span>: [
    {
      <span style="color:#606"><span style="color:#404">&quot;</span><span>commandLine</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">scl enable rh-maven33 'mvn compile vertx:debug -f ${current.project.path} -Dvertx.disableDnsResolver=true'</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>name</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">debug</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>attributes</span><span style="color:#404">&quot;</span></span>: {
        <span style="color:#606"><span style="color:#404">&quot;</span><span>goal</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Debug</span><span style="color:#710">&quot;</span></span>,
        <span style="color:#606"><span style="color:#404">&quot;</span><span>previewUrl</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${server.8080/tcp}</span><span style="color:#710">&quot;</span></span>
      },
      <span style="color:#606"><span style="color:#404">&quot;</span><span>type</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">custom</span><span style="color:#710">&quot;</span></span>
    },
    {
      <span style="color:#606"><span style="color:#404">&quot;</span><span>commandLine</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">scl enable rh-maven33 'mvn compile vertx:run -f ${current.project.path} -Dvertx.disableDnsResolver=true'</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>name</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">run</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>attributes</span><span style="color:#404">&quot;</span></span>: {
        <span style="color:#606"><span style="color:#404">&quot;</span><span>goal</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Run</span><span style="color:#710">&quot;</span></span>,
        <span style="color:#606"><span style="color:#404">&quot;</span><span>previewUrl</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${server.8080/tcp}</span><span style="color:#710">&quot;</span></span>
      },
      <span style="color:#606"><span style="color:#404">&quot;</span><span>type</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">custom</span><span style="color:#710">&quot;</span></span>
    },
    {
      <span style="color:#606"><span style="color:#404">&quot;</span><span>commandLine</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">scl enable rh-maven33 'mvn clean install -f ${current.project.path}'</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>name</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">build</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>attributes</span><span style="color:#404">&quot;</span></span>: {
        <span style="color:#606"><span style="color:#404">&quot;</span><span>goal</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Build</span><span style="color:#710">&quot;</span></span>,
        <span style="color:#606"><span style="color:#404">&quot;</span><span>previewUrl</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>
      },
      <span style="color:#606"><span style="color:#404">&quot;</span><span>type</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">mvn</span><span style="color:#710">&quot;</span></span>
    },
    {
      <span style="color:#606"><span style="color:#404">&quot;</span><span>commandLine</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">mvn -Duser.home=${HOME} -f ${CHE_PROJECTS_ROOT}/vertx-http-booster clean package</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>name</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">vertx-http-booster:build</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>attributes</span><span style="color:#404">&quot;</span></span>: {
        <span style="color:#606"><span style="color:#404">&quot;</span><span>goal</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Build</span><span style="color:#710">&quot;</span></span>,
        <span style="color:#606"><span style="color:#404">&quot;</span><span>previewUrl</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>
      },
      <span style="color:#606"><span style="color:#404">&quot;</span><span>type</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">mvn</span><span style="color:#710">&quot;</span></span>
    },
    {
      <span style="color:#606"><span style="color:#404">&quot;</span><span>commandLine</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">mvn -Duser.home=${HOME} -f ${CHE_PROJECTS_ROOT}/vertx-http-booster vertx:run</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>name</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">vertx-http-booster:run</span><span style="color:#710">&quot;</span></span>,
      <span style="color:#606"><span style="color:#404">&quot;</span><span>attributes</span><span style="color:#404">&quot;</span></span>: {
        <span style="color:#606"><span style="color:#404">&quot;</span><span>goal</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Run</span><span style="color:#710">&quot;</span></span>,
        <span style="color:#606"><span style="color:#404">&quot;</span><span>previewUrl</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${server.8080/tcp}</span><span style="color:#710">&quot;</span></span>
      },
      <span style="color:#606"><span style="color:#404">&quot;</span><span>type</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">mvn</span><span style="color:#710">&quot;</span></span>
    }
  ],
  <span style="color:#606"><span style="color:#404">&quot;</span><span>links</span><span style="color:#404">&quot;</span></span>: []
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Che 7 devfile</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">metadata</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">testing-workspace</span></span>
<span style="color:#606">projects</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: java-web-vertx</span></span>
    <span style="color:#606">source</span>:
      <span style="color:#606">location</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">'https://github.com/che-samples/web-java-vertx'</span></span>
      <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">git</span></span>
<span style="color:#606">components</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">id: redhat/java/latest</span></span>
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">chePlugin</span></span>
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">mountSources: true</span></span>
    <span style="color:#606">endpoints</span>:
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: 8080/tcp</span></span>
        <span style="color:#606">port</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">8080</span></span>
    <span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">512Mi</span></span>
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dockerimage</span></span>
    <span style="color:#606">volumes</span>:
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: m2</span></span>
        <span style="color:#606">containerPath</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">/home/user/.m2</span></span>
    <span style="color:#606">alias</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">maven</span></span>
    <span style="color:#606">image</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">'quay.io/eclipse/che-java8-maven:nightly'</span></span>
<span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">commands</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: maven build</span></span>
    <span style="color:#606">actions</span>:
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">workdir: '${CHE_PROJECTS_ROOT}/java-web-vertx'</span></span>
        <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">exec</span></span>
        <span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">'mvn -Duser.home=${HOME} clean install'</span></span>
        <span style="color:#606">component</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">maven</span></span>
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: run app</span></span>
    <span style="color:#606">actions</span>:
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">workdir: '${CHE_PROJECTS_ROOT}/java-web-vertx'</span></span>
        <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">exec</span></span>
        <span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&gt;</span><span style="color:#D20">
          JDBC_URL=jdbc:h2:/tmp/db \

          java -jar -Xdebug
          -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005 \

          ./target/*fat.jar</span></span>
        <span style="color:#606">component</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">maven</span></span>
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: Debug remote java application</span></span>
    <span style="color:#606">actions</span>:
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">referenceContent: |</span><span style="color:#D20">
          {
          &quot;version&quot;: &quot;0.2.0&quot;,
          &quot;configurations&quot;: [
            {
              &quot;type&quot;: &quot;java&quot;,
              &quot;name&quot;: &quot;Debug (Attach) - Remote&quot;,
              &quot;request&quot;: &quot;attach&quot;,
              &quot;hostName&quot;: &quot;localhost&quot;,
              &quot;port&quot;: 5005
            }]
          }</span></span>
        <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">vscode-launch</span></span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="converting-a-che-6-workspace-to-a-basic-che-7-devfile_converting-a-che-6-workspace-to-a-che-7-devfile">Converting a Che 6 workspace to a basic Che 7 devfile</h3>
<div class="paragraph">
<p>This section describes how to convert a Che 6 workspace to a Che 7 devfile. The result is a basic Che 7 devfile that can be used for further workspace creation.</p>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To convert a Che 6 workspace to a Che 7 devfile:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open an old Che 6 configuration file to identify which Che 6 stack is used in the workspace. Below, there is a detailed guide for  <a href="#accessing-che-6-workspace-configuration_converting-a-che-6-workspace-to-a-che-7-devfile">Accessing a Che 6 workspace configuration</a>.</p>
</li>
<li>
<p>Create a new workspace from the Che 7 devfile that corresponds to the Che 6 stack.</p>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Che 7 devfile corresponding to the respective Che 6 stacks.</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Che 6 stacks</th>
<th class="tableblock halign-left valign-top">Che 7 devfile</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Camel based projects,<br>
Apache Camel based projects on Che 7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Camel based on Spring Boot</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">.NET,<br>
.NET Core with Theia IDE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.NET Core</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Go,<br>
CentOS Go,<br>
Go with Theia IDE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Go</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java Gradle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java Gradle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blank,<br>
Java,<br>
Java-MySQL,<br>
Eclipse Che,<br>
Java CentOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java Maven</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node,<br>
CentOS nodejs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NodeJS Express Web Application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Python,<br>
Python with Theia IDE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Python</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eclipse Vert.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java Vert.x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PHP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PHP Simple</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spring Boot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java Spring Boot</p></td>
</tr>
</tbody>
</table>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>By default, the example project is added to the workspace. To remove the default project, click the <b class="button">Remove</b> button:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/remove-default-project.png"><img src="/che/docs/images/workspaces/remove-default-project.png" alt="remove default project"></a>
</div>
</div>
</li>
<li>
<p>To import a custom project that was used in Che 6 workspace, click the <strong>Add or Import Project</strong> and select <strong>Git</strong> or <strong>GitHub</strong> option:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/add-custom-project.png"><img src="/che/docs/images/workspaces/add-custom-project.png" alt="add custom project"></a>
</div>
</div>
</li>
<li>
<p>Various commands can be added to devfiles of imported projects, for example, <code>run</code>, <code>build</code>, and  <code>test</code>. The commands are then accessible from the IDE when a workspace is started. Custom commands and other devfile components can be added in the <strong>Devfile</strong> configuration.</p>
</li>
<li>
<p>Click the <b class="button">Create &amp; Proceed Editing</b> button.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/create-and-edit.png"><img src="/che/docs/images/workspaces/create-and-edit.png" alt="create and edit"></a>
</div>
</div>
<div class="paragraph">
<p>Select the <strong>Devfile</strong> tab to update the configuration. Machine servers in Che 6 workspaces can be specified as components endpoints in a Devfile and Che 6 installers as components of type chePlugin. See the <a href="https://redhat-developer.github.io/devfile/devfile">Devfile specification</a> for the detailed information about the supported properties and attributes.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/update-devfile-configuration.png"><img src="/che/docs/images/workspaces/update-devfile-configuration.png" alt="update devfile configuration"></a>
</div>
</div>
</li>
<li>
<p>Once the <strong>Devfile</strong> configuration is completed, click the <b class="button">Open</b> button to start a newly created Che 7 workspace.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="accessing-che-6-workspace-configuration_converting-a-che-6-workspace-to-a-che-7-devfile">Accessing a Che 6 workspace configuration</h3>
<div class="paragraph">
<p>Che 6 workspace configuration is not supported in Che 7 but can be accessed for further conversion to a devfile.</p>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To access the Che 6 workspace configuration:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>Dashboard</strong>, click the <strong>Workspaces</strong> menu to open the workspaces list and locate the workspace to migrate to Che 7.</p>
</li>
<li>
<p>In the <strong>Actions</strong> column, click the <strong>Configure workspace</strong> icon. The raw workspace configuration is available under the <strong>Config</strong> tab.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/configure-workspace-button.png" alt="configure workspace button">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/config-workspace-code.png" alt="config workspace code">
</div>
</div>
</li>
</ol>
</div>
<hr>
<div class="paragraph">
<p>title: Creating and configuring a new Che 7 workspace
keywords:
tags: []
sidebar: che_7_docs
permalink: che-7/creating-and-configuring-a-new-che-7-workspace/
folder: che-7/end-user-guide
summary:
---</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-and-configuring-a-new-che-7-workspace">Creating and configuring a new Che 7 workspace</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="creating-a-new-workspace-from-the-dashboard_creating-and-configuring-a-new-che-7-workspace">Creating a new workspace from the dashboard</h3>
<div class="paragraph">
<p>This procedure describes how to create and edit a new Che 7 devfile using the <strong>Dashboard</strong>.</p>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To edit the devfile:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>Workspaces</strong> window, click the <b class="button">Add Workspace</b> button.</p>
</li>
<li>
<p>In the <strong>SELECT STACK</strong> list, select one of the default stacks.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/stack-list.png"><img src="/che/docs/images/workspaces/stack-list.png" alt="stack list"></a>
</div>
</div>
</li>
<li>
<p>Click the <b class="button">Create &amp; Proceed Editing</b> button. The <strong>Workspaces &#8594; Configs</strong> page is shown.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/workspaces-config-page.png"><img src="/che/docs/images/workspaces/workspaces-config-page.png" alt="workspaces config page"></a>
</div>
</div>
</li>
<li>
<p>Change the workspace name and click the <strong>Devfile</strong> tab.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/workspace-devfile-tab.png"><img src="/che/docs/images/workspaces/workspace-devfile-tab.png" alt="workspace devfile tab"></a>
</div>
</div>
</li>
<li>
<p>Delete all the <strong>components</strong> and <strong>commands</strong> in the devfile to get an empty devfile.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/workspace-empty-devfile.png" alt="workspace empty devfile">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="adding-projects-to-your-workspace_creating-and-configuring-a-new-che-7-workspace">Adding projects to your workspace</h3>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To add a project to your workspace:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the <strong>Projects</strong> tab, and then click the <b class="button">Add Project</b> button.</p>
</li>
<li>
<p>Select the type of the project. Choose from: <strong>Samples</strong>, <strong>Blank</strong>, <strong>Git</strong>, <strong>GitHub</strong>, or <strong>Zip</strong>.</p>
</li>
<li>
<p>Fill in the required details for the project type that you selected, and click the <b class="button">Add</b> button.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/projects-add-project.png"><img src="/che/docs/images/workspaces/projects-add-project.png" alt="projects add project"></a>
</div>
</div>
</li>
<li>
<p>To add another project to the workspace, click the <b class="button">Add Project</b> button.</p>
</li>
<li>
<p>After configuring the project for the workspace, check the change in the devfile, which is the configuration file of the workspace, by opening the <strong>Devfile</strong> tab.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/devfile-tab-to-view.png"><img src="/che/docs/images/workspaces/devfile-tab-to-view.png" alt="devfile tab to view"></a>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configuring-the-workspace-and-adding-tooling_creating-and-configuring-a-new-che-7-workspace">Configuring the workspace and adding tooling</h3>
<div class="sect3">
<h4 id="adding-plug-ins">Adding plug-ins</h4>
<div class="paragraph">
<p>Che 7 plug-ins replace Che 6 installers. The following table lists the Che 7 plug-ins that have replaced Che 6 installers.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Che 7 plug-ins that have replaced Che 6 installers</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Che 6 installer</th>
<th class="tableblock halign-left valign-top">Che 7 plug-in</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.eclipse.che.ws-agent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deprecated and not necessary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.eclipse.che.terminal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deprecated and not necessary anymore-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.eclipse.che.exec</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Che machine-exec Service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.eclipse.che.ls.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Language Support for Java</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To add plug-ins to your workspace:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the <strong>Plugins</strong> tab.</p>
</li>
<li>
<p>Enable the plug-in that you want to add and click the <b class="button">Save</b> button.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/adding-pluggins-to-workspace.png"><img src="/che/docs/images/workspaces/adding-pluggins-to-workspace.png" alt="adding pluggins to workspace"></a>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="defining-the-workspace-editor">Defining the workspace editor</h4>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To define the editor to use with the workspace:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the <strong>Editors</strong> tab.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The recommended editor for Che 7 is Che-Theia.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Enable the editor to add and click the <b class="button">Save</b> button.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/defining-the-workspace-editor.png"><img src="/che/docs/images/workspaces/defining-the-workspace-editor.png" alt="defining the workspace editor"></a>
</div>
</div>
</li>
<li>
<p>Click the <strong>Devfile</strong> tab to view the changes.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/workspace-devfile.png" alt="workspace devfile">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="defining-specific-container-images">Defining specific container images</h4>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To add a new container image:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy the following section from the <strong>devfile</strong> into <strong>components</strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">mountSources: true</span><span style="color:#D20">
   command:
     - sleep
   args:
     - infinity
   memoryLimit: 1Gi
   alias: maven3-jdk11
   type: dockerimage
   endpoints:
     - name: 8080/tcp
       port: 8080
   volumes:
     - name: projects
       containerPath: /projects
   image: 'maven:3.6.0-jdk-11'</span></span></code></pre>
</div>
</div>
</li>
<li>
<p>When using <code>type: kubernetes</code> or <code>type: openshift</code>, you must:</p>
<div class="ulist">
<ul>
<li>
<p>Use seperate recipe files.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To use separate recipe files, the paths can be relative or absolute. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#f8f;background:#505"><span style="color:#f4f">...</span></span>
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubernetes</span></span>
    <span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">deploy_k8s.yaml</span></span>
<span style="color:#f8f;background:#505"><span style="color:#f4f">...</span></span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#f8f;background:#505"><span style="color:#f4f">...</span></span>
    <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">openshift</span></span>
    <span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">deploy_openshift.yaml</span></span>
<span style="color:#f8f;background:#505"><span style="color:#f4f">...</span></span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Alternatively, add the content as <code>referenceContent</code> (the <code>referenceContent</code> field replaces the Che 6 recipe content).</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/che-6-workspace-configuration.png" alt="che 6 workspace configuration">
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Add a Che 6 recipe content to the Che 7 devfile as <code>referenceContent</code>:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click the <strong>Containers</strong> tab (<strong>Workspace</strong> &#8594; <strong>Details</strong> &#8594; <strong>Containers</strong>).</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/edit-the-container.png"><img src="/che/docs/images/workspaces/edit-the-container.png" alt="edit the container"></a>
</div>
</div>
</li>
<li>
<p>Copy the Che 6 recipe, and paste it into the separate Che 7 component as a <strong>referenceContent</strong>.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/component_as_a_referenceContent.png"><img src="/che/docs/images/workspaces/component_as_a_referenceContent.png" alt="component as a referenceContent"></a>
</div>
</div>
</li>
<li>
<p>Set the type from the original Che 6 configuration. The following is an example of the resulting file:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubernetes</span></span>
  <span style="color:#606">referenceContent</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">|</span><span style="color:#D20">
    apiVersion: v1
    kind: Pod
    metadata:
     name: ws
    spec:
     containers:
      -
       image: 'rhche/centos_jdk8:latest'
       name: dev
       resources:
       limits:
         memory: 512Mi</span></span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Copy the required fields from the old workspace (<code>image</code>, <code>volumes</code>, <code>endpoints</code>). For example:</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/workspace_configuration_che_6.png" alt="workspace configuration che 6">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/workspace_devfile_che_7_.png" alt="workspace devfile che 7 ">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Сhe 6 and Сhe 7 equivalence table</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Che 6 workspace configuration</th>
<th class="tableblock halign-left valign-top">Che 7 workspace devfile</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>environments['defaultEnv'].machines['target'].servers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components[n].endpoints</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>environments['defaultEnv'].machines['machineName'].volumes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components[n].volumes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>environments['defaultEnv'].recipe.type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components[n].type</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>environments['defaultEnv'].recipe.content</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components[n].image</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Change the <code>memoryLimit</code> and <code>alias</code> variables, if needed. Here, the field <code>alias</code> is used to set a name for the component. It is generated automatically from the <code>image</code> field, if not set.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span style="color:#606">image</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">'maven:3.6.0-jdk-11'</span></span>
  <span style="color:#606">alias</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">maven3-jdk11</span></span></code></pre>
</div>
</div>
</li>
<li>
<p>Change the <code>memoryLimit</code> field to specify the <code>RAM</code> required for the component.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span style="color:#606">alias</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">maven3-jdk11</span></span>
  <span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">256M</span></span></code></pre>
</div>
</div>
</li>
<li>
<p>Open the <strong>Devfile</strong> tab to see the changes.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/devfile-tab.png" alt="devfile tab">
</div>
</div>
</li>
<li>
<p>Repeat the steps to add additional container images.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="adding-commands-to-your-workspace">Adding commands to your workspace</h4>
<div class="paragraph">
<p>The following is a comparison between workspace configuration commands in Che 6 (Figure 1) and Che 7 (Figure 2):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/che-6-workspace-configuration.png" alt="che 6 workspace configuration">
</div>
<div class="title">Figure 1. An example of the Workspace configuration commands in Che 6</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/workspace-devfile.png" alt="workspace devfile">
</div>
<div class="title">Figure 2. An example of the Workspace configuration commands in Che 7</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Сhe 6 and Сhe 7 equivalence table</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Che 6 workspace configuration</th>
<th class="tableblock halign-left valign-top">Che 7 workspace devfile</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>environments['defaultEnv'].commands[n].name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commands[n].name</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>environments['defaultEnv'].commands[n].actions.command</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>components[n].commandLine</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To define commands to your workspace, edit the workspace devfile:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add (or replace) the <code>commands</code> section with the first command. Change the <code>name</code> and the <code>command</code> fields from the original workspace configuration (see the preceding equivalence table).</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">commands</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: build</span></span>
    <span style="color:#606">actions</span>:
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: exec</span></span>
        <span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">mvn clean install</span></span></code></pre>
</div>
</div>
</li>
<li>
<p>Copy the following YAML code into the <code>commands</code> section to add a new command. Change the <code>name</code> and the <code>command</code> fields from the original workspace configuration (see the preceding equivalence table).</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: build and run</span></span>
    <span style="color:#606">actions</span>:
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: exec</span></span>
        <span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">mvn clean install &amp;&amp; java -jar</span></span></code></pre>
</div>
</div>
</li>
<li>
<p>Optionally, add the <code>component</code> field into <code>actions</code>. This indicates the component alias where the command will be performed.</p>
</li>
<li>
<p>Repeat step 2 to add more commands to the devfile.</p>
</li>
<li>
<p>Click the <strong>Devfile</strong> tab to view the changes.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/workspace-devfile-changes.png" alt="workspace devfile changes">
</div>
</div>
</li>
<li>
<p>Save changes and start the new Che 7 workspace.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="/che/docs/images/workspaces/save-and-start-the-new-che-workspace.png"><img src="/che/docs/images/workspaces/save-and-start-the-new-che-workspace.png" alt="save and start the new che workspace"></a>
</div>
</div>
</li>
</ol>
</div>
<hr>
<div class="paragraph">
<p>title: Importing a Kubernetes application into a workspace
keywords:
tags: []
sidebar: che_7_docs
permalink: che-7/importing-a-kubernetes-application-into-a-che-workspace/
folder: che-7/end-user-guide
summary:
---</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="importing-a-kubernetes-application-into-a-workspace">Importing a Kubernetes application into a workspace</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to import a Kubernetes application into a Che workspace.</p>
</div>
<div class="paragraph">
<p>For demonstration purposes, the section uses a sample Kubernetes application having the following two pods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A NodeJS application specified by this <a href="https://raw.githubusercontent.com/redhat-developer/devfile/master/samples/web-nodejs-with-db-sample/nodejs-app.yaml">nodejs-app.yaml</a></p>
</li>
<li>
<p>A MongoDB pod specified by this <a href="https://raw.githubusercontent.com/redhat-developer/devfile/master/samples/web-nodejs-with-db-sample/mongo-db.yaml">mongo-db.yaml</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To run the application on a Kubernetes cluster:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ node=https://raw.githubusercontent.com/redhat-developer/devfile/master/samples/web-nodejs-with-db-sample/nodejs-app.yaml &amp;&amp; \
mongo=https://raw.githubusercontent.com/redhat-developer/devfile/master/samples/web-nodejs-with-db-sample/mongo-db.yaml &amp;&amp; \
kubectl apply -f ${mongo} &amp;&amp; \
kubectl apply -f ${node}</pre>
</div>
</div>
<div class="paragraph">
<p>To deploy a new instance of this application in a Che workspace, use one of the following three scenarios:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Starting from scratch: <a href="#including-a-kubernetes-application-in-a-workspace-devfile-definition_importing-a-kubernetes-application-into-a-workspace">Writing a new devfile</a></p>
</li>
<li>
<p>Modifying an existing workspace: <a href="#adding-a-kubernetes-application-to-an-existing-workspace-using-the-dashboard_importing-a-kubernetes-application-into-a-workspace">Using the Dashboard user interface</a></p>
</li>
<li>
<p>From a running application: <a href="#generating-a-devfile-from-an-existing-kubernetes-application_importing-a-kubernetes-application-into-a-workspace">Generating a devfile with <code>chectl</code></a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="including-a-kubernetes-application-in-a-workspace-devfile-definition_importing-a-kubernetes-application-into-a-workspace">Including a Kubernetes application in a workspace devfile definition</h3>
<div class="paragraph">
<p>The devfile format is used to define a Che workspace, and its format is described in the <a href="#making-a-workspace-portable-using-a-devfile_using-developer-environments-workspaces">Making a workspace portable using a devfile</a> section. The following is an example of the simplest devfile:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
 <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">minimal-workspace</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Only the name (<strong>minimal-workspace</strong>) is specified. After the Che server processes this devfile, the devfile is converted to a minimal Che workspace that only has the default editor (Che-Theia) and the default editor plug-ins (example: the terminal).</p>
</div>
<div class="paragraph">
<p>Use the <code>Kubernetes</code> type of components in the devfile to add Kubernetes applications to a workspace.</p>
</div>
<div class="paragraph">
<p>For example, the user can embed the <code>NodeJS-Mongo</code> application in the minimal-workspace defined in this paragraph by adding a <code>components</code> section.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
 <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">minimal-workspace</span></span>
<span style="color:#606">components</span>:
 - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: kubernetes</span></span>
   <span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://raw.githubusercontent.com/.../mongo-db.yaml</span></span>
 - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: nodejs-app</span></span>
   <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubernetes</span></span>
   <span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://raw.githubusercontent.com/.../nodejs-app.yaml</span></span>
   <span style="color:#606">entrypoints</span>:
     - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">command: ['sleep']</span></span>
       <span style="color:#606">args</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['infinity']</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the <code>sleep infinity</code> command is added as the entrypoint of the Node.js application. This prevents the application from starting at the workspace start phase. It allows the user to start it when needed for testing or debugging purposes.</p>
</div>
<div class="paragraph">
<p>To make it easier for a developer to test the application, add the commands in the devfile:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">metadata</span>:
 <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">minimal-workspace</span></span>
<span style="color:#606">components</span>:
 - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: kubernetes</span></span>
   <span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://raw.githubusercontent.com/.../mongo-db.yaml</span></span>
 - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">alias: nodejs-app</span></span>
   <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubernetes</span></span>
   <span style="color:#606">reference</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://raw.githubusercontent.com/.../nodejs-app.yaml</span></span>
   <span style="color:#606">entrypoints</span>:
     - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">command: ['sleep']</span></span>
       <span style="color:#606">args</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">['infinity']</span></span>
<span style="color:#606">commands</span>:
 - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: run</span></span>
   <span style="color:#606">actions</span>:
     - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: exec</span></span>
       <span style="color:#606">component</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">nodejs-app</span></span>
       <span style="color:#606">command</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">cd ${CHE_PROJECTS_ROOT}/nodejs-mongo-app/EmployeeDB/ &amp;&amp; npm install &amp;&amp; sed -i -- ''s/localhost/mongo/g'' app.js &amp;&amp; node app.js</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Use this devfile to create and start a workspace with the <code>chectl</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ chectl worspace:start --devfile <em>&lt;devfile-path&gt;</em></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>run</code> command added to the devfile is available as a task in Che-Theia from the command palette. When executed, the command starts the NodeJS application.</p>
</div>
</div>
<div class="sect2">
<h3 id="adding-a-kubernetes-application-to-an-existing-workspace-using-the-dashboard_importing-a-kubernetes-application-into-a-workspace">Adding a Kubernetes application to an existing workspace using the dashboard</h3>
<div class="paragraph">
<p>This procedure demonstrates how to modify an existing workspace and import the Kubernetes application using the newly created devfile.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>After the creation of a workspace, use the <strong>Workspace</strong> menu and then the <strong>Configure workspace</strong> icon to manage the workspace.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/configure-workspace.png" alt="configure workspace">
</div>
</div>
</li>
<li>
<p>To modify the workspace details, use the <strong>Devfile</strong> tab. The workspace details are displayed in this tab in the devfile format.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/configure-workspace-devfile.png" alt="configure workspace devfile">
</div>
</div>
</li>
<li>
<p>To add a Kubernetes component, use the <strong>Devfile</strong> editor on the dashboard.</p>
</li>
<li>
<p>For the changes to take effect, save the devfile and restart the Che workspace.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="generating-a-devfile-from-an-existing-kubernetes-application_importing-a-kubernetes-application-into-a-workspace">Generating a devfile from an existing Kubernetes application</h3>
<div class="paragraph">
<p>This procedure demonstrates how to generate a devfile from an existing Kubernetes application using the <code>chectl</code> tool.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p><code>chectl</code> management tool is installed. See <a href="/che/docs/che-7/installing-the-chectl-management-tool/">Installing the <code>chectl</code> management tool</a></p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Use the <code>chectl devfile:generate</code> command to generate a devfile:</p>
<div class="listingblock">
<div class="content">
<pre>$ chectl devfile:generate</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The user can also use the <code>chectl devfile:generate</code> command to generate a devfile from, for example, the <code>NodeJS-MongoDB</code> application.</p>
<div class="paragraph">
<p>The following example generates a devfile that includes the <code>NodeJS</code> component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ chectl devfile:generate --selector="app=nodejs"
apiVersion: 1.0.0
metadata:
  name: chectl-generated
components:
  - type: kubernetes
    alias: app=nodejs
    referenceContent: |
      kind: List
      apiVersion: v1
      metadata:
        name: app=nodejs
      items:
        - apiVersion: apps/v1
          kind: Deployment
          metadata:
            labels:
              app: nodejs
            name: web
(...)</pre>
</div>
</div>
<div class="paragraph">
<p>The NodeJS application YAML definition is included in the devfile, inline, using the <code>referenceContent</code> attribute.</p>
</div>
</li>
<li>
<p>To include support for a language, use the <code>--language</code> parameter:</p>
<div class="listingblock">
<div class="content">
<pre>$ chectl devfile:generate --selector="app=nodejs" --language="typescript"
apiVersion: 1.0.0
metadata:
  name: chectl-generated
components:
  - type: kubernetes
    alias: app=nodejs
    referenceContent: |
      kind: List
      apiVersion: v1
(...)
  - type: chePlugin
    alias: typescript-ls
    id: che-incubator/typescript/latest</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Use the generated devfile to start a Che workspace with <code>chectl</code>.</p>
</li>
</ol>
</div>
<hr>
<div class="paragraph">
<p>title: Remotely accessing workspaces
keywords:
tags: []
sidebar: che_7_docs
permalink: che-7/remotely-accessing-che-workspaces/
folder: che-7/end-user-guide
summary:
---</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="remotely-accessing-workspaces_using-developer-environments-workspaces">Remotely accessing workspaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to remotely access Che workspaces outside of the browser.</p>
</div>
<div class="paragraph">
<p>Che workspaces exist as containers and are, by default, modified from a browser window. In addition to this, there are the following methods of interacting with a Che workspace:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Opening a command line in the workspace container using the Kubernetes command-line tool, <code>kubectl</code></p>
</li>
<li>
<p>Uploading and downloading files using the <code>kubectl</code> tool</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="remotely-accessing-workspaces-using-the-kubernetes-command-line-tool_remotely-accessing-workspaces">Remotely accessing workspaces using the Kubernetes command-line tool</h3>
<div class="paragraph">
<p>To access Che workspaces remotely using Kubernetes command-line tool (<code>kubectl</code>), follow the instructions in this section.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>kubectl</code> tool is used in this section to open a shell and manage files in a Che workspace. Alternatively, it is possible to use the <code>oc</code>  OpenShift command-line tool.
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The kubectl binary from the <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">Kubernetes website</a>.</p>
</li>
<li>
<p>To verify the installation of <code>kubectl</code> using the <code>kubectl version</code> command:</p>
<div class="listingblock">
<div class="content">
<pre>$ kubectl version
Client Version: version.Info{Major:"1", Minor:"15", GitVersion:"v1.15.0", GitCommit:"e8462b5b5dc2584fdcd18e6bcfe9f1e4d970a529", GitTreeState:"clean", BuildDate:"2019-06-19T16:40:16Z", GoVersion:"go1.12.5", Compiler:"gc", Platform:"darwin/amd64"}
Server Version: version.Info{Major:"1", Minor:"15", GitVersion:"v1.15.0", GitCommit:"e8462b5b5dc2584fdcd18e6bcfe9f1e4d970a529", GitTreeState:"clean", BuildDate:"2019-06-19T16:32:14Z", GoVersion:"go1.12.5", Compiler:"gc", Platform:"linux/amd64"}</pre>
</div>
</div>
<div class="paragraph">
<p>For versions 1.5.0 or higher, proceed with the steps in this section.</p>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Use the <code>exec</code> command to open a remote shell.</p>
</li>
<li>
<p>To find the name of the Kubernetes namespace and pod that runs the Che workspace:</p>
<div class="listingblock">
<div class="content">
<pre>$ kubectl get pod -l che.workspace_id --all-namespaces
NAMESPACE   NAME                                               READY   STATUS    RESTARTS   AGE
che         workspace7b2wemdf3hx7s3ln.maven-74885cf4d5-kf2q4   4/4     Running   0          6m4s</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the example above, the pod name is <code>workspace7b2wemdf3hx7s3ln.maven-74885cf4d5-kf2q4</code>, and the namespace is <code>che</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To find the name of the container:</p>
<div class="listingblock">
<div class="content">
<pre>$ NAMESPACE=che
$ POD=workspace7b2wemdf3hx7s3ln.maven-74885cf4d5-kf2q4
$ kubectl get pod ${POD} -o custom-columns=CONTAINERS:.spec.containers[*].name
CONTAINERS
maven,che-machine-execpau,theia-ide6dj,vscode-javaw92</pre>
</div>
</div>
</li>
<li>
<p>When you have the namespace, pod name, and the name of the container, use the <code>kubectl</code> command to open a remote shell:</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ NAMESPACE=che
$ POD=workspace7b2wemdf3hx7s3ln.maven-74885cf4d5-kf2q4
$ CONTAINER=maven
$ kubectl exec -ti -n ${NAMESPACE} ${POD} -c ${CONTAINER} bash
user@workspace7b2wemdf3hx7s3ln $</pre>
</div>
</div>
</li>
<li>
<p>From the container, execute the <code>build</code> and <code>run</code> commands (as if from the Che workspace terminal):</p>
<div class="listingblock">
<div class="content">
<pre>user@workspace7b2wemdf3hx7s3ln $ mvn clean install
[INFO] Scanning for projects...
(...)</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p>For more about <code>kubectl</code>, see the <a href="https://kubernetes.io/docs/reference/kubectl/overview/">Kubernetes documentation</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="downloading-and-uploading-a-file-to-a-workspace-using-the-command-line-interface_remotely-accessing-workspaces">Downloading and uploading a file to a workspace using the command-line interface</h3>
<div class="paragraph">
<p>This procedure describes how to use the <code>kubectl</code> tool to download or upload files remotely from or to an Eclipse Che workspace.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Remote access to the Che workspace you intend to modify. For instructions see <a href="#remotely-accessing-workspaces-using-the-kubernetes-command-line-tool_remotely-accessing-workspaces">Remotely accessing workspaces using the Kubernetes command-line tool</a>.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To download a local file named <code>downloadme.txt</code> from a workspace container to the current home directory of the user, use the following in the Che remote shell.</p>
<div class="listingblock">
<div class="content">
<pre>$ REMOTE_FILE_PATH=/projects/downloadme.txt
$ NAMESPACE=che
$ POD=workspace7b2wemdf3hx7s3ln.maven-74885cf4d5-kf2q4
$ CONTAINER=maven
$ kubectl cp ${NAMESPACE}/${POD}:${REMOTE_FILE_PATH} ~/downloadme.txt -c ${CONTAINER}</pre>
</div>
</div>
</li>
<li>
<p>To upload a local file named <code>uploadme.txt</code> to a workspace container in the <code>/projects</code> directory:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>$ LOCAL_FILE_PATH=./uploadme.txt
$ NAMESPACE=che
$ POD=workspace7b2wemdf3hx7s3ln.maven-74885cf4d5-kf2q4
$ CONTAINER=maven
$ kubectl cp ${LOCAL_FILE_PATH} ${NAMESPACE}/${POD}:/projects -c ${CONTAINER}</pre>
</div>
</div>
<div class="paragraph">
<p>Using the preceding steps, the user can also download and upload directories.</p>
</div>
<hr>
<div class="paragraph">
<p>title: Creating a workspace from code sample
keywords:
tags: []
sidebar: che_7_docs
permalink: che-7/creating-a-workspace-from-code-sample/
folder: che-7/end-user-guide
summary:
---</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-a-workspace-from-code-sample_using-developer-environments-workspaces">Creating a workspace from code sample</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Every stack includes a sample codebase, which is defined by the devfile of the stack.
This section explains how to create a workspace from this code sample in a sequence of three procedures.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#creating-a-workspace-from-user-dashboard_creating-a-workspace-from-code-sample">Creating a workspace from the user dashboard</a>.</p>
</li>
<li>
<p><a href="#changing-the-configuration-of-an-existing-workspace-from-the-user-dashboard_creating-a-workspace-from-code-sample">Changing the configuration of the workspace</a> to add code sample.</p>
</li>
<li>
<p><a href="#running-an-existing-workspace-from-the-user-dashboard_creating-a-workspace-from-code-sample">Running an existing workspace from the user dashboard</a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For more information on devfiles, see <a href="/che/docs/che-7/configuring-a-workspace-using-a-devfile/">Configuring a Che workspace using a devfile</a>.</p>
</div>
<div class="sect2">
<h3 id="creating-a-workspace-from-user-dashboard_creating-a-workspace-from-code-sample">Creating a workspace from User Dashboard</h3>
<div class="paragraph">
<p>This section describes how to create a workspace from the User Dashboard.</p>
</div>
<h4 id="prerequisites" class="discrete">Prerequisites</h4>
<div class="ulist">
<ul>
<li>
<p>A running instance of Eclipse Che. To install an instance of Eclipse Che see <a href="/che/docs/che-7/che-quick-starts/">Che quick-starts</a></p>
</li>
</ul>
</div>
<h4 id="procedure" class="discrete">Procedure</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Che Dashboard. See <a href="/che/docs/che-7/navigating-che-using-the-dashboard/">Navigating Che using the Dashboard</a>.</p>
</li>
<li>
<p>In the left navigation panel, navigate to <strong>Workspaces</strong>.</p>
</li>
<li>
<p>Click on the <b class="button">Add Workspace</b> button.</p>
</li>
<li>
<p>Define a <strong>Name</strong> for the workspace. A generated name is proposed. It can be modified.</p>
</li>
<li>
<p>In the <strong>Stack</strong> section, select the workspace runtime environment that will be used to build and run projects from the list.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/select-workpace.png" alt="Select a stack from the list">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Viewing the compute resource limits</div>
<div class="paragraph">
<p>The memory needed by the stack is pre-calculated and displayed on the stack description line. Changing the memory requirements is only possible <a href="#configure-devfile">from the devfile</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Start the workspace: click on the <b class="button">Create &amp; Open</b> button at the top or bottom of the form:</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/create-and-open.png" alt="Create and Open">
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Configuring the workspace before start</div>
<div class="paragraph">
<p>Instead of configuring the workspace once it has started, it is possible to configure the workspace before start.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From the top of the page, click the down arrow next to the <b class="button">Create &amp; Open</b> button.</p>
</li>
<li>
<p>Select the menu item below to edit the workspace configuration.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/create-and-edit.png" alt="Create and Edit">
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-configuration-of-an-existing-workspace-from-the-user-dashboard_creating-a-workspace-from-code-sample">Changing the configuration of an existing workspace from the User Dashboard</h3>
<div class="paragraph">
<p>This section describes how to change the configuration of an existing workspace from the User Dashboard.</p>
</div>
<h4 id="prerequisites-2" class="discrete">Prerequisites</h4>
<div class="ulist">
<ul>
<li>
<p>A running instance of Eclipse Che. To install an instance of Eclipse Che see <a href="/che/docs/che-7/che-quick-starts/">Che quick starts</a>.</p>
</li>
<li>
<p>An existing workspace defined on this instance of Eclipse Che <a href="#creating-a-workspace-from-user-dashboard_creating-a-workspace-from-code-sample">Creating a workspace from user dashboard</a>.</p>
</li>
</ul>
</div>
<h4 id="procedure-2" class="discrete">Procedure</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Che Dashboard. See <a href="/che/docs/che-7/navigating-che-using-the-dashboard/">Navigating Che using the dashboard</a>.</p>
</li>
<li>
<p>In the left navigation panel, navigate to  <strong>Workspaces</strong>.</p>
</li>
<li>
<p>Click on the name of a workspace to navigate to the configuration overview page.</p>
</li>
<li>
<p>Click on the <strong>Overview</strong> tab, to execute following actions:</p>
<div class="ulist">
<ul>
<li>
<p>Change the <strong>Workspace name</strong>.</p>
</li>
<li>
<p>Toggle <strong>Ephemeral mode</strong>.</p>
</li>
<li>
<p><strong>Export</strong> the workspace configuration to a file or private cloud.</p>
</li>
<li>
<p><strong>Delete</strong> the workspace.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/workspace-config-overview.png" alt="Worksapce configuration overview">
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>Projects</strong> section, choose the projects to integrate in the workspace.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click on the <b class="button">Add Project</b> button</p>
</li>
<li>
<p>Select the projects to integrate in the workspace.</p>
</li>
<li>
<p>Click on th <b class="button">Add</b> button.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/workspace-config-projects.png" alt="Add projects to workspace">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>In the <strong>Plugins</strong> section, choose the plugins to integrate in the workspace.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Example</div>
<div class="paragraph">
<p>Start with a generic Java-based stack, then later add support for Node or Python.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>In the <strong>Editors</strong> section, choose the editors to integrate in the workspace. The Che 7 editor is based on Theia.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Example: Switch to the Che 6 editor</div>
<div class="ulist">
<ul>
<li>
<p>To Switch to the Che 6 editor, select the GWT IDE.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div id="configure-devfile" class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>From the <strong>Devfile</strong> tab, edit the workspace&#8217;s YAML configuration. See <a href="/che/docs/che-7/making-a-workspace-portable-using-a-devfile/#devfile-reference_making-a-workspace-portable-using-a-devfile">Devfile reference</a>.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Example: add commands</div>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/workspace-config-yaml.png" alt="YAML configuration">
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Example: add a project</div>
<div class="paragraph">
<p>To add a project into the workspace, add or edit the following section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>projects:
  - name: che
    source:
      type: git
      location: 'https://github.com/eclipse/che.git'</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="running-an-existing-workspace-from-the-user-dashboard_creating-a-workspace-from-code-sample">Running an existing workspace from the User Dashboard</h3>
<div class="paragraph">
<p>This section describes how to run an existing workspace from the User Dasboard</p>
</div>
<div class="sect3">
<h4 id="running-an-existing-workspace-from-the-user-dashboard-with-the-run-button_running-an-existing-workspace-from-the-user-dashboard">Running an existing workspace from the User Dashboard with the Run button</h4>
<div class="paragraph">
<p>This section describes how to run an existing workspace from the User Dashboard using the <strong>Run</strong> button.</p>
</div>
<h5 id="prerequisites-3" class="discrete">Prerequisites</h5>
<div class="ulist">
<ul>
<li>
<p>A running instance of Eclipse Che. To install an instance of Eclipse Che see <a href="/che/docs/che-7/che-quick-starts/">Che quick-starts</a>.</p>
</li>
<li>
<p>An existing workspace defined on this instance of Eclipse Che.</p>
<h5 id="procedure-3" class="discrete">Procedure</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Che Dashboard. See <a href="/che/docs/che-7/navigating-che-using-the-dashboard/">Navigating Che using the dashboard</a>.</p>
</li>
<li>
<p>In the left navigation panel, navigate to  <strong>Workspaces</strong>.</p>
</li>
<li>
<p>Click on the name of a non-running workspace to navigate to the overview page.</p>
</li>
<li>
<p>Click on the <b class="button">Run</b> button in the top right corner of the page.</p>
</li>
<li>
<p>The workspace is started.</p>
</li>
<li>
<p>The browser <strong>does not</strong> navigates to the workspace.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="running-an-existing-workspace-from-the-user-dashboard-with-the-open-button_running-an-existing-workspace-from-the-user-dashboard">Running an existing workspace from the User Dashboard using the Open button</h4>
<div class="paragraph">
<p>This section describes how to run an existing workspace from the User Dashboard using the <strong>Open</strong> button.</p>
</div>
<h5 id="prerequisites-4" class="discrete">Prerequisites</h5>
<div class="ulist">
<ul>
<li>
<p>A running instance of Eclipse Che. To install an instance of Eclipse Che see <a href="/che/docs/che-7/che-quick-starts/">Che quick-starts</a>.</p>
</li>
<li>
<p>An existing workspace defined on this instance of Eclipse Che.</p>
</li>
</ul>
</div>
<h5 id="procedure-4" class="discrete">Procedure</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Che Dashboard. See <a href="/che/docs/che-7/navigating-che-using-the-dashboard/">Navigating Che using the dashboard</a>.</p>
</li>
<li>
<p>In the left navigation panel, navigate to  <strong>Workspaces</strong>.</p>
</li>
<li>
<p>Click on the name of a non-running workspace to navigate to the overview page.</p>
</li>
<li>
<p>Click on the <b class="button">Open</b> button in the top right corner of the page.</p>
</li>
<li>
<p>The workspace is started.</p>
</li>
<li>
<p>The browser navigates to the workspace.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="running-an-existing-workspace-from-the-user-dashboard-usinng-the-recent-workspaces_running-an-existing-workspace-from-the-user-dashboard">Running an existing workspace from the User Dashboard using the Recent Workspaces</h4>
<div class="paragraph">
<p>This section describes how to run an existing workspace from the User Dashboard using the Recent Workspaces.</p>
</div>
<h5 id="prerequisites-5" class="discrete">Prerequisites</h5>
<div class="ulist">
<ul>
<li>
<p>A running instance of Eclipse Che. To install an instance of Eclipse Che see <a href="/che/docs/che-7/che-quick-starts/">Che quick-starts</a>.</p>
</li>
<li>
<p>An existing workspace defined on this instance of Eclipse Che.</p>
</li>
</ul>
</div>
<h5 id="procedure-5" class="discrete">Procedure</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Che Dashboard. See <a href="/che/docs/che-7/navigating-che-using-the-dashboard/">Navigating Che using the dashboard</a>.</p>
</li>
<li>
<p>In the left navigation panel, in the <strong>Recent Workspaces</strong> section, right-click on the name of a non-running workspace and click on <strong>Start</strong> in the contextual menu to start it.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/run-from-recent-workspaces.png" alt="Run from Recent Workspaces">
</div>
</div>
</li>
</ol>
</div>
<hr>
<div class="paragraph">
<p>title: Creating a workspace by importing the source code of a project
keywords:
tags: []
sidebar: che_7_docs
permalink: che-7/creating-a-workspace-by-importing-source-code-of-a-project/
folder: che-7/end-user-guide
summary:
---</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-a-workspace-by-importing-source-code-of-a-project">Creating a workspace by importing the source code of a project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to create a new workspace to edit an existing codebase.</p>
</div>
<div class="paragraph">
<p>There are two ways to do that <strong>before</strong> starting a workspace:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#importing-from-the-dashboard-into-an-existing-workspaces">Select a stack from the <strong>Dashboard</strong>, then change the devfile to include your project</a></p>
</li>
<li>
<p><a href="/che/docs/che-7/configuring-a-workspace-using-a-devfile">Add a devfile to a git repository and start the workspace using chectl or a factory</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To create a new workspace to edit an existing codebase, use one of the following three methods <strong>after</strong> you have started the workspace:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#importing-from-the-user-dashboard-into-an-existing-workspace">Import from the <strong>Dashboard</strong> into an existing workspace</a></p>
</li>
<li>
<p><a href="#importing-to-a-running-workspace-using-the-git-clone-command">Import to a running workspace using the <code>git clone</code> command</a></p>
</li>
<li>
<p><a href="#importing-to-a-running-workspace-with-git-clone-in-a-terminal">Import to a running workspace using <code>git clone</code> in a terminal</a></p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>An OKD, OCP, or OSD cluster, if using Che on Openshift. See below for use of <a href="https://www.okd.io/minishift/">Minishift</a> (OKD).</p>
</li>
<li>
<p>Or, use a Kubernetes cluster such as <a href="https://github.com/kubernetes/minikube#installation">Minikube</a>.</p>
</li>
<li>
<p>To install on Minishift or Minikube, see <a href="/che/docs/che-7/running-che-locally/#deploying-che-using-chectl">Deploying Che using chectl</a>.</p>
</li>
<li>
<p>A workspace with plug-ins related to your development environment.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="importing-from-the-dashboard-into-an-existing-workspace">Importing from the Dashboard into an existing workspace</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Import the project. There are at least two ways to import a project via the <strong>Dashboard</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>From the <strong>Dashboard</strong>, select <strong>Workspaces</strong>, then select your workspace by clicking on its name. This will link you to the workspace&#8217;s <strong>Overview</strong> tab.</p>
</li>
<li>
<p>Or, use the gear icon. This will link to the <strong>Devfile</strong> tab where you can enter your own YAML configuration.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click the <strong>Projects</strong> tab.</p>
</li>
<li>
<p>Click <strong>Add Project</strong>. You can then import a sample project, create a blank project, import from a Git project, or import from a zip file.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/workspace-config-projects.png" alt="Add projects to workspace">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can add a project to a non-running workspace, but you must start the workspace to delete it.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="creating-a-new-repository">Creating a new repository</h4>
<div class="paragraph">
<p>To add a blank project:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Type a name and a description in the <strong>Name</strong> and <strong>Description</strong> fields.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/add-blank-project.png" alt="Add blank project">
</div>
</div>
</li>
<li>
<p>Click <strong>Open</strong> to open your workspace.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/open-blank-project.png" alt="Your empty project">
</div>
</div>
</div>
<div class="sect3">
<h4 id="editing-an-existing-repository">Editing an existing repository</h4>
<div class="paragraph">
<p>To edit an existing repository:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Choose the Git project or zip file, and Che will load it into your workspace.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/add-git-project.png" alt="Add existing git project">
</div>
</div>
</li>
<li>
<p>To open the workspace, click the <b class="button">Open</b> button.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/open-git-project.png" alt="Your git project">
</div>
</div>
</div>
<div class="sect3">
<h4 id="editing-the-commands-after-importing-a-project">Editing the commands after importing a project</h4>
<div class="paragraph">
<p>After you have a project in your workspace, you can add commands to it. Adding commands to your projects allows you to run, debug, or launch your application in a browser.</p>
</div>
<div class="paragraph">
<p>To add commands to the project:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the workspace configuration in the <strong>Dashboard</strong>, then select the <strong>Devfile</strong> tab.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/workspace-config-yaml.png" alt="Add commands to workspace">
</div>
</div>
</li>
<li>
<p>Open the workspace.</p>
</li>
<li>
<p>To run a command, select <strong>Terminal</strong> &gt; <strong>Run Task</strong> from the main menu.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/run-command.png" alt="Run task">
</div>
</div>
</li>
<li>
<p>To configure commands, select <strong>Terminal</strong> &gt; <strong>Configure Tasks</strong> from the main menu.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/configure-command.png" alt="Configure tasks">
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="importing-to-a-running-workspace-using-the-git-clone-command">Importing to a running workspace using the <strong>Git: Clone</strong> command</h3>
<div class="paragraph">
<p>To import to a running workspace using the <strong>Git: Clone</strong> command:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start a workspace, then use the <strong>Git: Clone</strong> command from the command palette or the Welcome screen to import a project to a running workspace.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/welcome.png" alt="Welcome screen">
</div>
</div>
</li>
<li>
<p>Open the command palette using <code>F1</code> or <code>CTRL-SHIFT-P</code>, or from the link in the Welcome screen.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/git-clone-command.png" alt="Invoke git clone command">
</div>
</div>
</li>
<li>
<p>Enter the path to the project you want to clone.</p>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/git-clone-command-2.png" alt="Configure git clone command">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="importing-to-a-running-workspace-with-git-clone-in-a-terminal">Importing to a running workspace with <code>git clone</code> in a terminal</h3>
<div class="paragraph">
<p>In addition to the approaches above, you can also start a workspace, open a <strong>Terminal</strong>, and type <code>git clone</code> to pull code.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/che/docs/images/workspaces/git-clone-terminal.png" alt="Run git clone in a terminal">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Importing or deleting workspace projects in the terminal does not update the workspace configuration, and the change is not reflected in the <strong>Project</strong> and <strong>Devfile</strong> tabs in the dashboard.</p>
</div>
<div class="paragraph">
<p>Similarly, if you add a project via the <strong>Dashboard</strong>, then delete it with <code>rm -fr myproject</code>, it may still appear in the <strong>Projects</strong> or <strong>Devfile</strong> tab.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.okd.io/latest/minishift/getting-started/preparing-to-install.html">Minishift installation</a></p>
</li>
<li>
<p><a href="https://github.com/kubernetes/minikube#installation">Minikube installation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>

    <div class="tags">
        
        <b>Tags: </b>
        
        
        
    </div>

<!-- 
 -->

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
                    Eclipse Che - Documentation <br/>
                    Site last generated: Sep 18, 2019 <br/>
                    <hr>
                    <a href="http://www.eclipse.org" target="_blank">Eclipse Foundation</a><br/>
                    <a href="http://www.eclipse.org/legal/privacy.php" target="_blank">Privacy Policy</a><br/>
                    <a href="http://www.eclipse.org/legal/termsofuse.php" target="_blank">Terms of Use</a><br/>
                    <a href="https://www.eclipse.org/legal/epl-2.0/" target="_blank">Eclipse Public License</a><br/>
                    <a href="http://www.eclipse.org/legal" target="_blank">Legal Resources</a><br/>
                </div>
            </div>
</footer>




    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
