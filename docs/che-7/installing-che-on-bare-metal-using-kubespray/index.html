<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=",  ">
<title>Installing Che on bare metal using Kubespray | Eclipse Che Documentation</title>
<link rel="stylesheet" href="/che/docs/css/syntax.css">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="/che/docs/css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="/che/docs/css/customstyles.css">
<link rel="stylesheet" href="/che/docs/css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="/che/docs/css/theme-che.css">


    <link rel="stylesheet" href="/che/docs/css/coderay.css" media="screen" type="text/css">
    <link rel="stylesheet" href="/che/docs/css/asciidoc.css" type="text/css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js" crossorigin="anonymous"></script>
<script src="/che/docs/js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js" crossorigin="anonymous"></script>
<script src="/che/docs/js/toc.js"></script>
<script src="/che/docs/js/customscripts.js"></script>

<link rel="shortcut icon" href="/che/docs/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="che" href="/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="/che/docs/">&nbsp;<span class="projectTitle"> Eclipse Che Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://medium.com/eclipse-che-blog/" target="_blank">Blog</a></li>
                
                
                
                <li><a href="http://che.openshift.io/f?url=https://github.com/eclipse/che-docs" target="_blank">Contribute</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Support<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3Akind%2Fbug" target="_blank">Known Bugs</a></li>
                        
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues/new" target="_blank">File an Issue</a></li>
                        
                        
                        
                        <li><a href="https://stackoverflow.com/questions/tagged/eclipse-che" target="_blank">Che on StackOverflow</a></li>
                        
                        
                    </ul>
                </li>
                
                
                <!-- 
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:?subject= feedback&body=I have some feedback about the Installing Che on bare metal using Kubespray page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>
 -->
		
                <!--comment out this block if you want to hide search-->
                <li>
                    <div id="search-demo-container">
                        <script async src="https://cse.google.com/cse.js?cx=002898025167115630151:gnr5edrg2eo"></script>
                        <div class="gcse-searchbox-only" style="width: 400px;"></div>
                    </div>

                </li>
                
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  <div class="sidebarSubtitle">Overview</div>
  
  
  <li>
      
      <a href="/che/docs/che-7/introduction-to-eclipse-che">Introduction to Che</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/che-glossary">Che glossary</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Che quick-starts</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/che-quick-starts">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/3-minutes-to-che">3 minutes to Che</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/using-the-chectl-management-tool">Using the chectl management tool</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/running-che-locally">Running Che locally</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/installing-che-on-openshift-3-using-the-operator">Installing Che on OpenShift 3</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/installing-che-on-openshift-4-using-operatorhub">Installing Che on OpenShift 4</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/installing-che-on-aws">Installing Che on AWS</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/installing-che-on-google-cloud-platform">Installing Che on Google Cloud</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/installing-che-on-microsoft-azure">Installing Che on Microsoft Azure</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/accessing-che-from-openshift-developer-perspective">Accessing Che from OpenShift Developer Perspective</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/hosted-che">Hosted Che</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Che architecture</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/che-architecture">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/high-level-che-architecture">High-level Che architecture</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che-workspace-controller">Che workspace controller</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che-workspaces-architecture">Che workspaces architecture</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
  <div class="sidebarSubtitle">End-user Guide</div>
  
  
  <li>
      
      <a href="/che/docs/che-7/navigating-che-using-the-dashboard">Navigating Che: dashboard</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Che-Theia IDE basics</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/che-theia-ide-basics">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/defining-custom-commands-for-che-theia">Defining custom commands for Che-Theia</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/version-control">Version Control</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che-theia-troubleshooting">Che-Theia Troubleshooting</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Using developer workspaces</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/workspaces-overview">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/configuring-a-workspace-using-a-devfile">Configuring a workspace using a devfile</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/making-a-workspace-portable-using-a-devfile">Making a workspace portable using a devfile</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/creating-and-configuring-a-new-workspace">Creating and configuring a new workspace</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/importing-a-kubernetes-application-into-a-workspace">Importing a Kubernetes application into a workspace</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/remotely-accessing-workspaces">Remotely accessing workspaces</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/creating-a-workspace-from-code-sample">Creating a workspace from code sample</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/creating-a-workspace-by-importing-source-code-of-a-project">Creating a workspace by importing source code of a project</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/configuring-workspace-exposure-strategies">Configuring workspace exposure strategies</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/mounting-a-secret-as-a-file-or-an-environment-variable-into-a-workspace-container">Mounting a secret as a file or an environment variable into a workspace container</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Customizing developer environments</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/customizing-developer-environments">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/what-is-a-che-theia-plug-in">What is a Che-Theia plug-in</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/using-alternative-ides-in-che">Using alternative IDEs in Che</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/adding-tools-to-che-after-creating-a-workspace">Adding tools to Che after creating a workspace</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Configuring OAuth authorization</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/configuring-oauth-authorization">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/configuring-github-oauth">Configuring GitHub OAuth</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/configuring-openshift-oauth">Configuring OpenShift OAuth</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Using artifact repositories in a restricted environment</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/using-artifact-repositories-in-a-restricted-environment">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/using-maven-artifact-repositories">Using Maven artifact repositories</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/using-gradle-artifact-repositories">Using Gradle artifact repositories</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/using-python-artifact-repositories">Using Python artifact repositories</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/using-go-artifact-repositories">Using Go artifact repositories</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/using-nuget-artifact-repositories">Using NuGet artifact repositories</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/using-npm-artifact-repositories">Using npm artifact repositories</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/troubleshooting-for-che-end-users">Troubleshooting for Che end users</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/the-developer-workspace-button">The Developer Workspace Button</a>
      
      <ul>
          
      </ul>
   </li>
     
      
      
  <div class="sidebarSubtitle">Installation Guide</div>
  
  
  <li>
      
      <a href="/che/docs/che-7/supported-platforms">Supported platforms</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Configuring Che</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/configuring-che">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/configuring-the-che-installation">Configuring the Che installation</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/advanced-configuration-options-for-the-che-server-component">Advanced configuration options for Che server</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/configuring-namespace-strategies">Configuring namespace strategies</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/configuring-che-hostname">Configuring Che hostname</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/deploying-che-with-support-for-git-repositories-with-self-signed-certificates">Deploying Che with support for Git repositories with self-signed certificates</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/installing-che-using-storage-classes">Installing Che using storage classes</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/importing-tls-certificates-to-che-server-java-truststore">Importing TLS certificates to Che server Java truststore</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/installing-che-in-tls-mode-with-self-signed-certificates">Installing Che in TLS mode with self-signed certificates</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/installing-che-in-restricted-environment">Installing Che in restricted environment</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/upgrading-che">Upgrading Che</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/uninstalling-che">Uninstalling Che</a>
      
      <ul>
          
      </ul>
   </li>
     
      
      
  <div class="sidebarSubtitle">Administration Guide</div>
  
  
  <li>
      
      <a href="#" class="expandable">Customizing devfile and plug-in registries</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/customizing-the-devfile-and-plug-in-registries">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/building-and-running-a-custom-registry-image">Building and running a custom registry image</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/including-the-plug-in-binaries-in-the-registry-image">Including the plug-in binaries in the registry image</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/editing-a-devfile-and-plug-in-at-runtime">Editing a devfile and plug-in at runtime</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/using-a-visual-studio-code-extension-in-che">Using a VS Code extension in Che</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Retrieving Che logs</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/retrieving-che-logs">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/viewing-kubernetes-events">Accessing Kubernetes events on OpenShift</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/viewing-operator-events">Viewing the Operator events on OpenShift</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/viewing-che-server-logs">Viewing Che server logs</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/viewing-external-service-logs">Viewing external service logs</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/viewing-che-workspaces-logs">Viewing Che workspaces logs</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/viewing-plug-in-broker-logs">Viewing Plug-in broker logs</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/collecting-logs-using-chectl">Collecting logs using chectl</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/monitoring-che">Monitoring Che</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/tracing-che">Tracing Che</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Managing users</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/managing-users">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/configuring-authorization">Configuring authorization</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/removing-user-data">Removing user data</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Securing Che</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/securing-che">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/authenticating-users">Authenticating users</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/authorizing-users">Authorizing users</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Backup and disaster recovery</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/backup-and-disaster-recovery">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/external-database-setup">External database setup</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/persistent-volumes-backups">Persistent Volumes backups</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/calculating-che-resource-requirements">Calculating Che resource requirements</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/caching-images-for-faster-workspace-start">Caching images for faster workspace start</a>
      
      <ul>
          
      </ul>
   </li>
     
      
      
  <div class="sidebarSubtitle">Contributor Guide</div>
  
  
  <li>
      
      <a href="/che/docs/che-7/branding-che-theia">Branding Che-Theia</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/developing-che-theia-plug-ins">Developing Che-Theia plug-ins</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/testing-che-theia-plug-ins">Testing Che-Theia plug-ins</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/publishing-che-theia-plug-ins">Publishing Che-Theia plug-ins</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/adding-support-for-a-new-language">Adding support for a new language</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/adding-support-for-a-new-debugger">Adding support for a new debugger</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">Che extensibility reference</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/che-extensibility-reference">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che-extension-points">Che extension points</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/che-theia-plug-in-api">Che-Theia plug-in API</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/debug-adapter-protocol">Debug Adapter Protocol</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/language-server-protocol">Language Server Protocol</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
  <div class="sidebarSubtitle">Extensions</div>
  
  
  <li>
      
      <a href="/che/docs/che-7/eclipse-che4z">Eclipse Che4z</a>
      
      <ul>
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="#" class="expandable">OpenShift Connector</a>
      
      <ul>
          
          
          
          <li><a href="/che/docs/che-7/openshift-connector-overview">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/features-of-openshift-connector">Features of OpenShift Connector</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/installing-openshift-connector-in-eclipse-che">Installing OpenShift Connector in Eclipse Che</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/authenticating-with-openshift-connector-from-eclipse-che">Authenticating with OpenShift Connector from Eclipse Che</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/creating-components-with-openshift-connector-in-eclipse-che">Creating Components with OpenShift Connector in Eclipse Che</a></li>
          
          
          
          
          
          
          <li><a href="/che/docs/che-7/connecting-source-code-from-github-to-a-openshift-component-using-openshift-connector">Connecting source code from GitHub to a OpenShift Component</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      
      <a href="/che/docs/che-7/telemetry">Telemetry</a>
      
      <ul>
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block: -->
<!--         <p class="external">
             <a href="#" id="collapseAll">Collapse all</a> | <a href="#" id="expandAll">Expand all</a>
         </p>-->
         
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>

            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Installing Che on bare metal using Kubespray</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.
$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2' });
/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top
  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    


    <!-- 


     -->

  <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This article explains how to install a single or multi-node Kubernetes cluster on bare metal using Kubespray to deploy Che.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p><strong>Hardware:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>CPU: 2 preferable (no check performed by Kubespray)</p>
</li>
<li>
<p>RAM: 1024 MB and 1500 MB minimum for worker and master nodes respectively enforced in Kubespray (configurable)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Eclipse Che requires minimum CPU and RAM to run itself and to spawn user environments.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Software:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Operating system: <a href="https://github.com/kubernetes-sigs/kubespray#user-content-supported-linux-distributions">check the supported distributions</a></p>
</li>
<li>
<p>Kubespray: 2.12.5</p>
</li>
<li>
<p>Python: 3.7</p>
</li>
<li>
<p>Helm: 3.1.2</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-kubespray-to-set-up-kubernetes_installing-che-on-bare-metal-using-kubespray">Set up Kubernetes using Kubespray</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Commands are given for bash on Ubuntu.</p>
</div>
<div class="paragraph">
<div class="title">System update</div>
<p>Start with a system update before installing new packages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sudo apt-get update
$ sudo apt-get upgrade</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This step is only required on the machine used to run Kubespray. Kubespray will take care of system updates on the cluster nodes.
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">SSH access</div>
<ul>
<li>
<p>Install SSH server</p>
<div class="paragraph">
<p>If a node does not have SSH server installed by default, you have to install it to remotely control this machine.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sudo apt-get install openssh-server</pre>
</div>
</div>
</li>
<li>
<p>Create SSH key pair</p>
<div class="paragraph">
<p>You have to generate one or multiple SSH key pair(s) to allow Kubespray/Ansible automatic login using SSH. You can use a different key pair for each node or use the same for all nodes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ssh-keygen -b 2048 -t rsa -f /home/&lt;local-user&gt;/.ssh/id_rsa -q -N ""</pre>
</div>
</div>
</li>
<li>
<p>Copy your public key(s) on nodes</p>
<div class="paragraph">
<p>Copy your public key(s) in the ~/.ssh/authorized_keys file of the user accounts you will use on each node for deployment.
You will be prompted twice for the password corresponding to account, the first time for the public key upload using SSH and the second time for adding the public key in the authorized_keys file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>for ip in &lt;node1-ip&gt; &lt;node2-ip&gt; ...; do
   scp /home/&lt;local-user&gt;/.ssh/id_rsa.pub &lt;node-user&gt;@$ip:/home/&lt;node-user&gt;/.ssh
   ssh &lt;node-user&gt;@$ip "cat ~/.ssh/id_rsa.pub &gt; ~/.ssh/authorized_keys"
done</pre>
</div>
</div>
<div class="paragraph">
<p>You will never be prompted again for password using SSH, the key will be used to authenticate you!</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">IPv4 forwarding</div>
<p>Kubespray requires to turn on IPv4 forwarding. This should be done automatically by Kubepsray.</p>
</div>
<div class="paragraph">
<p>To do it manually, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>for ip in &lt;node1-ip&gt; &lt;node2-ip&gt; ...; do
   ssh &lt;node-user&gt;@$ip "echo 1 | sudo tee /proc/sys/net/ipv4/ip_forward"
done</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Turn off swap</div>
<p>Turning swap off is required by Kubernetes. See this issue for more information.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>for ip in &lt;node1-ip&gt; &lt;node2-ip&gt; ...; do
   ssh &lt;node-user&gt;@$ip "sudo swapoff -a &amp;&amp; sudo sed -i '/ swap / s/^/#/' /etc/fstab"
done</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Get Kubespray</div>
<p>Start by installing curl.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo apt-get install curl</pre>
</div>
</div>
<div class="paragraph">
<p>Get the latest Kubespray source code from its repo.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The latest release when writing this tutorial, v2.12.5, throws error not encountered in the master version.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre>mkdir -p ~/projects/ &amp;&amp; \
curl -LJO https://github.com/kubernetes-sigs/kubespray/archive/master.zip &amp;&amp; \
unzip kubespray-master.zip -d kubespray &amp;&amp; \
rm kubespray-master.zip &amp;&amp; \
cd kubespray</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Install Kubespray requirements</div>
<p>Kubespray uses Python 3 and several dependencies to be installed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Install Python 3</p>
<div class="paragraph">
<p>Install Python 3 but also pip (package installer for Python) and venv to create virtual environnements (see below).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo apt-get install python3.7 python3-pip python3-venv</pre>
</div>
</div>
</li>
<li>
<p>Create a virtual env</p>
<div class="paragraph">
<p>This is a best isolation pratice using Python to use virtual env (or conda env for conda users).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>python3 -m venv ~/projects/kubespray-venv
source ~/projects/kubespray-venv/bin/activate</pre>
</div>
</div>
</li>
<li>
<p>Install Kubespray dependencies</p>
<div class="listingblock">
<div class="content">
<pre>pip install -r requirements.txt</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Create a new cluster configuration</div>
<p>Start creating a copy of the default settings from sample cluster.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cp -rfp inventory/sample inventory/mycluster</pre>
</div>
</div>
<div class="paragraph">
<p>Be sure you are still in the ~/projects/kubespray/ directory before executing this command!</p>
</div>
<div class="paragraph">
<p>Then customize your new cluster</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update Ansible inventory file with inventory builder</p>
<div class="listingblock">
<div class="content">
<pre>declare -a IPS=(&lt;node1-ip&gt; &lt;node2-ip&gt; ...)
CONFIG_FILE=inventory/mycluster/hosts.yaml python contrib/inventory_builder/inventory.py ${IPS[@]}</pre>
</div>
</div>
</li>
<li>
<p>(optional) Rename your nodes or deactivate hostname renaming</p>
<div class="paragraph">
<p>If you skip this step, your cluster hostnames will be renamed node1, node2, etc.</p>
</div>
<div class="paragraph">
<p>You can either edit the file ~/projects/kubespray/inventory/mycluster/hosts.yaml</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sed -e 's/node1/tower/g' -e 's/node2/laptop/g' ... -i inventory/mycluster/hosts.yaml</pre>
</div>
</div>
<div class="paragraph">
<p>OR</p>
</div>
<div class="paragraph">
<p>keep the current hostnames</p>
</div>
<div class="listingblock">
<div class="content">
<pre>echo "override_system_hostname: false" &gt;&gt;  inventory/mycluster/group_vars/all/all.yml</pre>
</div>
</div>
</li>
<li>
<p>Check localhost vs nodes usernames</p>
<div class="paragraph">
<p>If your localhost username differ from a node username (the one that owns your SSH public key), you must specify it to Ansible by editing (manually) the hosts.yaml file.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">localhost username</th>
<th class="tableblock halign-center valign-middle">node1 username</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">foo</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">bar</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre>&gt; cat inventory/mycluster/hosts.yaml
all:
  hosts:
    node1:
      ansible_ssh_user: bar</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Deploy your cluster!</div>
<p>It&#8217;s time to deploy Kubernetes by running the Ansible playbook command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ansible-playbook -i inventory/mycluster/hosts.yaml  --become --become-user=root cluster.yml</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Access your cluster API</div>
<p>The cluster is created but you currently have no access to its API for configuration purpose.
<code>kubectl</code> has been installed by Kubespray on master nodes of your cluster and configuration files are saved in root home directories of master nodes.</p>
</div>
<div class="paragraph">
<p>If you want to access the cluster API from another computer on your network, install kubectl first.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -LO https://storage.googleapis.com/kubernetes-release/release/$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/linux/amd64/kubectl
chmod +x ./kubectl
sudo mv ./kubectl /usr/local/bin/kubectl</pre>
</div>
</div>
<div class="paragraph">
<p>Then copy the configuration files from the root home directory of a master node:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On the master node, copy configurations files from root to your useraccount</p>
<div class="listingblock">
<div class="content">
<pre>ssh &lt;node-user&gt;@&lt;master-node-ip&gt; "sudo cp -R /root/.kube ~ &amp;&amp; sudo chown -R &lt;node-user&gt;:&lt;node-user&gt; ~/.kube"</pre>
</div>
</div>
</li>
<li>
<p>Then download the configuration files to a remote computer</p>
<div class="listingblock">
<div class="content">
<pre>scp -r &lt;node-user&gt;@&lt;master-node-ip&gt;:~/.kube ~
sudo chown -R &lt;local-user&gt;:&lt;local-user&gt; ~/.kube</pre>
</div>
</div>
</li>
<li>
<p>Keep secrets protected on the master node</p>
<div class="listingblock">
<div class="content">
<pre>ssh &lt;node-user&gt;@&lt;master-node-ip&gt; "rm -r ~/.kube"</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For sanity, use autocompletion!</p>
</div>
<div class="listingblock">
<div class="content">
<pre>echo 'source &lt;(kubectl completion bash)' &gt;&gt;~/.bashrc</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-metallb-load-balancer-on-kubernetes_installing-che-on-bare-metal-using-kubespray">Configuring the MetalLB load balancer on Kubernetes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to use MetalLB to install a load balancer for Kubernetes on bare metal.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>MetalLB installed. See the <a href="https://metallb.universe.tf/installation/">installation guide</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Configure Kubernetes proxy:</p>
<div class="listingblock">
<div class="content">
<pre>$ kubectl edit configmap -n kube-system kube-proxy</pre>
</div>
</div>
<div class="paragraph">
<p>and set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">kubeproxy.config.k8s.io/v1alpha1</span></span>
<span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">KubeProxyConfiguration</span></span>
<span style="color:#606">mode</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ipvs</span><span style="color:#710">&quot;</span></span>
<span style="color:#606">ipvs</span>:
  <span style="color:#606">strictARP</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span></code></pre>
</div>
</div>
</li>
<li>
<p>Apply the MetalLB manifests:</p>
<div class="listingblock">
<div class="content">
<pre>$ kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.9.3/manifests/namespace.yaml
$ kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.9.3/manifests/metallb.yaml

# On first install only:
$ kubectl create secret generic -n metallb-system memberlist \
  --from-literal=secretkey="$(openssl rand -base64 128)"</pre>
</div>
</div>
</li>
<li>
<p>Configure MetalLB. To allow the load balancer to distribute external IPs, specify in its configuration the IP range allocated for it:</p>
<div class="listingblock">
<div class="content">
<pre>$ cat &lt;&lt; EOF | kubectl apply -f -
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: metallb-system
  name: config
data:
  config: |
    address-pools:
    - name: default
      protocol: layer2
      addresses:
      - <em>&lt;your-ip-range&gt;</em>
EOF</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Set <code><em>&lt;your-ip-range&gt;</em></code> to the IP range you intend to use.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-storage-for-kubernetes_installing-che-on-bare-metal-using-kubespray">Installing storage for Kubernetes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to enable persistent storage for Kubernetes using NFS.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Install the NFS server on a machine on the same network as your cluster nodes:</p>
<div class="listingblock">
<div class="content">
<pre># apt-get install -y nfs-kernel-server</pre>
</div>
</div>
</li>
<li>
<p>Create the export directory:</p>
<div class="listingblock">
<div class="content">
<pre># mkdir -p /mnt/my-nfs</pre>
</div>
</div>
<div class="paragraph">
<p>Change its permissions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># chown nobody:nogroup /mnt/my-nfs
# chmod 777 /mnt/my-nfs</pre>
</div>
</div>
</li>
<li>
<p>Start the NFS export:</p>
<div class="listingblock">
<div class="content">
<pre># echo "<em>&lt;mount-path&gt;</em> <em>&lt;subnet&gt;</em>(rw,sync,no_subtree_check)" | tee /etc/exports
# exportfs -a
# systemctl restart nfs-kernel-server</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Replace <code><em>&lt;subnet&gt;</em></code> and <code><em>&lt;mount-path&gt;</em></code> with your <code>nfs</code> settings.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Define the <code>StorageClass</code> settings and the provisioner (using the <a href="https://github.com/kubernetes-incubator/external-storage">external-storage</a> template):</p>
<div class="listingblock">
<div class="content">
<pre>$ kubectl apply -f https://raw.githubusercontent.com/kubernetes-incubator/external-storage/master/nfs-client/deploy/rbac.yaml</pre>
</div>
</div>
</li>
<li>
<p>Set <code>StorageClass</code>:</p>
<div class="listingblock">
<div class="content">
<pre>$ cat &lt;&lt; EOF | kubectl apply -f -
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: managed-nfs-storage
  annotations:
    storageclass.kubernetes.io/is-default-class: "true"
provisioner: nfs-provisioner
parameters:
  archiveOnDelete: "false"
EOF</pre>
</div>
</div>
<div class="paragraph">
<p>Declare <code>StorageClass</code> as the default one to be automatically selected by PVCs.</p>
</div>
</li>
<li>
<p>Set the provisioner:</p>
<div class="listingblock">
<div class="content">
<pre>$ cat &lt;&lt; EOF | kubectl apply -f -
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nfs-client-provisioner
  labels:
    app: nfs-client-provisioner
  # replace with {orch-namespace} where provisioner is deployed
  namespace: default
spec:
  replicas: 1
  strategy:
    type: Recreate
  selector:
    matchLabels:
      app: nfs-client-provisioner
  template:
    metadata:
      labels:
        app: nfs-client-provisioner
    spec:
      serviceAccountName: nfs-client-provisioner
      containers:
        - name: nfs-client-provisioner
          image: quay.io/external_storage/nfs-client-provisioner:latest
          volumeMounts:
            - name: nfs-client-root
              mountPath: /persistentvolumes
          env:
            - name: PROVISIONER_NAME
              value: nfs-provisioner
            - name: NFS_SERVER
              value: <em>&lt;nfs-server-ip&gt;</em>
            - name: NFS_PATH
              value: <em>&lt;mount-path&gt;</em>
      volumes:
        - name: nfs-client-root
          nfs:
            server: <em>&lt;nfs-server-ip&gt;</em>
            path: <em>&lt;mount-path&gt;</em>
EOF</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Replace <code><em>&lt;subnet&gt;</em></code> and <code><em>&lt;mount-path&gt;</em></code> with your <code>nfs</code> settings.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Verify the configuration:</p>
<div class="listingblock">
<div class="content">
<pre>$ kubectl get deployments.apps,pods,sc -n default</pre>
</div>
</div>
<div class="paragraph">
<p>You should see the <code>Deployment</code> of the provisioner, the corresponding <code>Pod</code> and also the <code>StorageClass</code> as the default one.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-che-on-kubespray-using-chectl_installing-che-on-bare-metal-using-kubespray">Installing che on Kubespray using chectl</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to install Che on Kubernetes provisioned by Kubespray.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A running Kubernetes cluster deployed using Kubespray on bare metal. See <a href="#using-kubespray-to-set-up-kubernetes_installing-che-on-bare-metal-using-kubespray">Set up Kubernetes using Kubespray</a>.</p>
</li>
<li>
<p>A load balancer is running on your cluster. See <a href="#configuring-the-metallb-load-balancer-on-kubernetes_installing-che-on-bare-metal-using-kubespray">Configuring the MetalLB load balancer on Kubernetes</a></p>
</li>
<li>
<p>A storage is defined with a provisioner. See <a href="#installing-storage-for-kubernetes_installing-che-on-bare-metal-using-kubespray">Installing storage for Kubernetes</a>.</p>
</li>
<li>
<p>The <code>chectl</code> management tool is available. See <a href="/che/docs/che-7/using-the-chectl-management-tool/">Installing the <code>chectl</code> management tool</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Deploy an Ingress controller (using Nginx, the <code>cloud</code> deployment because a load balancer is used):</p>
<div class="listingblock">
<div class="content">
<pre>$ kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/master/deploy/static/provider/cloud/deploy.yaml</pre>
</div>
</div>
</li>
<li>
<p>Get the IP attributed by the load balancer:</p>
<div class="listingblock">
<div class="content">
<pre>$ kubectl get svc -n ingress-nginx</pre>
</div>
</div>
<div class="paragraph">
<p>It corresponds to the <code>EXTERNAL-IP</code> of the <code>ingress-nginx-controller</code> service. Use it as <code><em>&lt;ip-from-load-balancer&gt;</em></code> in the following step.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deploy Che:</p>
<div class="listingblock">
<div class="content">
<pre>$ chectl server:start --platform k8s --domain <em>&lt;ip-from-load-balancer&gt;</em>.nip.io</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>

    <div class="tags">
        
        <b>Tags: </b>
        
        
        
    </div>

<!-- 
 -->

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
                    Eclipse Che - Documentation <br/>
                    Site last generated: Aug 12, 2020 <br/>
                    <hr>
                    <a href="http://www.eclipse.org" target="_blank">Eclipse Foundation</a><br/>
                    <a href="http://www.eclipse.org/legal/privacy.php" target="_blank">Privacy Policy</a><br/>
                    <a href="http://www.eclipse.org/legal/termsofuse.php" target="_blank">Terms of Use</a><br/>
                    <a href="https://www.eclipse.org/legal/epl-2.0/" target="_blank">Eclipse Public License</a><br/>
                    <a href="http://www.eclipse.org/legal" target="_blank">Legal Resources</a><br/>
                </div>
            </div>
</footer>




    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
