



<!-- jQuery Eclipse IP approval https://dev.eclipse.org/ipzilla/show_bug.cgi?id=10801 -->
<script type="text/javascript" charset="utf8" src="../../../docs/assets/scripts/jquery-1.8.1.min.js"></script>

<script type="text/javascript" charset="utf8">
  $(document).ready(function(){
    var images = document.getElementsByTagName('img');
    for (var i = 0; i < images.length; i++) {
      var image = images[i];
      var parentElement = image.parentElement;
      var a = document.createElement('a');
      if (! image.getAttribute('src').includes("logo-codenvy.svg") ){
          a.href = image.getAttribute('src');
          a.target = "_blank";
          a.appendChild(image);
          parentElement.appendChild(a);
      }
    }
  });
</script>
<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <title>Runtime Recipes -
    
      Docs
     - Eclipse Che</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="generator" content="Jekyll v3.3.1">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic,900">
  <link rel="stylesheet" href="../../../docs/assets/css/screen.css">
  <link rel="icon" type="image/x-icon" href="../../../docs/assets/imgs/favicon.ico">
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.min.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
</head>


<body class="wrap">
  




<header>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  
  <li class="current">
    <a href="../../../docs/index.html">Docs</a>
  </li>
  <li class="">
    <a href="../../../docs/tutorials/multi-machine/index.html">Tutorials</a>
  </li>
  <li class="">
    <a href="../../../docs/openshift/config/index.html">OpenShift</a>
  </li>
  <li>
    <a href="https://github.com/eclipse/che-docs/tree/master/src/main">GitHub</a>
  </li>
</ul>

  </nav>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
        <a href="https://eclipse.org/che/">
          <span class="sr-only">Eclipse Che</span>
          <img src="../../../docs/assets/imgs/logo-eclipseche.svg" alt="Eclipse Che Logo"  width="249" height="115">
        </a>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  
  <li class="current">
    <a href="../../../docs/index.html">Docs</a>
  </li>
  <li class="">
    <a href="../../../docs/tutorials/multi-machine/index.html">Tutorials</a>
  </li>
  <li class="">
    <a href="../../../docs/openshift/config/index.html">OpenShift</a>
  </li>
  <li>
    <a href="https://github.com/eclipse/che-docs/tree/master/src/main">GitHub</a>
  </li>
</ul>

    </nav>
  </div>
</header>


    <section class="docs">
    <div class="grid">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
  <select onchange="if (this.value) window.location.href=this.value">
    <option value="">Navigate the docs…</option>
    
    
    
    <optgroup label="SETUP">
      




  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="WORKSPACE ADMINISTRATION">
      




  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="USER GUIDE">
      




  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="CHEDIR - PORTABLE WORKSPACES">
      




  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="DEVELOPER GUIDE - REST API">
      




  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="DEVELOPER GUIDE - IDE PLUGINS">
      




  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
  </select>
</div>


      <div class="unit four-fifths">
        <article>
          <div class="improve right hide-on-mobiles">
            <a href="https://github.com/codenvy/che-docs/blob/master/src/main/_docs/workspace-administration/ws-recipes.md"><i class="fa fa-pencil"></i> &nbsp;Improve this page</a>
            <!--<a href="https://github.com/eclipse/che/blob/master/docs/_docs/workspace-administration/ws-recipes.md"><i class="fa fa-pencil"></i> &nbsp;Improve this page</a>-->
          </div>
          <div class="doc-title">
            <h1>Runtime Recipes</h1>
            <div class="doc-title-border">
            </div>
          </div>
          
<p>A recipe defines part of the runtime of a workspace. A recipe is included in a <a href="../../../docs/workspace/stacks/index.html">stack</a> along with meta information that defines how the workspace runtime should be created. When creating custom workspace runtime it’s often best to create a custom <a href="../../../docs/workspace/stacks/index.html">stack</a> with a custom recipe.</p>

<p>Workspaces can have a single runtime or multiple runtimes.  Che uses Docker, though Che could handle runtimes other than Docker, to create runtime(s) from <a href="https://docs.docker.com/engine/reference/builder/">Dockerfiles</a> for a single-container runtime, or <a href="https://docs.docker.com/compose/overview/">compose files</a> to create single-container/multi-container runtime(s).</p>

<p>Che provides recipes for all of the <a href="../../../docs/workspace/stacks/index.html#ready-to-go-stacks">“Ready-to-go” stacks</a> for things like Java, PHP, Node, ASP.NET, and C++.</p>

<p>A recipe references either a Dockerfile or compose definition that need to be built into image(s) or reference already-built image(s). When a workspace is created from a particular stack, Che will take a recipe, create or use existing Docker image(s) from it, and then create runtime Docker container(s) from that/those image(s). That/Those runtime Docker container(s) will be your workspace runtime(s).</p>

<p><a href="../../../docs/workspace/agents/index.html">Workspace agents</a> include the additional libraries that you may need, such as yum or npm, along with the runtime services that Che needs, such as Java and Tomcat, a SSH daemon. <a href="../../../docs/workspace/agents/index.html">Workspace agents</a> are then injected into runtime Docker container(s) from Docker images such as certified minimal versions of Linux operating systems like Alpine, Debian or Ubuntu with added <a href="../../../docs/workspace/recipes/index.html#che-runtime-required-dependencies">Che dependencies</a>.</p>

<h1 id="single-container-recipes">Single-Container Recipes</h1>

<h2 id="defining">Defining</h2>
<p>You can author your own recipe as a way to make your workspace runtime shareable. You can provide a URL to a custom recipe (Dockerfile or Docker compose file) or write a new custom recipe (Dockerfile or Docker compose file) from the dashboard.</p>

<p>Please note, Eclipse Che only <a href="../../../docs/workspace/recipes/index.html#multi-container-recipes">supports certain compose syntax</a>.</p>

<p><img src="../../../docs/assets/imgs/che-recipe-write.jpg" alt="che-recipe-write.jpg" /></p>

<p>There are two ways for you to create a custom recipe that can be used within Che:</p>

<ol>
  <li>Inherit from an Eclipse Che base Docker image and then add your dependencies (easiest).</li>
  <li>Inherit from a non-Eclipse Che base Docker image, then add both your dependencies, and Che’s dependencies (most flexible).</li>
</ol>

<h3 id="inherit-from-an-eclipse-che-base-image">Inherit From an Eclipse Che Base Image</h3>
<p>This is the easiest way to build a workspace from a custom recipe.  Eclipse Che base images are authored by Codenvy and hosted on DockerHub. These base images have all of the dependencies necessary for a Che workspace to operate normally.  These base images may have unnecessary dependencies for your project, like subversion. So if size and performance are essential, you can look to author your own. The Dockerfiles for Che’s base images are located in <a href="https://github.com/eclipse/che-dockerfiles/tree/master/recipes">Codenvy’s GitHub repository</a>.</p>

<p>To reference Che’s Docker images in your Dockerfile or Docker compose recipe:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c">##Dockerfile</span>
FROM eclipse/&lt;image-name&gt;

<span class="c">##Compose</span>
image: eclipse/&lt;image-name&gt;
</code></pre>
</div>

<p>Che’s base stacks, which include the minimum utilities for everything needed by Eclipse Che are <code class="highlighter-rouge">eclipse/ubuntu_jre</code> and <code class="highlighter-rouge">eclipse/debian_jre</code>.</p>

<p>In Che’s repository, some recipes have sub-directories which represent tags. For example, the <code class="highlighter-rouge">/php/latest</code> directory in the GitHub repository would be pulled as <code class="highlighter-rouge">eclipse/php:latest</code> from Docker Hub.</p>

<h3 id="inherit-from-non-eclipse-che-base-images">Inherit From Non-Eclipse Che Base Images</h3>
<p>This will create the best performing workspace image by only installing the minimum dependencies and packages required for your workspace. The trade off is that you have to include <a href="../../../docs/workspace/recipes/index.html#che-runtime-required-dependencies">Che’s runtime dependencies</a> so we can work our magic in the workspace.</p>

<h3 id="che-runtime-required-dependencies">Che Runtime Required Dependencies</h3>

<table>
  <thead>
    <tr>
      <th>Dependency</th>
      <th>Why?</th>
      <th>How? (Ubuntu/Debian)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">RUN apt-get install bash -y</code></td>
      <td><code class="highlighter-rouge">bash</code></td>
      <td>Execs are performed as bash commands. It is uncommon that base Docker images do not have bash. However, some distributions as Alpine or Busybox only provide <code class="highlighter-rouge">sh</code>.</td>
    </tr>
    <tr>
      <td>User with <code class="highlighter-rouge">root</code> privileges</td>
      <td>To install our developer tools agents (like terminal access and intellisense) we need root access or a user who has sudo rights.</td>
      <td><code class="highlighter-rouge">USER root</code> <br /><br /> or grant your preferred user sudo rights.</td>
    </tr>
    <tr>
      <td>Dockerfile <br /> <code class="highlighter-rouge">CMD tail -f /dev/null</code> <br /><br /> Compose <br /> <code class="highlighter-rouge">command: [tail, -f, /dev/null]</code></td>
      <td>To keep a container running</td>
      <td>Non-terminating CMD</td>
    </tr>
  </tbody>
</table>

<p>All Eclipse Che images must have a non-terminating <code class="highlighter-rouge">CMD</code> command so that the container doesn’t shut down immediately after loading. If you want to override the default <code class="highlighter-rouge">CMD</code>, add <code class="highlighter-rouge">tail -f /dev/null</code> to the execution.  For example:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c">##Dockerfile</span>
CMD sudo service apache2 start <span class="o">&amp;&amp;</span> tail -f /dev/null

<span class="c">##Compose</span>
<span class="nb">command</span>: <span class="o">[</span>sudo, service, apache2, start, <span class="o">&amp;&amp;</span>, tail, -f, /dev/null]
</code></pre>
</div>

<h3 id="maven-dependencies-optional">Maven Dependencies (Optional)</h3>
<p>If you want to use Che with the maven plug-in, then you need to add these additional dependencies.</p>

<table>
  <thead>
    <tr>
      <th>Dependency</th>
      <th>Why?</th>
      <th>How?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">mvn</code></td>
      <td>Maven plugin needs Maven 3.3.9 or higher.</td>
      <td><code class="highlighter-rouge">wget -qO- \http://apache.ip-connect.vn.ua/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-3.3.9-bin.tar.gz\ | tar -zx --strip-components=1 -C /home/user/apache-maven-3.3.9/</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">M2_HOME</code> environment variable exported</td>
      <td>Maven plugin uses this variable to detect if Maven is installed.</td>
      <td>Dockerfile <br /> <code class="highlighter-rouge">ENV M2_HOME /home/user/apache-maven-3.3.9</code> <br /><br /> Compose <br /><br /> <code class="highlighter-rouge">environment:</code><br /><br /> <code class="highlighter-rouge">- M2_HOME=/home/user/apache-maven-3.3.9</code></td>
    </tr>
  </tbody>
</table>

<h3 id="other-optional-dependencies">Other Optional Dependencies</h3>

<table>
  <thead>
    <tr>
      <th>Dependency</th>
      <th>Why?</th>
      <th>How? (Ubuntu/Debian)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Java 1.8 (OpenJDK)</td>
      <td>Required to compile and run Java code.</td>
      <td><code class="highlighter-rouge">apt-get install openjdk-8-jdk</code></td>
    </tr>
    <tr>
      <td>Required to import projects stored in git repositories. Git is the default importer in Che (all sample apps are imported as git repositories).</td>
      <td><code class="highlighter-rouge">apt-get install git -y</code></td>
      <td><code class="highlighter-rouge">git</code></td>
    </tr>
    <tr>
      <td>Required to import projects stored in subversion repositories.</td>
      <td><code class="highlighter-rouge">svn</code></td>
      <td><code class="highlighter-rouge">apt-get install subversion -y</code></td>
    </tr>
    <tr>
      <td>SSH access to a running workspace. If you do not provide this command, when you click <code class="highlighter-rouge">SSH</code> in the IDE, you will be presented with an access error.</td>
      <td><code class="highlighter-rouge">sshd</code></td>
      <td><code class="highlighter-rouge">apt-get -y install openssh-server -y &amp;&amp; mkdir /var/run/sshd &amp;&amp; sed 's@session\s*required\s*pam_loginuid.so@session optional pam_loginuid.so@g' -i /etc/pam.d/sshd</code> <br /><br />Dockerfile<br /><code class="highlighter-rouge">CMD /usr/sbin/sshd -D &amp;&amp; tail -f /dev/null</code><br /><br />Compose<br /> <code class="highlighter-rouge">command: [/usr/sbin/sshd, -D, &amp;&amp;, tail, -f, /dev/null]</code></td>
    </tr>
  </tbody>
</table>

<h3 id="exposing-ports-mandatory">Exposing Ports (Mandatory)</h3>

<p>All workspace processes run in Docker containers. Che uses Docker’s method to access/preview apps by <a href="https://docs.docker.com/engine/reference/run/#expose-incoming-ports">exposing and publishing ports</a>.</p>

<p>All ports exposed in a base image are randomly published by Docker onto host interfaces. Docker uses the <a href="https://docs.docker.com/engine/userguide/networking/default_network/binding/">ephemeral port range</a> to externalize your services’ ports. What Che does with exposed ports is an equivalent to <code class="highlighter-rouge">docker run -P</code> where <code class="highlighter-rouge">-P</code> lets Docker choose local ports.</p>

<p>To make your app/process accessible</p>

<p><strong>1: Expose the port your app/process is bound to</strong>. For example, if your application runs on 3000, add the following instruction to your custom Dockerfile or  Docker compose recipe:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c">##Exposing a single port in a Dockerfile</span>
EXPOSE 3000

<span class="c">##Exposing a single port in a compose file</span>
expose: 3000

<span class="c">##Exposing multiple ports in a Dockerfile</span>
EXPOSE 3000 5000

<span class="c">##Exposing multiple ports in a compose file</span>
expose:
 - 3000
 - 5000
</code></pre>
</div>

<p><strong>2: Go to user dashboard for your workspace</strong> and click on the Runtimes tab. Select your machine and then in a section called “Server” you will see a table with all the ports exposed in the recipe and their corresponding externally published ports.</p>

<p><strong>3: You can also get the published port automatically by using a macro</strong> in a <a href="../../../docs/ide/commands/index.html">command</a>. When authoring a command, set its preview URL to <code class="highlighter-rouge">${server.port.&lt;your-apps-port&gt;}</code> where <code class="highlighter-rouge">&lt;your-apps-port&gt;</code> is the port in your recipe’s expose command. When the command is executed, this macro is translated into a <code class="highlighter-rouge">host:port</code> URL.</p>

<p>There is no way to expose a port once the workspace is running. To expose an additional ports, the ports need to be added to the runtime recipe or added directly to the runtime instance via the dashboard <code class="highlighter-rouge">Workspaces&gt;(click workspace name)&gt;Runtime Tab</code>.</p>

<p><img src="../../../docs/assets/imgs/Che-recipe-expose-ports.jpg" alt="Che-recipe-expose-ports.jpg" /></p>

<h2 id="issue-a-pull-request-to-improve-recipes">Issue a Pull Request To Improve Recipes</h2>
<p>We really love pull requests. We are always looking to increase the set of stacks that are available for development. Please suggest a fix or add a new base image recipe.  To do so, issue <a href="https://github.com/codenvy/dockerfiles">pull requests</a>. If you add a new Dockerfile, it will be added as a source for a new automated build at DockerHub.  Please sign the <a href="https://eclipse.org/legal/ECA.php">Eclipse contributor agreement</a> before making a contribution. Your contribution will be licensed as <a href="https://www.eclipse.org/legal/epl-v10.html">EPL 1.0</a>.</p>

<h1 id="multi-container-recipes">Multi-Container Recipes</h1>
<p>The majority of the Docker Compose file syntax works with Eclipse Che. However, Che is a distributed system that supports multiple users on a single node, and in order to manage this distribution and multi-user capabilities, there are certain compose features that are not supported.</p>

<h2 id="unsupported-compose-syntax">Unsupported Compose Syntax</h2>

<h3 id="local-buildcontext-and-builddockerfile">Local “build.context” and “build.dockerfile”</h3>
<p>Since Che workspaces can be distributed, you cannot have host-local build and Dockerfile contexts. You can, however, place these aspects so that they are remotely hosted in a git repository. Che will source the file from the remote system and then use it as its build context.</p>

<p>If the Dockerfile or build context requires other files to be <code class="highlighter-rouge">ADD</code> or <code class="highlighter-rouge">COPY</code> into the image that is created, then you could run into a failure, as the local Che workspace generator will not have access to those other remote files. To address this issue, you can pre-package the build context or Dockerfile into an image, push into a registry, and then reference the already-built image in your compose file. This is what we do for internal development at Codenvy.</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">build</span><span class="pi">:</span>
  <span class="c1">## remote context will work</span>
  <span class="s">context</span><span class="pi">:</span> <span class="s">https://github.com/eclipse/che-dockerfiles.git#master:recipes/ubuntu_jre</span>

  <span class="c1">## local context will not work</span>
  <span class="s">context</span><span class="pi">:</span> <span class="s">./my/local/filesystem</span>
</code></pre>
</div>

<p>Using Private Repositories:
If your <code class="highlighter-rouge">build.context</code> or <code class="highlighter-rouge">build.Dockerfile</code> accesses a private remote registry, you need to provide additional configuration.  First, the SSH private key needs to be located in your host machine’s home directory <code class="highlighter-rouge">~/.ssh/id_rsa</code> for Mac/Linux and <code class="highlighter-rouge">C:\Users\&lt;username&gt;\.ssh\id_rsa</code> for Windows with <code class="highlighter-rouge">0600</code> permissions for the user that starts Che.  Second, add the hostname of the private repository to the known hosts of the host machine using <code class="highlighter-rouge">ssh -o StrictHostKeyChecking=no -T git@&lt;hostname&gt;</code>.  Third, add the public key to the git <a href="../../../docs/ide/git-svn/index.html#adding-ssh-public-key-to-repository-account">repository host</a>. Finally, you can use an SSH git URL in the <code class="highlighter-rouge">build.context</code> of your compose syntax.</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c">## On Linux/Mac host machine</span>
<span class="c">## To new create ssh keypair</span>
ssh-keygen

<span class="c">## Set permissions to private key file.</span>
chmod 0600 ~/.ssh/id_rsa

<span class="c">## Add private repo host such as github to known_hosts file</span>
ssh -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no -T git@github.com
</code></pre>
</div>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c">## On Windows host machine start bash</span>
bash

<span class="c">## To new create ssh keypair</span>
<span class="gp">&gt; </span>ssh-keygen

<span class="c">## Set permissions to private key file</span>
<span class="gp">&gt; </span>chmod 0600 ~/.ssh/id_rsa

<span class="c">## Add private repo host such as github to known_hosts file</span>
<span class="gp">&gt; </span>ssh -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no -T git@github.com
<span class="gp">&gt; </span><span class="nb">exit</span>

<span class="c">## If using boot2docker(virtualbox) not HyperV</span>
docker run -v /c/Users/%username%/.ssh:/mnt/.ssh -v /root/:/mnt/linRoot alpine sh -c <span class="s2">"cp -r /mnt/.ssh /mnt/linRoot/ &amp;&amp; chmod 0600 /mnt/linRoot/.ssh/id_rsa"</span>
</code></pre>
</div>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="c1">## The following will use master branch and build in recipes/ubuntu_jre folder</span>
<span class="s">build</span><span class="pi">:</span>
  <span class="s">context</span><span class="pi">:</span> <span class="s">git@github.com:eclipse/che-dockerfiles.git#master:recipes/ubuntu_jre</span>
</code></pre>
</div>

<h3 id="build-image">Build Image</h3>
<p>In the event that a Compose file includes both build instructions and a build image the build instructions are seen as overriding, so the build image is skipped if it exists.</p>

<h3 id="container-name">Container Name</h3>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">container_name</span><span class="pi">:</span> <span class="s">my_container</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">container_name</code> is skipped during execution. Instead, Che generates container names based on its own internal patterns. Because many developers could be running the same Compose file on the same Che workspace node at the same time naming conflicts need to be avoided.</p>

<h3 id="volumes">Volumes</h3>
<p>Volumes are not supported in the Che system. Instead we suggest using <code class="highlighter-rouge">volumes_from</code> to gain access to <a href="../../../docs/workspace/volume-mounts/index.html#sharing-volumes-between-containers">volume mount</a> of the <code class="highlighter-rouge">dev-machine</code>.</p>

<h3 id="networks">Networks</h3>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="c1">## Not supported</span>
<span class="s">networks</span><span class="pi">:</span>
  <span class="s">internal</span><span class="pi">:</span>
  <span class="s">aliases</span><span class="pi">:</span> <span class="pi">[</span><span class="s1">'</span><span class="s">my.alias’]</span>
<span class="s">##</span><span class="nv"> </span><span class="s">Not</span><span class="nv"> </span><span class="s">supported</span>
<span class="s">networks:</span>
  <span class="s">internal:</span>
  <span class="s">driver:</span><span class="nv"> </span><span class="s">bridge</span>
</code></pre>
</div>

<p>Che does not yet currently support compose networks. We do, however, support the use of aliases through <code class="highlighter-rouge">links</code> command.</p>

<h3 id="hostname">Hostname</h3>
<p>Hostname is not supported and the machine’s name will be used for the hostname. User can use <code class="highlighter-rouge">links</code> aliases syntax to add additional hostname(s) to a machine.</p>

<h3 id="ports">Ports</h3>
<p>Binding ports to the host system is not supported. This is done to ensure that each container does not used already assigned host ports because many developers could be running the same compose file on the same Che server host at the same time. Users can expose ports and provide a <a href="../../../docs/ide/commands/index.html#macros">command macro</a> <code class="highlighter-rouge">${server.port.&lt;port&gt;}</code> in the IDE to determine the ephemeral port assigned.</p>

<h3 id="privileged">Privileged</h3>
<p>To secure the underlying host system <code class="highlighter-rouge">privileged</code> compose command is not supported.</p>

<p>The Che server can be configured to give all containers privileged access by setting the environment variable <code class="highlighter-rouge">CHE_PROPERTY_machine_docker_privilege__mode=true</code>. However, this makes the host system vulnerable and gives all containers access to the host system.</p>

<h3 id="environment-file">Environment File</h3>
<p>The <code class="highlighter-rouge">env_file</code> compose command is not supported. Environment variables can be manually entered in compose file or <code class="highlighter-rouge">source /&lt;path&gt;/&lt;environment filename&gt;</code> can be added to the <code class="highlighter-rouge">command</code> compose command.</p>

<h3 id="known-bugs">Known Bugs</h3>

<table>
  <thead>
    <tr>
      <th>Syntax</th>
      <th>Bug</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>command:</td>
      <td>Space separated <code class="highlighter-rouge">command</code> syntax is not working. Suggested work around is to use bracket syntax.<br /><a href="https://github.com/eclipse/che/issues/2365">https://github.com/eclipse/che/issues/2365</a><br /><br /> <code class="highlighter highlighter-rouge-td">## Not working<br />command: tail -f /dev/null<br /><br />## Working<br />command: [tail, -f, /dev/null]<br /></code></td>
    </tr>
  </tbody>
</table>

        </article>
      </div>

      <div class="unit one-fifth hide-on-mobiles">
  <aside>
    
    
    <h4>SETUP</h4>
    
    



<ul>

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/index.html">Introduction</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/getting-started/index.html">Getting Started&#58 Local</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/getting-started-saas-cloud/index.html">Getting Started&#58 SaaS Cloud</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/bitnami/index.html">Getting Started&#58 Private Cloud</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/configuration/index.html">Configuration</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/managing/index.html">Managing</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/cli/index.html">CLI Reference</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/glossary/index.html">Glossary</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/docker/index.html">Docker Installation</a></li>
  
  

</ul>

    
    
    
    
    <h4>WORKSPACE ADMINISTRATION</h4>
    
    



<ul>

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/admin-intro/index.html">Workspaces</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/stacks/index.html">Runtime Stacks</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class="current"><a href="../../../docs/workspace/recipes/index.html">Runtime Recipes</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/samples/index.html">Project Samples</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/machines/index.html">Runtime Machines</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/volume-mounts/index.html">Volume Mounts</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/agents/index.html">Workspace Agents</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/data-model-stacks/index.html">Runtime Stacks Data Model</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/data-model-samples/index.html">Project Samples Data Model</a></li>
  
  

</ul>

    
    
    
    
    <h4>USER GUIDE</h4>
    
    



<ul>

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/projects/index.html">Projects</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/import-a-project/index.html">Import</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/ssh/index.html">SSH</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/sync/index.html">Local IDE Sync</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/editor-settings/index.html">Editor</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/intellisense/index.html">Intellisense</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/commands/index.html">Commands</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/git-svn/index.html">Git and SVN</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/previews/index.html">Previews</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/build/index.html">Build</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/run/index.html">Run</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/sharing/index.html">Share</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/debug/index.html">Debug</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/docker/index.html">Docker</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/electron/index.html">Install Che Desktop Client</a></li>
  
  

</ul>

    
    
    
    
    <h4>CHEDIR - PORTABLE WORKSPACES</h4>
    
    



<ul>

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/getting-started/index.html">Getting Started</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/why/index.html">Why Chedir?</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/installation/index.html">Installation</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/project-setup/index.html">Project Setup</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/up-and-down/index.html">Up and Down</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/chefiles/index.html">Chefile</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/ssh/index.html">SSH</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/factories/index.html">Factories</a></li>
  
  

</ul>

    
    
    
    
    <h4>DEVELOPER GUIDE - REST API</h4>
    
    



<ul>

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/rest-api/index.html">REST API</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/api-projects/index.html">Projects</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/build-run/index.html">Editing Files</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/create-workspaces/index.html">Workspaces</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/events/index.html">Events</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/project-types/index.html">Project Types</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/stack/index.html">Stacks</a></li>
  
  

</ul>

    
    
    
    
    <h4>DEVELOPER GUIDE - IDE PLUGINS</h4>
    
    



<ul>

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/introduction/index.html">Introduction</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/setup-che-workspace/index.html">IDE Setup</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/create-and-build-extensions/index.html">Building Extensions</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/assemblies/index.html">Assemblies</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/dependency-injection-basics/index.html">Dependency Injection</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/code-editors/index.html">Editors</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/project-types/index.html">Project Types</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/actions/index.html">Actions</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/serverworkspace-access/index.html">Services</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/parts/index.html">Parts</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/calling-workspace-apis/index.html">REST APIs</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/java-class-reference/index.html">Java Class Reference</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/agents/index.html">Creating Custom Agents</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/languageserver/index.html">Language Server Protocol</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/che-properties/index.html">Properties</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/native-access-to-the-workspace/index.html">Workspace Access</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/embed-htmljs/index.html">Native HTML/JS</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/helloworld-extension/index.html">HelloWorld Extension</a></li>
  
  

  
  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/themes/index.html">Themes</a></li>
  
  

</ul>

    
    
    
    
  </aside>
</div>


      <div class="clear"></div>

    </div>
  </section>



  <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("artik")[0] || document.getElementsByClassName("openshift")[0] || document.getElementsByClassName("tutorials")[0] || document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

  




</body>
</html>
