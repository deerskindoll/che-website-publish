


<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="generator" content="Jekyll v3.2.1">
  <link type="application/atom+xml" rel="alternate" href="https://codenvy.com/feed.xml" title="Codenvy Docs" />
  <link rel="alternate" type="application/atom+xml" title="Recent commits to Jekyll’s master branch" href="https://github.com/codenvy/codenvy/commits/master.atom">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic,900">
  <link rel="stylesheet" href="../../../assets/css/screen.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.min.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
</head>


<body class="wrap">
  <header>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="../../../docs/index.html">Home</a>
  </li>
  <li class="current">
    <a href="../../../docs/setup/intro/index.html">Docs</a>
  </li>
  <li class="">
    <a href="../../../tutorials/multi-machine/index.html">Tutorials</a>
  </li>
  <li class="">
    <a href="../../../artik/start-windows/index.html">Artik</a>
  </li>
  <li class="">
    <a href="../../../openshift/config/index.html">Openshift</a>
  </li>
  <li>
    <a href="https://github.com/eclipse/che/tree/master/docs/"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

  </nav>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
        <a href="/">
          <span class="sr-only">Codenvy</span>
          <img src="../../../assets/imgs/logo-eclipseche.svg" alt="Codenvy Logo"  width="249" height="115">
        </a>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  <li class="">
    <a href="../../../docs/index.html">Home</a>
  </li>
  <li class="current">
    <a href="../../../docs/setup/intro/index.html">Docs</a>
  </li>
  <li class="">
    <a href="../../../tutorials/multi-machine/index.html">Tutorials</a>
  </li>
  <li class="">
    <a href="../../../artik/start-windows/index.html">Artik</a>
  </li>
  <li class="">
    <a href="../../../openshift/config/index.html">Openshift</a>
  </li>
  <li>
    <a href="https://github.com/eclipse/che/tree/master/docs/"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

    </nav>
  </div>
</header>


    <section class="docs">
    <div class="grid">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
  <select onchange="if (this.value) window.location.href=this.value">
    <option value="">Navigate the docs…</option>
    
    
    
    <optgroup label="SETUP">
      



  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="SETUP - ALTERNATIVES">
      



  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="WORKSPACE ADMINISTRATION">
      



  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="CHEDIR - PORTABLE WORKSPACES">
      



  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="USE CHE AS AN IDE">
      



  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="USE CHE AS A WORKSPACE SERVER">
      



  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="WRITE CHE IDE PLUGINS">
      



  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
    <optgroup label="CHE DATA MODEL">
      



  
  
  
  <option value=""></option>

  
  
  
  <option value=""></option>


    </optgroup>
    
  </select>
</div>


      <div class="unit four-fifths">
        <article>
          <div class="improve right hide-on-mobiles">
            <a href="https://github.com/eclipse/che/blob/master/docs/_docs/setup-alternatives/che-setupalt-docker.md"><i class="fa fa-pencil"></i> &nbsp;Improve this page</a>
          </div>
          <div class="doc-title">
            <h1>Usage&#58 Docker Launcher</h1>
            <div class="doc-title-border">
            </div>
          </div>
          <p>This syntax is the preferred way to start and stop Eclipse Che. It follows the principles of 12 factor apps and has a format that works consistently on every operating system. This technique uses a Docker “launcher” - a Docker container that starts the Che server launched in a second container. This creates a simpler syntax reusable on different operating systems.</p>
<h1 id="pre-reqs">Pre-reqs</h1>
<ul>
  <li>Eclipse Che 4.6+: <a href="https://www.docker.com/products/docker">Docker 1.8+</a>.</li>
  <li>Eclipse Che 4.5-: see the pre-reqs in running Che as a <a href="doc:usage-docker-server">Server</a>.
    <h1 id="usage">Usage</h1>
  </li>
</ul>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker run --rm -t -v /var/run/docker.sock:/var/run/docker.sock eclipse/che:5.0.0-latest <span class="o">[</span>COMMAND]

<span class="c"># WHERE COMMAND IS:</span>
  start     <span class="c"># Starts Che server</span>
  stop      <span class="c"># Stops Che server</span>
  restart   <span class="c"># Restarts Che server</span>
  update    <span class="c"># Pulls latest version of Che image (upgrade)</span>
  info      <span class="c"># Print debugging information\</span>
</code></pre>
</div>

<h1 id="start">Start</h1>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker run --rm -t -v /var/run/docker.sock:/var/run/docker.sock eclipse/che:5.0.0-latest start

<span class="c"># YOUR OUTPUT</span>
INFO: ------------------------------------
INFO: ECLIPSE CHE: CONTAINER STARTING
INFO: ECLIPSE CHE: SERVER BOOTING
INFO: ECLIPSE CHE: See logs at <span class="s2">"docker logs -f che"</span>
INFO: ECLIPSE CHE: BOOTED AND REACHABLE
INFO: ECLIPSE CHE: http://&lt;your-che-host&gt;:8080
INFO: ------------------------------------
</code></pre>
</div>
<p>The <code class="highlighter-rouge">-v /var/run/docker.sock:/var/run/docker.sock</code> syntax is needed when starting Eclipse Che so that the Che server (running inside of a container) can communicate to the Docker daemon and ask it to launch workspace containers as peers to the Che server container.</p>

<p>You can monitor the progress of how the server is booting or check for errors in the Eclipse Che server logs. You access these logs in another terminal with <code class="highlighter-rouge">docker logs -f che</code>. If the server has booted successfully, you should see something similar to the following at the end of the logs.</p>
<div class="language-shell highlighter-rouge"><pre class="highlight"><code>2016-07-15 20:46:24,204[main] <span class="o">[</span>INFO <span class="o">]</span> <span class="o">[</span>o.a.catalina.startup.Catalina 642] - Server startup <span class="k">in </span>9052 ms<span class="se">\</span>
</code></pre>
</div>

<h1 id="workspace-storage">Workspace Storage</h1>
<p>Che saves your workspaces, projects and Che internal configuration in <code class="highlighter-rouge">/home/user/che</code>. This location must be changed if you are on Microsoft Windows by setting the <code class="highlighter-rouge">CHE_DATA_FOLDER</code> environment variable.</p>
<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker run --rm -t -v /var/run/docker.sock:/var/run/docker.sock
                   -e <span class="nv">CHE_DATA</span><span class="o">=</span>&lt;path-to-location&gt;
                   eclipse/che:5.0.0-latest start<span class="se">\</span>
</code></pre>
</div>

<h4 id="microsoft-windows-nuances">Microsoft Windows Nuances</h4>
<ol>
  <li>Your storage location needs to be provided in a Docker format. So use <code class="highlighter-rouge">/c/Users/tyler</code> but not <code class="highlighter-rouge">c:\\Users\\tyler</code> or <code class="highlighter-rouge">c:\\\\Users\\\\Tyler</code>.\n2. Windows is case sensitive, so <code class="highlighter-rouge">/c/Users</code>, but not <code class="highlighter-rouge">/c/users</code>. \n3. You <em>must</em> provide a path that has no spaces. Docker does not handle directories with spaces well. \n4. If you are using boot2docker, then you <em>must</em> choose a folder that is a subdirectory of <code class="highlighter-rouge">%userprofile%</code> which is usually <code class="highlighter-rouge">/c/Users</code>.  However, if you are using Docker for Windows on Windows 10+, then you can select any directory.</li>
</ol>

<h1 id="diagnose-boot-problems">Diagnose Boot Problems</h1>
<p>Generally, if Che fails to boot smoothly, then it is most commonly a configuration issue related to how Docker is setup on your operating system. While we try to address all possible configurations within our system, sometimes networking, firewalls, and other items can interfere.</p>

<p>There are <a href="doc:networking">configuration items that you can set to alter how Che</a> communicates with its workspaces, the browser, and the Docker daemon. There are some simple tests that you can run to diagnose if one of the connections is failing you.</p>

<p>The Che CLI has a number of debugging assistants built into it to provide helpful values during the process of configuring your Che system.</p>
<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c"># Print CLI debugging info</span>
<span class="gp">$ </span>che info
DEBUG: ---------------------------------------
DEBUG: ---------  CHE CLI DEBUG INFO  --------
DEBUG: ---------------------------------------
DEBUG:
DEBUG: ---------  PLATFORM INFO  -------------
DEBUG: DOCKER_INSTALL_TYPE       <span class="o">=</span> boot2docker
DEBUG: DOCKER_HOST_IP            <span class="o">=</span> 192.168.99.100
DEBUG: IS_DOCKER_FOR_WINDOWS     <span class="o">=</span> NO
DEBUG: IS_DOCKER_FOR_MAC         <span class="o">=</span> NO
DEBUG: IS_BOOT2DOCKER            <span class="o">=</span> YES
DEBUG: IS_NATIVE                 <span class="o">=</span> NO
DEBUG: HAS_DOCKER_FOR_WINDOWS_IP <span class="o">=</span> NO
DEBUG: IS_MOBY_VM                <span class="o">=</span> NO
DEBUG:
DEBUG: ---------------------------------------
DEBUG: ---------------------------------------
DEBUG: ---------------------------------------

<span class="c"># Print the Che launcher and server debugging info</span>
DEBUG: ---------------------------------------
DEBUG: ---------  CHE DEBUG INFO  ------------
DEBUG: ---------------------------------------
DEBUG:
DEBUG: ---------  PLATFORM INFO  -------------
DEBUG: DOCKER_INSTALL_TYPE       <span class="o">=</span> boot2docker
DEBUG: DOCKER_HOST_OS            <span class="o">=</span> Boot2Docker 1.12.0 <span class="o">(</span>TCL 7.2<span class="o">)</span>; HEAD:e030bab - Fri Jul 29 00:29:14 UTC 2016
DEBUG: DOCKER_HOST_IP            <span class="o">=</span> 192.168.99.100
DEBUG: DOCKER_DAEMON_VERSION     <span class="o">=</span> 1.12.0
DEBUG:
DEBUG:
DEBUG: --------- CHE INSTANCE INFO  ----------
DEBUG: CHE CONTAINER EXISTS      <span class="o">=</span> YES
DEBUG: CHE CONTAINER STATUS      <span class="o">=</span> running
DEBUG: CHE SERVER STATUS         <span class="o">=</span> running
DEBUG: CHE IMAGE                 <span class="o">=</span> eclipse/che-server:nightly
DEBUG: CHE SERVER CONTAINER ID   <span class="o">=</span> 09bde1bdbaec
DEBUG: CHE CONF FOLDER           <span class="o">=</span> not <span class="nb">set
</span>DEBUG: CHE DATA FOLDER           <span class="o">=</span> /home/user/che/workspaces
DEBUG: CHE DASHBOARD URL         <span class="o">=</span> http://192.168.99.100:8080
DEBUG: CHE API URL               <span class="o">=</span> http://192.168.99.100:8080/api
DEBUG: CHE LOGS                  <span class="o">=</span> run <span class="sb">`</span>docker logs -f che-server<span class="sb">`</span>
DEBUG:
DEBUG:
DEBUG: ----  CURRENT COMMAND LINE OPTIONS  ---
DEBUG: CHE_PORT                  <span class="o">=</span> 8080
DEBUG: CHE_VERSION               <span class="o">=</span> nightly
DEBUG: CHE_RESTART_POLICY        <span class="o">=</span> no
DEBUG: CHE_USER                  <span class="o">=</span> root
DEBUG: CHE_HOST_IP               <span class="o">=</span> 192.168.99.100
DEBUG: CHE_LOG_LEVEL             <span class="o">=</span> info
DEBUG: CHE_HOSTNAME              <span class="o">=</span> 192.168.99.100
DEBUG: CHE_DATA_FOLDER           <span class="o">=</span> /home/user/che
DEBUG: CHE_CONF_FOLDER           <span class="o">=</span> not <span class="nb">set
</span>DEBUG: CHE_LOCAL_BINARY          <span class="o">=</span> not <span class="nb">set
</span>DEBUG: CHE_SERVER_CONTAINER_NAME <span class="o">=</span> che-server
DEBUG: CHE_SERVER_IMAGE_NAME     <span class="o">=</span> eclipse/che-server
DEBUG:
DEBUG: ---------------------------------------
DEBUG: ---------------------------------------
DEBUG: ---------------------------------------

<span class="c"># Run a connectivity test</span>
<span class="gp">$ </span>che info --networking
DEBUG:
DEBUG: ---------------------------------------
DEBUG: -------- CHE CONNECTIVITY TEST --------
DEBUG: ---------------------------------------
DEBUG: Browser             <span class="o">=</span>&gt; Workspace Agent              : Connection succeeded
DEBUG: Browser <span class="o">(</span>websocket<span class="o">)</span> <span class="o">=</span>&gt; Workspace Agent              : Connection succeeded
DEBUG: Che Server          <span class="o">=</span>&gt; Workspace Agent <span class="o">(</span>External IP<span class="o">)</span>: Connection succeeded
DEBUG: Che Server          <span class="o">=</span>&gt; Workspace Agent <span class="o">(</span>Internal IP<span class="o">)</span>: Connection succeeded<span class="se">\</span>
</code></pre>
</div>

<h1 id="environment-variables">Environment Variables</h1>
<p>We provide a range of environment variables that you can set that alters how Che launches from the local host. You can provide as many of these variables as you need to the launcher using the <code class="highlighter-rouge">-e VAR=&lt;value&gt;</code> syntax.</p>

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Description</th>
      <th>Default Values»»»»»&gt;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">CHE_DATA</code></td>
      <td>Folder where user workspaces and Che preferences are saved.</td>
      <td><code class="highlighter-rouge">/home/user/che</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CHE_PORT</code></td>
      <td><code class="highlighter-rouge">CHE_VERSION</code></td>
      <td><code class="highlighter-rouge">CHE_RESTART_POLICY</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CHE_USER</code></td>
      <td><code class="highlighter-rouge">CHE_CONF_FOLDER</code></td>
      <td><code class="highlighter-rouge">CHE_LOG_LEVEL</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CHE_HOST_IP</code></td>
      <td>External port of Che server.</td>
      <td><code class="highlighter-rouge">8080</code></td>
    </tr>
    <tr>
      <td>Che server version to boot. Set to <code class="highlighter-rouge">nightly</code> to get the nightly images and builds of Che.</td>
      <td><code class="highlighter-rouge">latest</code></td>
      <td>Che server restart policy if exited. See <a href="https://docs.docker.com/engine/reference/commandline/run/#/restart-policies-restart">Docker restart policies</a> for all options.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">no</code></td>
      <td>User ID of the Che server within its container.</td>
      <td><code class="highlighter-rouge">root</code></td>
    </tr>
    <tr>
      <td>Folder where custom <code class="highlighter-rouge">che.properties</code> located.</td>
      <td>null</td>
      <td>Logging level of output for Che server. Can be <code class="highlighter-rouge">debug</code> or <code class="highlighter-rouge">info</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">info</code></td>
      <td>IP address Che server will bind to. Used by browsers to contact workspaces. You must set this IP address if you want to bind the Che server to an external IP address that is not the same as Docker’s.</td>
      <td>The IP address set to the Docker host.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CHE_ASSEMBLY</code></td>
      <td>The path to a Che assembly that is on your host to be used instead of the binary contained within the <code class="highlighter-rouge">che-server</code> image.</td>
      <td><code class="highlighter-rouge">/home/user/che</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CHE_HOSTNAME</code></td>
      <td>External hostname of Che server. Only need to set if admin is managing over hostname.</td>
      <td>Varies by OS, but is typically <code class="highlighter-rouge">localhost</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CHE_LAUNCHER_IMAGE_NAME</code>\n<code class="highlighter-rouge">CHE_SERVER_IMAGE_NAME</code>\n<code class="highlighter-rouge">CHE_FILE_IMAGE_NAME</code>\n<code class="highlighter-rouge">CHE_MOUNT_IMAGE_NAME</code>\n<code class="highlighter-rouge">CHE_TEST_IMAGE_NAME</code>\n <code class="highlighter-rouge">CHE_SERVER_CONTAINER_NAME</code></td>
      <td>Che uses various Docker images as utilities. Each image provides a different capability and is when launched as a container, given a container name. You can change the image names if you want to use one that you have built locally, or change the name of containers in case you want to launch multiple instances of the same image using different container names. Also consider using the Che CLI profile capability to manage different sets of environment values to run multiple instances of Che with different containers and images.</td>
      <td><code class="highlighter-rouge">eclipse/che</code>\n<code class="highlighter-rouge">eclipse/che-server</code>\n<code class="highlighter-rouge">eclipse/che-file</code>\n<code class="highlighter-rouge">eclipse/che-mount</code>\n<code class="highlighter-rouge">eclipse/che-test</code>\n<code class="highlighter-rouge">che-server</code></td>
    </tr>
  </tbody>
</table>

<p>Starting in 4.7, you can also define any property typically loaded from <code class="highlighter-rouge">che.properties</code> using an environment variable. <code class="highlighter-rouge">che.properties</code> is an internal configuration file that defines advanced ways that Che will configure itself. If an override is not provided by a user, <a href="https://raw.githubusercontent.com/eclipse/che/master/assembly/assembly-wsmaster-war/src/main/webapp/WEB-INF/classes/codenvy/che.properties">then Che loads the default file</a>. There are dozens of additional configuration parameters available. You can change the default value of a property by passing in a variable that matches the name of the property replacing <code class="highlighter-rouge">.</code> with <code class="highlighter-rouge">_</code>.  For example, you can pass <code class="highlighter-rouge">-e CHE_WORKSPACE_STORAGE=&lt;value&gt;</code> to override the location where workspaces are stored.</p>
<h1 id="versions-and-nightly-builds">Versions and Nightly Builds</h1>
<p>You can specify the version of Eclipse Che you want launched by providing a tag to the <code class="highlighter-rouge">che-launcher</code> image name. We parse that tag and will invoke a matching <code class="highlighter-rouge">che-server</code> image with the same label. If you would like the Che server image to be a different version than the launcher, use the <code class="highlighter-rouge">CHE_VERSION</code> environment variable.</p>
<div class="language-text highlighter-rouge"><pre class="highlight"><code># Run the nightly version of the launcher and Che server
docker run --rm -t -v /var/run/docker.sock:/var/run/docker.sock \
           eclipse/che-launcher:nightly start

# Run the latest launcher and the 4.7.2 Che server
docker run --rm -t -v /var/run/docker.sock:/var/run/docker.sock \
           -e CHE_VERSION=4.7.2 \
           eclipse/che start\
</code></pre>
</div>

<h1 id="local-eclipse-che-binaries">Local Eclipse Che Binaries</h1>

<p>You can have the launcher use Eclipse Che binaries that you have on your local host instead of those within the Che image that you select. This is useful for extension developers that are building local assemblies and would like to use the launcher to execute their custom Che build.</p>

<p>Inform Che of the local directory where your binaries are stored and the Che image will use those.</p>
<div class="language-text highlighter-rouge"><pre class="highlight"><code># If your local assembly is located at /home/assembly:
docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \
           -e CHE_ASSEMBLY=path_to_che_sources/assembly/assembly-main/target/eclipse-che-&lt;version&gt;/eclipse-che-&lt;version&gt; \          
           eclipse/che start\
</code></pre>
</div>

<h1 id="add-custom-eclipse-che-properties">Add Custom Eclipse Che Properties</h1>
<p>There are many customizations you can make to the Che server by altering the <code class="highlighter-rouge">che.properties</code> file.</p>
<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c"># Save your custom che.properties in any local folder</span>
/etc/che/che.properties

<span class="c"># Start che notifying the launcher of the custom properties</span>
docker run --rm -t -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
           -e <span class="nv">CHE_CONF_FOLDER</span><span class="o">=</span>/etc/che <span class="se">\</span>
           eclipse/che:5.0.0-latest start<span class="se">\</span>
</code></pre>
</div>
<p>You can get a template of the latest version of the <code class="highlighter-rouge">che.properties</code> <a href="https://github.com/eclipse/che/blob/master/assembly/assembly-wsmaster-war/src/main/webapp/WEB-INF/classes/codenvy/che.properties">file from here</a>. You can get the default <code class="highlighter-rouge">che.properties</code> file for older versions by changing the tag selector in GitHub.</p>

<p>In the <code class="highlighter-rouge">che-server</code> container launched by the <code class="highlighter-rouge">che-launcher</code>, the Eclipse Che server loads default properties from <code class="highlighter-rouge">/tomcat/webapps/wsmaster/WEB-INF/classes/codenvy/che.properties</code>. The Che server overrides those values with <code class="highlighter-rouge">.properties</code> files that you provide.</p>

<p>System properties and environment variables may be used in <code class="highlighter-rouge">.properties</code> files in the form <code class="highlighter-rouge">${name}</code>. For example:</p>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="err">#</span><span class="w"> </span><span class="err">If</span><span class="w"> </span><span class="err">java.io.tmpdir</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">Java</span><span class="w"> </span><span class="err">property</span><span class="w"> </span><span class="err">with</span><span class="w"> </span><span class="err">value</span><span class="w"> </span><span class="s2">"/tmp"</span><span class="w"> </span><span class="err">then</span><span class="w"> </span><span class="s2">"/tmp/my-index"</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">result</span><span class="w">
</span><span class="err">index.dir=$</span><span class="p">{</span><span class="err">java.io.tmpdir</span><span class="p">}</span><span class="err">/my-index</span><span class="w">

</span><span class="err">#</span><span class="w"> </span><span class="err">che.home</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">system</span><span class="w"> </span><span class="err">property</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">Che</span><span class="w"> </span><span class="err">starts</span><span class="w">
</span><span class="err">data.dir=$</span><span class="p">{</span><span class="err">che.home</span><span class="p">}</span><span class="err">/conf</span><span class="w">
</span></code></pre>
</div>

<h1 id="under-the-hood">Under The Hood</h1>
<p>The Eclipse Che launcher is a Docker container which launches the Che server container. When you run the launcher container, the container executes a script that gathers information about your environment and then uses that information to launch the Che server container.</p>

<p>You can bypass the Che launcher and run the Che server container directly. Note that to run this container directly you must replace the environment variables with your own values. For additional information on running Che server container directly refer to <a href="https://eclipse-che.readme.io/docs/usage-docker-server">Usage: Docker Server</a>.</p>
<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker run -d --name <span class="s2">"</span><span class="k">${</span><span class="nv">CHE_SERVER_CONTAINER_NAME</span><span class="k">}</span><span class="s2">"</span> <span class="se">\</span>
    -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
    -v /home/user/che/lib:/home/user/che/lib-copy <span class="se">\</span>
    <span class="k">${</span><span class="nv">CHE_LOCAL_BINARY_ARGS</span><span class="k">}</span> <span class="se">\</span>
    -p <span class="s2">"</span><span class="k">${</span><span class="nv">CHE_PORT</span><span class="k">}</span><span class="s2">"</span>:8080 <span class="se">\</span>
    --restart<span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">CHE_RESTART_POLICY</span><span class="k">}</span><span class="s2">"</span> <span class="se">\</span>
    --user<span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">CHE_USER</span><span class="k">}</span><span class="s2">"</span> <span class="se">\</span>
    <span class="k">${</span><span class="nv">CHE_CONF_ARGS</span><span class="k">}</span> <span class="se">\</span>
    <span class="k">${</span><span class="nv">CHE_STORAGE_ARGS</span><span class="k">}</span> <span class="se">\</span>
    <span class="s2">"</span><span class="k">${</span><span class="nv">CHE_SERVER_IMAGE_NAME</span><span class="k">}</span><span class="s2">"</span>:<span class="s2">"</span><span class="k">${</span><span class="nv">CHE_VERSION</span><span class="k">}</span><span class="s2">"</span> <span class="se">\</span>
                --remote:<span class="s2">"</span><span class="k">${</span><span class="nv">CHE_HOST_IP</span><span class="k">}</span><span class="s2">"</span> <span class="se">\</span>
                -s:uid <span class="se">\</span>
                -s:client <span class="se">\</span>
                <span class="k">${</span><span class="nv">CHE_DEBUG_OPTION</span><span class="k">}</span> <span class="se">\</span>
                run &gt; /dev/null
</code></pre>
</div>

<h1 id="docker-unix-socket-mounting-vs-tcp-mode">Docker Unix Socket Mounting vs TCP Mode</h1>
<p>The <code class="highlighter-rouge">-v /var/run/docker.sock:/var/run/docker.sock</code> syntax is for mounting a Unix socket to allow processes within the container to reach the Docker daemon.</p>

<p>However, peculiarities of file systems and permissions may make it impossible to invoke Docker processes from inside a container. If this happens, the Che startup scripts will print an error about not being able to reach the Docker daemon with guidance on how to resolve the issue.</p>

<p>An alternative solution is to have Docker listen to both TCP and Unix sockets. On the host running the Docker daemon:</p>
<div class="language-text highlighter-rouge"><pre class="highlight"><code># Set this environment variable and restart the Docker daemon
DOCKER_OPTS=" -H tcp://0.0.0.0:2375 -H unix:///var/run/docker.sock"

# Verify that the Docker API is responding at:
http://&lt;docker-ip&gt;:2375/containers/json
</code></pre>
</div>
<p>Having verified that your Docker daemon is listening, run the Che container with the with <code class="highlighter-rouge">DOCKER_HOST</code> environment variable set to the IP address of <code class="highlighter-rouge">docker0</code> or <code class="highlighter-rouge">eth0</code> network interface. If <code class="highlighter-rouge">docker0</code> is running on 1.1.1.1 then:</p>
<div class="language-shell highlighter-rouge"><pre class="highlight"><code>docker run --rm -t -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
           -e <span class="nv">DOCKER_HOST</span><span class="o">=</span>tcp://1.1.1.1:2375 <span class="se">\</span>
          eclipse/che:5.0.0-latest start<span class="se">\</span>
</code></pre>
</div>

<h1 id="websockets">Websockets</h1>
<p>Eclipse Che heavily relies on WebSocket communications. When a browser client connects to a workspace, it connects to it through WebSockets. Inside the workspace, the workspace agent also uses WebSockets to connect back to the Che server.</p>

        </article>
      </div>

      <div class="unit one-fifth hide-on-mobiles">
  <aside>
    
    
    <h4>SETUP</h4>
    
    


<ul>

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/intro/index.html">Introduction</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/getting-started/index.html">Getting Started&#58 Local</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/getting-started-saas-cloud/index.html">Getting Started&#58 SaaS Cloud</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/bitnami/index.html">Getting Started&#58 Private Cloud</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/cli/index.html">Usage&#58 CLI</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/ssh/index.html">Usage&#58 SSH</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/desktop-ide-mounting/index.html">Usage&#58 Local IDE Sync</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/config/index.html">Configuration</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/config-proxies/index.html">Config&#58 Proxies</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/networking/index.html">Config&#58 Networking</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/config-docker/index.html">Config&#58 Docker</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/config-security/index.html">Config&#58 Security</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/scaling/index.html">Config&#58 Scaling</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup/glossary/index.html">Glossary</a></li>
  
  

</ul>

    
    
    
    
    <h4>SETUP - ALTERNATIVES</h4>
    
    


<ul>

  
  
  
  
  
  
  
  
  
   
    <li class="current"><a href="../../../docs/setup-alternatives/docker/index.html">Usage&#58 Docker Launcher</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup-alternatives/native/index.html">Usage&#58 Native Server</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup-alternatives/docker-server/index.html">Usage&#58 Docker Server</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/setup-alternatives/electron/index.html">Usage&#58 Electron Clients</a></li>
  
  

</ul>

    
    
    
    
    <h4>WORKSPACE ADMINISTRATION</h4>
    
    


<ul>

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/admin-intro/index.html">Workspaces</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/stacks/index.html">Runtime Stacks</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/recipes/index.html">Runtime Recipes</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/samples/index.html">Project Samples</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/machines/index.html">Runtime Machines</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/volume-mounts/index.html">Volume Mounts</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/workspace/agents/index.html">Workspace Agents</a></li>
  
  

</ul>

    
    
    
    
    <h4>CHEDIR - PORTABLE WORKSPACES</h4>
    
    


<ul>

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/getting-started/index.html">Getting Started</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/why/index.html">Why Chedir?</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/installation/index.html">Installation</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/project-setup/index.html">Project Setup</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/up-and-down/index.html">Up and Down</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/chefiles/index.html">Chefile</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/ssh/index.html">SSH</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/chedir/factories/index.html">Factories</a></li>
  
  

</ul>

    
    
    
    
    <h4>USE CHE AS AN IDE</h4>
    
    


<ul>

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/projects/index.html">Projects</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/import-a-project/index.html">Import</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/editor-settings/index.html">Editor</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/intellisense/index.html">Intellisense</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/commands/index.html">Commands</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/git-svn/index.html">Git and SVN</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/previews/index.html">Previews</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/build/index.html">Build</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/run/index.html">Run</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/sharing/index.html">Share</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/debug/index.html">Debug</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/ide/docker/index.html">Docker</a></li>
  
  

</ul>

    
    
    
    
    <h4>USE CHE AS A WORKSPACE SERVER</h4>
    
    


<ul>

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/api-projects/index.html">Projects</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/build-run/index.html">Editing Files</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/create-workspaces/index.html">Workspaces</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/events/index.html">Events</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/project-types/index.html">Project Types</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/rest-api/index.html">REST API</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/stack/index.html">Stacks</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/server/websocket-api/index.html">Websocket API</a></li>
  
  

</ul>

    
    
    
    
    <h4>WRITE CHE IDE PLUGINS</h4>
    
    


<ul>

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/introduction/index.html">Introduction</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/setup-che-workspace/index.html">IDE Setup</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/create-and-build-extensions/index.html">Building Extensions</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/assemblies/index.html">Assemblies</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/dependency-injection-basics/index.html">Dependency Injection</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/code-editors/index.html">Editors</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/project-types/index.html">Project Types</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/actions/index.html">Actions</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/serverworkspace-access/index.html">Services</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/parts/index.html">Parts</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/calling-workspace-apis/index.html">REST APIs</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/java-class-reference/index.html">Java Class Reference</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/che-properties/index.html">Properties</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/native-access-to-the-workspace/index.html">Workspace Access</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/embed-htmljs/index.html">Native HTML/JS</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/helloworld-extension/index.html">HelloWorld Extension</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/plugins/themes/index.html">Themes</a></li>
  
  

</ul>

    
    
    
    
    <h4>CHE DATA MODEL</h4>
    
    


<ul>

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/data-model/stack/index.html">Stack</a></li>
  
  

  
  
  
  
  
  
  
  
  
   
    <li class=""><a href="../../../docs/data-model/samples/index.html">Samples</a></li>
  
  

</ul>

    
    
    
    
  </aside>
</div>


      <div class="clear"></div>

    </div>
  </section>


=======

=======
  <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

  




</body>
</html>
