<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content="extensionsassemblydev_docs,  framework, UI, actions">
<title>IDE UI: Actions | Eclipse Che Documentation</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="che" href="http://0.0.0.0:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Eclipse Che Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="release-6.0.0.html">Release Notes</a></li>
                
                
                
                <li><a href="https://github.com/eclipse/che" target="_blank">Source Code</a></li>
                
                
                
                <li><a href="https://www.eclipse.org/che/docs/5/che/docs" target="_blank">Docs 5.x</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Support<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3Akind%2Fbug" target="_blank">Known Bugs</a></li>
                        
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues/new" target="_blank">File an Issue</a></li>
                        
                        
                        
                        <li><a href="https://stackoverflow.com/questions/tagged/eclipse-che" target="_blank">Che on StackOverflow</a></li>
                        
                        
                    </ul>
                </li>
                
                
                <!-- 
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:?subject= feedback&body=I have some feedback about the IDE UI: Actions page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>
 -->
		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="IDE UI: Actions">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
      
  
  <li>
      <a href="#">Overview</a>
      <ul>
          
          
          
          <li><a href="index.html">What Is Eclipse Che?</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Setup</a>
      <ul>
          
          
          
          <li><a href="single_multi_user.html">Single vs Multi-User</a></li>
          
          
          
          
          
          
          <li><a href="docker_openshift.html">Docker vs OpenShift</a></li>
          
          
          
          
          
          
          <li><a href="docker.html">Single-User on Docker</a></li>
          
          
          
          
          
          
          <li><a href="openshift.html">Single-User on OpenShift</a></li>
          
          
          
          
          
          
          <li><a href="multi-user-docker.html">Multi-User on Docker</a></li>
          
          
          
          
          
          
          <li><a href="multi-user-openshift.html">Multi-User on OpenShift</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Configuration</a>
      <ul>
          
          
          
          <li><a href="docker-config.html">Configuration on Docker</a></li>
          
          
          
          
          
          
          <li><a href="cli-reference.html">CLI Reference</a></li>
          
          
          
          
          
          
          <li><a href="openshift-config.html">Configuration on OpenShift</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Framework</a>
      <ul>
          
          
          
          <li><a href="framework_overview.html">Overview</a></li>
          
          
          
          
          
          
          <li><a href="rest_api.html">REST API</a></li>
          
          
          
          
          
          
          <li><a href="dao.html">Persistence, DAO</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Workspaces</a>
      <ul>
          
          
          
          <li><a href="what_are_workspaces.html">Model</a></li>
          
          
          
          
          
          
          <li><a href="workspaces_rest_api.html">REST API</a></li>
          
          
          
          
          
          
          <li><a href="servers.html">Servers</a></li>
          
          
          
          
          
          
          <li><a href="recipes.html">Recipes</a></li>
          
          
          
          
          
          
          <li><a href="installers.html">Installers</a></li>
          
          
          
          
          
          
          <li><a href="volumes.html">Volumes</a></li>
          
          
          
          
          
          
          <li><a href="env_variables.html">Env Variables</a></li>
          
          
          
          
          
          
          <li><a href="projects.html">Projects</a></li>
          
          
          
          
          
          
          <li><a href="workspaces_troubleshooting.html">Troubleshooting</a></li>
          
          
          
          
          
          
          <li><a href="workspace_data_model.html">Workspace Data Model</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Workspace Delivery</a>
      <ul>
          
          
          
          <li><a href="creating_starting_workspaces.html">Creating and starting Workspaces</a></li>
          
          
          
          
          
          
          <li><a href="factories_getting_started.html">Factories Getting Started</a></li>
          
          
          
          
          
          
          <li><a href="creating_factories.html">Creating Factories</a></li>
          
          
          
          
          
          
          <li><a href="factories_json_reference.html">Factories JSON Reference</a></li>
          
          
          
          
          
          
          <li><a href="stacks.html">Stacks</a></li>
          
          
          
          
          
          
          <li><a href="chedir_getting_started.html">Chedir Getting Started</a></li>
          
          
          
          
          
          
          <li><a href="why_chedir.html">Why Chedir?</a></li>
          
          
          
          
          
          
          <li><a href="chedir_installation.html">Installation</a></li>
          
          
          
          
          
          
          <li><a href="chedir_project_setup.html">Project Setup</a></li>
          
          
          
          
          
          
          <li><a href="chedir_up_and_down.html">Up and Down</a></li>
          
          
          
          
          
          
          <li><a href="chefile.html">Chefile</a></li>
          
          
          
          
          
          
          <li><a href="chedir_ssh.html">SSH</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">IDE and Editor</a>
      <ul>
          
          
          
          <li><a href="ide_projects.html">Projects</a></li>
          
          
          
          
          
          
          <li><a href="editor_code_assistance.html">Editor and Code-Assistance</a></li>
          
          
          
          
          
          
          <li><a href="dependency_management.html">Dependency Management</a></li>
          
          
          
          
          
          
          <li><a href="commands_ide_macro.html">Commands and IDE Macros</a></li>
          
          
          
          
          
          
          <li><a href="version_control.html">Version Control</a></li>
          
          
          
          
          
          
          <li><a href="debug.html">Debug</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Multi-User</a>
      <ul>
          
          
          
          <li><a href="user-management.html">Authentication and Authorization</a></li>
          
          
          
          
          
          
          <li><a href="authentication.html">Security Model</a></li>
          
          
          
          
          
          
          <li><a href="permissions.html">Permissions</a></li>
          
          
          
          
          
          
          <li><a href="organizations.html">Organizations in UD</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Infrastructure and SPI</a>
      <ul>
          
          
          
          <li><a href="spi_overview.html">Overview</a></li>
          
          
          
          
          
          
          <li><a href="spi_implementation.html">Implementation Notes</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Extensibility</a>
      <ul>
          
          
          
          <li><a href="che_in_che_quickstart.html">Quick-Start&#58 Your First Plugin</a></li>
          
          
          
          
          
          
          <li><a href="build_reqs.html">Pre-Reqs&#58 Building Che</a></li>
          
          
          
          
          
          
          <li><a href="assemblies.html">Assemblies</a></li>
          
          
          
          
          
          
          <li><a href="ide-extensions-gwt.html">GWT IDE Extensions</a></li>
          
          
          
          
          
          
          <li><a href="ide-extensions-js.html">JavaScript IDE Extensions</a></li>
          
          
          
          
          
          
          <li><a href="server-side-extensions.html">Server Side Extensions</a></li>
          
          
          
          
          
          
          <li><a href="custom_installers.html">Installers</a></li>
          
          
          
          
          
          
          <li><a href="project_types.html">Project Types</a></li>
          
          
          
          
          
          
          <li><a href="parts.html">IDE UI&#58 Parts</a></li>
          
          
          
          
          
          
          <li class="active"><a href="actions.html">IDE UI&#58 Actions</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Dev Essentials</a>
      <ul>
          
          
          
          <li><a href="guice.html">Dependency Injection</a></li>
          
          
          
          
          
          
          <li><a href="dto.html">Transport&#58 DTO</a></li>
          
          
          
          
          
          
          <li><a href="json-rpc.html">Communication&#58 JSON-RPC</a></li>
          
          
          
          
          
          
          <li><a href="handling-projects-in-plugins.html">Handling Projects in Plugins</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>

            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">IDE UI: Actions</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.
$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2' });
/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top
  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    


    <!-- 


     -->

  
<p>Actions allow you to add custom behavior to the Che IDE. They can be placed in menus, toolbars or context menus. An Action is a Java class, which implements the behavior to be executed. Additionally, it defines a text to be shown, a tooltip and an icon. In the following section, we describe the implementation of Actions more in detail.
To make Actions available in the Che IDE, they need to be registered and placed into ActionGroups. Thereby, you specify the location (e.g. a menu or toolbar), where the actions is shown. The registration of actions is described in the subsequent section <a href="#registering-actions">Registering Actions</a>.</p>

<h2 id="authoring-actions">Authoring Actions</h2>

<p>Simple <code class="highlighter-rouge">Actions</code> directly inherit from <code class="highlighter-rouge">org.eclipse.che.ide.api.action.Action</code>. In the constructor, we use the super class to configure our action with the following parameters:</p>

<ul>
  <li><strong>text</strong> (String): The name of the action shown in the UI, in our case defined by concrete Actions (sub classes).</li>
  <li>Optional: <strong>description</strong> (String): The description of the action shown in the UI, in our case defined by concrete Actions (sub classes).</li>
</ul>

<p>In the example action below, the constructor also gets the <code class="highlighter-rouge">NotificationManager</code> injected, which is used to display a “Hello World” message.
A custom <code class="highlighter-rouge">Action</code> need to implement the <code class="highlighter-rouge">#actionPerformed</code> method, which is called when it is invoked. Actions can be associated with a variety of triggers within the system such as buttons, menu item selections, or user input (see following section).</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Singleton</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorldAction</span> <span class="kd">extends</span> <span class="n">Action</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="n">NotificationManager</span> <span class="n">notificationManager</span><span class="o">;</span>

  <span class="nd">@Inject</span>
  <span class="kd">public</span> <span class="nf">HelloWorldAction</span><span class="o">(</span><span class="n">NotificationManager</span> <span class="n">notificationManager</span><span class="o">)</span> <span class="o">{</span>
      <span class="kd">super</span><span class="o">(</span><span class="s">"Say Hello World"</span><span class="o">,</span> <span class="s">"Say Hello World Action"</span><span class="o">);</span>
      <span class="k">this</span><span class="o">.</span><span class="na">notificationManager</span> <span class="o">=</span> <span class="n">notificationManager</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">this</span><span class="o">.</span><span class="na">notificationManager</span><span class="o">.</span><span class="na">notify</span><span class="o">(</span><span class="s">"Hello World"</span><span class="o">,</span> <span class="n">StatusNotification</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">SUCCESS</span><span class="o">,</span> <span class="n">StatusNotification</span><span class="o">.</span><span class="na">DisplayMode</span><span class="o">.</span><span class="na">FLOAT_MODE</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>Additionally, you can optionally define an icon for an Action. This is done by calling an alternative constructor including the following two parameters:</p>

<ul>
  <li><strong>imageResource</strong>: An icon for the action shown in the UI, in our case defined by concrete Actions, we pass in null, as we alternatively use svgResource.</li>
  <li><strong>svgResource</strong> (SVGResource): An Icon for the the action shown in the UI, in our case defined by concrete Actions (sub classes).</li>
</ul>

<p>The following code example defines another “Hello World” action including a corresponding icon:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Singleton</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorldActionWithIcon</span> <span class="kd">extends</span> <span class="n">Action</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">NotificationManager</span> <span class="n">notificationManager</span><span class="o">;</span>

    <span class="nd">@Inject</span>
    <span class="kd">public</span> <span class="nf">HelloWorldActionWithIcon</span><span class="o">(</span>
            <span class="n">NotificationManager</span> <span class="n">notificationManager</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="s">"Say Hello World"</span><span class="o">,</span> <span class="s">"Say Hello World Action"</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">SampleActionsResources</span><span class="o">.</span><span class="na">INSTANCE</span><span class="o">.</span><span class="na">icon</span><span class="o">());</span>
        <span class="k">this</span><span class="o">.</span><span class="na">notifpricationManager</span> <span class="o">=</span> <span class="n">notificationManager</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="o">/...</span>
<span class="o">}</span>
</code></pre></div></div>
<h2 id="registering-actions">Registering Actions</h2>

<p>Once we have implemented a custom action, we must register it. This is done in the custom <code class="highlighter-rouge">Extension</code> class , which is used for other extensions, too (see <a href="guice.html">Dependency Injection Basics</a>).</p>

<p>As a first step, we register the <code class="highlighter-rouge">HelloWorldAction</code> itself at the <code class="highlighter-rouge">ActionManager</code>. Thereby, Che is aware of the action to be executed. Along with the registration, an action must be associated with a unique ID, which allows to reference the <code class="highlighter-rouge">Action</code>.</p>

<p>Second, to define a place in the IDE where the Action is visible to the user, we  place the Action in an existing <code class="highlighter-rouge">ActionGroup</code>. Actions are organized into groups, which, in turn, can contain other groups. A group of actions can form a toolbar or a menu. Subgroups of the group can form submenus of the menu. You can  directly place an <code class="highlighter-rouge">Action</code> into an existing group. Alternatively, you can crea]te a custom group containing your action and add this group into Che.
In the following example, a custom group is created (<code class="highlighter-rouge">SampleGroup</code>), the <code class="highlighter-rouge">HelloWorldAction</code> is added to it and the Group is placed in the main menu of Che.
Additionally, the <code class="highlighter-rouge">HelloWorldActionWithIcon</code> is directly placed into the main menu.</p>

<p>Please see the following section on more details about existing action locations (i.e. groups) in Che and how to specify the order of actions within those groups.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Extension</span><span class="o">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">"Sample Actions Extension"</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s">"1.0.0"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SampleActionsExtensions</span> <span class="o">{</span>
    <span class="nd">@Inject</span>
    <span class="kd">public</span> <span class="nf">SampleActionsExtensions</span><span class="o">(</span><span class="n">HelloWorldAction</span> <span class="n">helloWorldAction</span><span class="o">,</span> <span class="n">ActionManager</span> <span class="n">actionManager</span><span class="o">)</span> <span class="o">{</span>

      <span class="n">actionManager</span><span class="o">.</span><span class="na">registerAction</span><span class="o">(</span><span class="s">"helloWorldAction"</span><span class="o">,</span> <span class="n">helloWorldAction</span><span class="o">);</span>
      <span class="n">actionManager</span><span class="o">.</span><span class="na">registerAction</span><span class="o">(</span><span class="s">"helloWorldActionWithIcon"</span><span class="o">,</span> <span class="n">helloWorldActionWithIcon</span><span class="o">);</span>
      <span class="o">/...</span>

      <span class="n">DefaultActionGroup</span> <span class="n">sampleGroup</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultActionGroup</span><span class="o">(</span><span class="s">"Sample actions"</span><span class="o">,</span> <span class="kc">true</span><span class="o">,</span> <span class="n">actionManager</span><span class="o">);</span>

      <span class="n">sampleGroup</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">helloWorldAction</span><span class="o">);</span>

      <span class="c1">// add sample group after help menu entry</span>
      <span class="n">DefaultActionGroup</span> <span class="n">mainMenu</span> <span class="o">=</span> <span class="o">(</span><span class="n">DefaultActionGroup</span><span class="o">)</span><span class="n">actionManager</span><span class="o">.</span><span class="na">getAction</span><span class="o">(</span><span class="n">GROUP_MAIN_MENU</span><span class="o">);</span>
        <span class="n">mainMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">sampleGroup</span><span class="o">);</span>

      <span class="c1">// add the sample group to the beginning of the toolbar as well</span>
      <span class="n">DefaultActionGroup</span> <span class="n">toolbar</span> <span class="o">=</span> <span class="o">(</span><span class="n">DefaultActionGroup</span><span class="o">)</span><span class="n">actionManager</span><span class="o">.</span><span class="na">getAction</span><span class="o">(</span><span class="n">IdeActions</span><span class="o">.</span><span class="na">GROUP_MAIN_TOOLBAR</span><span class="o">);</span>
      <span class="n">toolbar</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">helloWorldActionWithIcon</span><span class="o">);</span>
      <span class="o">/...</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="action-locations">Action Locations</h2>

<p>In this section, we describe more in detail, how actions can be placed at specific locations within Che and how the order within toolbars and menus can be specified. Both, the location and the order is specified along with the registration of an action.</p>

<p>Every action and action group in Che has a unique identifier. This allows to reference existing groups and actions when registering a new element and thereby specify its location. In the example registration in the previous section, we have used the ID of the Che main menu to place our custom action group and action in it. All existing identifiers for existing che action groups can be found in  <a href="https://github.com/eclipse/che/blob/master/ide/che-core-ide-api/src/main/java/org/eclipse/che/ide/api/action/IdeActions.java">org.eclipse.che.ide.api.action.IdeActions</a>.
Additionally, you can find an example in a <a href="https://github.com/che-samples/che-ide-server-extension/blob/master/plugins/plugin-serverservice/plugin-serverservice-ide/src/main/java/org/eclipse/che/sample/ide/action/MyAction.java">sample extension</a>.</p>

<p>In addition to placing actions in groups, you can define a relative order for actions and groups within their parent container. Therefore, a constraint needs to be specified when adding an element to a group. The constraint defines an anchor (ID of an existing element) and a relation to it (<code class="highlighter-rouge">BEFORE</code> or <code class="highlighter-rouge">AFTER</code>). Alternatively, you can use <code class="highlighter-rouge">Constraints.FIRST</code> and <code class="highlighter-rouge">Constraints.LAST</code> (default) to add an element at the beginning or at the end, respectively.</p>

<p>The following code example shows the registration of the group containing <code class="highlighter-rouge">HelloWorldAction</code> after the existing help menu, as well as the action itself at the beginning of the main toolbar.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">DefaultActionGroup</span> <span class="n">sampleGroup</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultActionGroup</span><span class="o">(</span><span class="s">"Sample actions"</span><span class="o">,</span> <span class="kc">true</span><span class="o">,</span> <span class="n">actionManager</span><span class="o">);</span>
<span class="n">sampleGroup</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">helloWorldAction</span><span class="o">);</span>

<span class="c1">// add sample group after help menu entry</span>
<span class="n">DefaultActionGroup</span> <span class="n">mainMenu</span> <span class="o">=</span> <span class="o">(</span><span class="n">DefaultActionGroup</span><span class="o">)</span><span class="n">actionManager</span><span class="o">.</span><span class="na">getAction</span><span class="o">(</span><span class="n">GROUP_MAIN_MENU</span><span class="o">);</span>
<span class="n">mainMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">sampleGroup</span><span class="o">,</span> <span class="k">new</span> <span class="n">Constraints</span><span class="o">(</span><span class="n">AFTER</span><span class="o">,</span> <span class="n">GROUP_HELP</span><span class="o">));</span>

<span class="c1">// add the sample group to the beginning of the toolbar as well</span>
<span class="n">DefaultActionGroup</span> <span class="n">toolbar</span> <span class="o">=</span> <span class="o">(</span><span class="n">DefaultActionGroup</span><span class="o">)</span><span class="n">actionManager</span><span class="o">.</span><span class="na">getAction</span><span class="o">(</span><span class="n">IdeActions</span><span class="o">.</span><span class="na">GROUP_MAIN_TOOLBAR</span><span class="o">);</span>
<span class="n">toolbar</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">helloWorldActionWithIcon</span><span class="o">,</span> <span class="n">Constraints</span><span class="o">.</span><span class="na">FIRST</span><span class="o">);</span>
</code></pre></div></div>

<h2 id="visibility-and-enablement">Visibility and Enablement</h2>

<p>By default, actions will always be visible to the user and enabled. However, certain actions shall only be visible or enabled based on the current state of Che. The implementation of an action is responsible for managing its visibility and enabled state.</p>

<p>Therefore, you need to implement the method <code class="highlighter-rouge">Action.update()</code> in a custom action. The method is periodically called by the IDE for updating the state. The object of type <code class="highlighter-rouge">ActionEvent</code> passed to this method carries the information about the current context for the action, e.g. the current perspective of the current selection. Additional information about the current state of the IDE can be retrieved form the service <code class="highlighter-rouge">AppContext</code>. See an example <a href="#projectperspective-specific-actions-json-example">here</a></p>

<p>The <code class="highlighter-rouge">ActionEvent</code> allows access to the specific presentation which needs to be updated. As every action can be included in multiple groups and appear in multiple places within the IDE user interface, the visibility and enabled state can not centrally be controlled for an action. For every place where the action appears, a new Presentation is created on which the visibility and enabled state is set alternatively. Please note, that the <code class="highlighter-rouge">ActionEvent</code> instance is also passed to the <code class="highlighter-rouge">actionPerformed()</code> method, when the action is executed.</p>

<p>The following example shows the <code class="highlighter-rouge">OnProjectHelloWorldAction</code>, which is placed in the main menu of Che. It controls its visibility based on the state and is only visible if a project is selected in the navigator.</p>

<p><em>che/samples/sample-plugin-actions/che-sample-plugin-actions-ide/src/main/java/org/eclipse/che/plugin/sampleactions/ide/action/OnProjectHelloWorldAction.java</em></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">OnProjectHelloWorldAction</span> <span class="kd">extends</span> <span class="n">Action</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">AppContext</span> <span class="n">appContext</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">NotificationManager</span> <span class="n">notificationManager</span><span class="o">;</span>

    <span class="cm">/**
     * Constructor.
     * @param appContext
     *           the application context
     * @param notificationManager
     *           the notification manager
     */</span>
    <span class="nd">@Inject</span>
    <span class="kd">public</span> <span class="nf">OnProjectHelloWorldAction</span><span class="o">(</span>
            <span class="kd">final</span> <span class="n">AppContext</span> <span class="n">appContext</span><span class="o">,</span>
            <span class="kd">final</span> <span class="n">NotificationManager</span> <span class="n">notificationManager</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="s">"Project specific Hello World"</span><span class="o">,</span> <span class="s">"We have a project"</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">appContext</span> <span class="o">=</span> <span class="n">appContext</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">notificationManager</span> <span class="o">=</span> <span class="n">notificationManager</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">notificationManager</span><span class="o">.</span><span class="na">notify</span><span class="o">(</span>
                <span class="s">"Hello World in the context of a project"</span><span class="o">,</span>
                <span class="n">StatusNotification</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">SUCCESS</span><span class="o">,</span>
                <span class="n">StatusNotification</span><span class="o">.</span><span class="na">DisplayMode</span><span class="o">.</span><span class="na">FLOAT_MODE</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">update</span><span class="o">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">getPresentation</span><span class="o">().</span><span class="na">setEnabledAndVisible</span><span class="o">(</span><span class="n">appContext</span><span class="o">.</span><span class="na">getRootProject</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="reusable-actions">Reusable Actions</h2>
<p>For common operations such as creating files, Che provides reusable default actions. Custom implementations can inherit from those and thereby only need to specify their specifics, while reusing most of the default behavior. In this section, we provide an overview of the most common reusable actions in Che.</p>

<h2 id="create-file-actions">Create File Actions</h2>

<p>Che provides a template implementation for actions to create new resources (i.e. files). When using the template, you only need to specify the name of the action as well as the file extension to be created (as shown in the following code example).</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">org</span><span class="o">.</span><span class="na">eclipse</span><span class="o">.</span><span class="na">che</span><span class="o">.</span><span class="na">plugin</span><span class="o">.</span><span class="na">myextension</span><span class="o">.</span><span class="na">ide</span><span class="o">.</span><span class="na">action</span><span class="o">.</span><span class="na">CreateMyFileAction</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreateMyFileAction</span> <span class="kd">extends</span> <span class="n">AbstractNewResourceAction</span> <span class="o">{</span>

  <span class="nd">@Inject</span>
  <span class="kd">public</span> <span class="nf">CreateMyFileAction</span><span class="o">(</span><span class="n">MyResources</span> <span class="n">myResources</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">(</span><span class="s">"Create my File"</span><span class="o">,</span> <span class="s">"Create a new file "</span><span class="o">,</span> <span class="n">myResources</span><span class="o">.</span><span class="na">icon</span><span class="o">());</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">protected</span> <span class="n">String</span> <span class="nf">getExtension</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="s">"my"</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="projectperspective-specific-actions">Project/Perspective-specific Actions</h2>

<p>In this part of the tutorial, as part of the this JSON example we describe how to add project- and perspective-specific actions, meaning  actions that are only available for a specific project type and within specific perspectives. As we want to define several actions of this type, we will create a template implementation and then inherit from it for the implementation of several actions.</p>

<p>These example actions will be placed in the context menu on the specific JSON project type defined before. The following diagram shows all components of a project type registration. The classes highlighted in dark grey are to be implemented for the extension.</p>

<p>First, our actions must determine whether they are available based on the current app context, in our case, based on the current project type. As we want to add several project specific actions, it makes sense to extract this behavior into an abstract class, in our case <code class="highlighter-rouge">MyAbstractProjectSpecificAction</code>. By inheriting from this abstract base class, we can now easily add project specific actions implementing the actual behavior to be executed.</p>

<p>As described before, to make an action available in Che, it needs to be registered at the <code class="highlighter-rouge">ActionManager</code>. This is done in an <code class="highlighter-rouge">Extension</code>.</p>

<figure><img class="docimage" src="images/devel/my_plugin.png" alt="" /></figure>

<p>In the following example, we first define the perspective- and project specific template action. Then, we define a simple action for the JSON example and register it in the context menu of the JSON project type. The action itself will trigger a simple notification once executed. However, the action could be adapted to execute any kind of behavior.</p>

<p>To make our abstract template action perspective-specific, we inherit from a reusable action implementation <code class="highlighter-rouge">AbstractPerspectiveAction</code> provided by Che. Compared to the basic <code class="highlighter-rouge">Action</code> its constructor allows the definition of a list of perspectives, in which the action is visible, referenced by ID. Null or empty list means the action is enabled everywhere. In the example, the project perspective, only.</p>

<p>The constructor also gets the <code class="highlighter-rouge">AppContext</code> injected, which is used in the following to control the project-specific visibility of the action (see description below).</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">org</span><span class="o">.</span><span class="na">eclipse</span><span class="o">.</span><span class="na">che</span><span class="o">.</span><span class="na">plug</span><span class="o">.</span><span class="na">plugin</span><span class="o">.</span><span class="na">jsonexample</span><span class="o">.</span><span class="na">ide</span><span class="o">.</span><span class="na">action</span><span class="o">.</span><span class="na">JsonExampleProjectAction</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">JsonExampleProjectAction</span> <span class="kd">extends</span> <span class="n">AbstractPerspectiveAction</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="n">AppContext</span> <span class="n">appContext</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">JsonExampleProjectAction</span><span class="o">(</span><span class="n">AppContext</span> <span class="n">appContext</span><span class="o">,</span>
                                  <span class="nd">@NotNull</span> <span class="n">String</span> <span class="n">text</span><span class="o">,</span>
                                  <span class="nd">@NotNull</span> <span class="n">String</span> <span class="n">description</span><span class="o">,</span>
                                  <span class="nd">@Nullable</span> <span class="n">SVGResource</span> <span class="n">svgResource</span><span class="o">)</span> <span class="o">{</span>

    <span class="kd">super</span><span class="o">(</span><span class="n">Collections</span><span class="o">.</span><span class="na">singletonList</span><span class="o">(</span><span class="n">ProjectPerspective</span><span class="o">.</span><span class="na">PROJECT_PERSPECTIVE_ID</span><span class="o">),</span>
              <span class="n">text</span><span class="o">,</span>
              <span class="n">description</span><span class="o">,</span>
              <span class="kc">null</span><span class="o">,</span>
              <span class="n">svgResource</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">appContext</span> <span class="o">=</span> <span class="n">appContext</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateInPerspective</span><span class="o">(</span><span class="nd">@NotNull</span> <span class="n">ActionEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">CurrentProject</span> <span class="n">currentProject</span> <span class="o">=</span> <span class="n">appContext</span><span class="o">.</span><span class="na">getCurrentProject</span><span class="o">();</span>
    <span class="n">event</span><span class="o">.</span><span class="na">getPresentation</span><span class="o">().</span><span class="na">setEnabledAndVisible</span><span class="o">(</span>
                  <span class="n">isJsonExampleProjectType</span><span class="o">(</span><span class="n">currentProject</span><span class="o">));</span>
  <span class="o">}</span>

  <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isJsonExampleProjectType</span><span class="o">(</span><span class="n">CurrentProject</span> <span class="n">currentProject</span><span class="o">)</span>  <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">currentProject</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">Constants</span><span class="o">.</span><span class="na">JSON_EXAMPLE_PROJECT_TYPE_ID</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span>
              <span class="n">currentProject</span><span class="o">.</span><span class="na">getProjectConfig</span><span class="o">().</span><span class="na">getType</span><span class="o">());</span>
  <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
<p>The <code class="highlighter-rouge">#updateInPerspective</code> method is responsible for updating the enablement and the visibility of the action. In this example, we only want to show the action, if the current project is a JSON project. Therefore, we retrieve the current project from the <code class="highlighter-rouge">AppContext</code>, check whether there is a current project and if so, whether it has the expected project type.
Calling <code class="highlighter-rouge">event.getPresentation().setEnabledAndVisible(true/false)</code> will set the enablement and the visibility accordingly.</p>

<p>After defining a project specific action, we can now define an arbitrary number of concrete implementations to add custom behavior. The example below inherits from our <code class="highlighter-rouge">JsonExampleProjectAction</code> and uses the super constructor to configure the specificity of the action. Further, the constructor gets the <code class="highlighter-rouge">NotificationManager</code> injected, which is used in the implementation of the action below. The method <code class="highlighter-rouge">#actionPerformed</code> will be called once the user has clicked on an action.</p>

<p>In the example, we trigger a simple notification. However, this simple behavior could be replaced with any custom operation.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">org</span><span class="o">.</span><span class="na">eclipse</span><span class="o">.</span><span class="na">che</span><span class="o">.</span><span class="na">plug</span><span class="o">.</span><span class="na">plugin</span><span class="o">.</span><span class="na">jsonexample</span><span class="o">.</span><span class="na">ide</span><span class="o">.</span><span class="na">action</span><span class="o">.</span><span class="na">HelloAction</span>
<span class="nd">@Singleton</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorldAction</span> <span class="kd">extends</span> <span class="n">JsonExampleProjectAction</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="n">NotificationManager</span> <span class="n">notificationManager</span><span class="o">;</span>

  <span class="nd">@Inject</span>
  <span class="kd">public</span> <span class="nf">HelloWorldAction</span><span class="o">(</span><span class="n">AppContext</span> <span class="n">appContext</span><span class="o">,</span>
                          <span class="n">NotificationManager</span> <span class="n">notificationManager</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">appContext</span><span class="o">,</span>
              <span class="s">"Say Hello World"</span><span class="o">,</span>
              <span class="s">"Say Hello World Action"</span><span class="o">,</span>
              <span class="kc">null</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">notificationManager</span> <span class="o">=</span> <span class="n">notificationManager</span><span class="o">;</span>
  <span class="o">}</span>


   <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">notificationManager</span><span class="o">.</span><span class="na">notify</span><span class="o">(</span>
              <span class="s">"Hello World"</span><span class="o">,</span>
              <span class="n">StatusNotification</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">SUCCESS</span><span class="o">,</span>
              <span class="n">StatusNotification</span><span class="o">.</span><span class="na">DisplayMode</span><span class="o">.</span><span class="na">FLOAT_MODE</span>
        <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>Once we have implemented a custom action, we must register it. This is done in the custom extension class <code class="highlighter-rouge">JsonExampleExtension</code>, which has been used for other extensions before (see <a href="guice.html">Dependency Injection Basics</a>).</p>

<p>To keep all JSON example related actions together, we define a new <code class="highlighter-rouge">ActionGroup</code> called “JSON Example”. The second parameter defines that the group is displayed as a popup. After registering the new group at the <code class="highlighter-rouge">ActionManager</code>, we add our custom <code class="highlighter-rouge">HelloWorldAction</code> to it.</p>

<p>To define a place in the IDE where the Action is visible to the user, we further place the Action in an existing <code class="highlighter-rouge">ActionGroup</code>, in our case, the context menu of a project.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">org</span><span class="o">.</span><span class="na">eclipse</span><span class="o">.</span><span class="na">che</span><span class="o">.</span><span class="na">plugin</span><span class="o">.</span><span class="na">jsonexample</span><span class="o">.</span><span class="na">ide</span><span class="o">.</span><span class="na">JsonExampleExtension</span>
<span class="nd">@Extension</span><span class="o">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">"JSON Example Extension"</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s">"0.0.1"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">JsonExampleExtension</span> <span class="o">{</span>
  <span class="nd">@Inject</span>
  <span class="kd">public</span> <span class="nf">JsonExampleExtension</span><span class="o">(</span>
          <span class="n">ActionManager</span> <span class="n">actionManager</span><span class="o">,</span>
          <span class="n">HelloWorldAction</span> <span class="n">helloWorldAction</span><span class="o">,</span>
          <span class="n">JsonExampleResources</span> <span class="n">jsonExampleResources</span><span class="o">,</span>
          <span class="n">IconRegistry</span> <span class="n">iconRegistry</span><span class="o">)</span> <span class="o">{</span>

    <span class="n">actionManager</span><span class="o">.</span><span class="na">registerAction</span><span class="o">(</span><span class="s">"helloWorldAction"</span><span class="o">,</span> <span class="n">helloWorldAction</span><span class="o">);</span>

    <span class="n">DefaultActionGroup</span> <span class="n">jsonGroup</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultActionGroup</span><span class="o">(</span><span class="s">"JSON Example"</span><span class="o">,</span>
         <span class="kc">true</span><span class="o">,</span> <span class="n">actionManager</span><span class="o">);</span>
    <span class="n">actionManager</span><span class="o">.</span><span class="na">registerAction</span><span class="o">(</span><span class="s">"jsonExample"</span><span class="o">,</span> <span class="n">jsonGroup</span><span class="o">);</span>
    <span class="n">jsonGroup</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">helloWorldAction</span><span class="o">);</span>

    <span class="n">DefaultActionGroup</span> <span class="n">mainContextMenuGroup</span> <span class="o">=</span> <span class="o">(</span><span class="n">DefaultActionGroup</span><span class="o">)</span> <span class="n">actionManager</span><span class="o">.</span><span class="na">getAction</span><span class="o">(</span><span class="s">"resourceOperation"</span><span class="o">);</span>
    <span class="n">mainContextMenuGroup</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">jsonGroup</span><span class="o">);</span>

  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Finally, we can open the context menu on our custom project type and trigger the example action.</p>

<h2 id="further-example-actions">Further Example Actions</h2>

<p>In this section, we provide a collection of existing example actions to demonstrate the variety of possible locations and behavior to be executed.</p>

<p>The following example creates a <code class="highlighter-rouge">RedirectToDashboardWorkspacesAction</code> which is the behavior that redirects the IDE back into the user dashboard application.</p>

<p><em>https://github.com/eclipse/che/blob/master/core/ide/che-core-ide-app/src/main/java/org/eclipse/che/ide/actions/RedirectToDashboardWorkspacesAction.java</em></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">eclipse</span><span class="o">.</span><span class="na">che</span><span class="o">.</span><span class="na">ide</span><span class="o">.</span><span class="na">actions</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.google.gwt.user.client.Window</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.inject.Inject</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.eclipse.che.ide.CoreLocalizationConstant</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.eclipse.che.ide.api.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.eclipse.che.ide.api.action.ActionEvent</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RedirectToDashboardWorkspacesAction</span> <span class="kd">extends</span> <span class="n">Action</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">REDIRECT_URL</span> <span class="o">=</span> <span class="s">"/dashboard/#/workspaces"</span><span class="o">;</span>

    <span class="nd">@Inject</span>
    <span class="kd">public</span> <span class="nf">RedirectToDashboardWorkspacesAction</span><span class="o">(</span><span class="n">CoreLocalizationConstant</span> <span class="n">localization</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">localization</span><span class="o">.</span><span class="na">actionRedirectToDashboardWorkspacesTitle</span><span class="o">(),</span>
              <span class="n">localization</span><span class="o">.</span><span class="na">actionRedirectToDashboardWorkspacesDescription</span><span class="o">(),</span>
              <span class="kc">null</span><span class="o">,</span>
              <span class="kc">null</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Window</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="n">REDIRECT_URL</span><span class="o">,</span> <span class="s">"_blank"</span><span class="o">,</span> <span class="s">""</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>The following example executes a server call to retrieve and display the number of lines of code from all JSON files within a project:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * Action for counting lines of code of all JSON files within the current project.
 * Line counting is implemented by consuming a RESTful service.
 */</span>
<span class="nd">@Singleton</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CountLinesAction</span> <span class="kd">extends</span> <span class="n">JsonExampleProjectAction</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">AppContext</span>            <span class="n">appContext</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">StringMapUnmarshaller</span> <span class="n">unmarshaller</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">AsyncRequestFactory</span>   <span class="n">asyncRequestFactory</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">NotificationManager</span>   <span class="n">notificationManager</span><span class="o">;</span>

    <span class="cm">/**
     * Constructor
     *
     * @param appContext
     *         the IDE application context
     * @param resources
     *         the JSON Example resources that contain the action icon
     * @param asyncRequestFactory
     *         asynchronous request factory for creating the server request
     * @param notificationManager
     *         the notification manager used to display the lines of code per file
     */</span>
    <span class="nd">@Inject</span>
    <span class="kd">public</span> <span class="nf">CountLinesAction</span><span class="o">(</span><span class="n">AppContext</span> <span class="n">appContext</span><span class="o">,</span>
                            <span class="n">JsonExampleResources</span> <span class="n">resources</span><span class="o">,</span>
                            <span class="n">AsyncRequestFactory</span> <span class="n">asyncRequestFactory</span><span class="o">,</span>
                            <span class="n">NotificationManager</span> <span class="n">notificationManager</span><span class="o">)</span> <span class="o">{</span>

        <span class="kd">super</span><span class="o">(</span><span class="n">appContext</span><span class="o">,</span>
              <span class="s">"Count JSON Lines of Code"</span><span class="o">,</span>
              <span class="s">"Counts lines of code for all JSON Files in the project"</span><span class="o">,</span>
              <span class="n">resources</span><span class="o">.</span><span class="na">icon</span><span class="o">());</span>

        <span class="k">this</span><span class="o">.</span><span class="na">appContext</span> <span class="o">=</span> <span class="n">appContext</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">asyncRequestFactory</span> <span class="o">=</span> <span class="n">asyncRequestFactory</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">notificationManager</span> <span class="o">=</span> <span class="n">notificationManager</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">unmarshaller</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringMapUnmarshaller</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>

      <span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">appContext</span><span class="o">.</span><span class="na">getDevMachine</span><span class="o">().</span><span class="na">getWsAgentBaseUrl</span><span class="o">()</span> <span class="o">+</span> <span class="s">"/json-example/"</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">appContext</span><span class="o">.</span><span class="na">getWorkspaceId</span><span class="o">()</span> <span class="o">+</span>
<span class="k">this</span><span class="o">.</span><span class="na">appContext</span><span class="o">.</span><span class="na">getCurrentProject</span><span class="o">().</span><span class="na">getRootProject</span><span class="o">().</span><span class="na">getPath</span><span class="o">();</span>

      <span class="n">asyncRequestFactory</span><span class="o">.</span><span class="na">createGetRequest</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="kc">false</span><span class="o">).</span><span class="na">send</span><span class="o">(</span>
        <span class="k">new</span> <span class="n">AsyncRequestCallback</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;&gt;(</span><span class="n">unmarshaller</span><span class="o">)</span> <span class="o">{</span>

        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">linesPerFile</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">for</span> <span class="o">(</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="o">:</span> <span class="n">linesPerFile</span><span class="o">.</span><span class="na">entrySet</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">fileName</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">loc</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
            <span class="n">notificationManager</span><span class="o">.</span><span class="na">notify</span><span class="o">(</span><span class="s">"File "</span> <span class="o">+</span> <span class="n">fileName</span> <span class="o">+</span> <span class="s">" has "</span> <span class="o">+</span> <span class="n">loc</span> <span class="o">+</span> <span class="s">" lines."</span><span class="o">,</span> <span class="n">StatusNotification</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">SUCCESS</span><span class="o">,</span>                                   <span class="n">StatusNotification</span><span class="o">.</span><span class="na">DisplayMode</span><span class="o">.</span><span class="na">FLOAT_MODE</span><span class="o">);</span>
          <span class="o">}</span>
         <span class="o">}</span>

         <span class="nd">@Override</span>
         <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">exception</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">notificationManager</span><span class="o">.</span><span class="na">notify</span><span class="o">(</span><span class="n">exception</span><span class="o">.</span><span class="na">getMessage</span><span class="o">(),</span> <span class="n">StatusNotification</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">FAIL</span><span class="o">,</span> <span class="n">StatusNotification</span><span class="o">.</span><span class="na">DisplayMode</span><span class="o">.</span><span class="na">FLOAT_MODE</span><span class="o">);</span>
         <span class="o">}</span>
       <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The following example shows how Che registers all of the actions for the <a href="https://github.com/eclipse/che/blob/master/plugins/plugin-git/che-plugin-git-ext-git/src/main/java/org/eclipse/che/ide/ext/git/client/GitExtension.java">Git menu</a>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">DefaultActionGroup</span> <span class="n">git</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultActionGroup</span><span class="o">(</span><span class="n">GIT_GROUP_MAIN_MENU</span><span class="o">,</span> <span class="kc">true</span><span class="o">,</span> <span class="n">actionManager</span><span class="o">);</span>
<span class="n">actionManager</span><span class="o">.</span><span class="na">registerAction</span><span class="o">(</span><span class="s">"git"</span><span class="o">,</span> <span class="n">git</span><span class="o">);</span>
<span class="n">mainMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">git</span><span class="o">,</span> <span class="k">new</span> <span class="n">Constraints</span><span class="o">(</span><span class="n">BEFORE</span><span class="o">,</span> <span class="n">GROUP_HELP</span><span class="o">));</span>

<span class="n">DefaultActionGroup</span> <span class="n">commandGroup</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultActionGroup</span><span class="o">(</span><span class="n">COMMAND_GROUP_MAIN_MENU</span><span class="o">,</span> <span class="kc">false</span><span class="o">,</span> <span class="n">actionManager</span><span class="o">);</span>
<span class="n">actionManager</span><span class="o">.</span><span class="na">registerAction</span><span class="o">(</span><span class="s">"gitCommandGroup"</span><span class="o">,</span> <span class="n">commandGroup</span><span class="o">);</span>
<span class="n">git</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">commandGroup</span><span class="o">);</span>
<span class="n">git</span><span class="o">.</span><span class="na">addSeparator</span><span class="o">();</span>
</code></pre></div></div>


    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="tag_extensions.html" class="btn btn-default navbar-btn cursorNorm" role="button">extensions</a>
        
        
        
        <a href="tag_assembly.html" class="btn btn-default navbar-btn cursorNorm" role="button">assembly</a>
        
        
        
        <a href="tag_dev_docs.html" class="btn btn-default navbar-btn cursorNorm" role="button">dev_docs</a>
        
        
        
    </div>

<!-- 
 -->

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               01/24/18 <br /> Eclipse Che: Eclipse Public License - v 1.0. <br />
 Site last generated: Jan 24, 2018 <br />
<p><img src="images/che_logo.png" alt="Eclise Che"/></p>
                </div>
            </div>
</footer>




    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
