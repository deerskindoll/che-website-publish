<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content="workspaceruntimedebugger,  workspace, runtime, project, projects, debugger, debug, debug jar, breakpoint, suspend">
<title>Debug | Eclipse Che Documentation</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="che" href="http://0.0.0.0:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Eclipse Che Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="news">Release Notes</a></li>
                
                
                
                <li><a href="https://github.com/eclipse/che" target="_blank">Source Code</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Support<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3Akind%2Fbug" target="_blank">Known Bugs</a></li>
                        
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues/new" target="_blank">File an Issue</a></li>
                        
                        
                        
                        <li><a href="https://stackoverflow.com/questions/tagged/eclipse-che" target="_blank">Che on StackOverflow</a></li>
                        
                        
                    </ul>
                </li>
                
                
                <!-- 
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:?subject= feedback&body=I have some feedback about the Debug page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>
 -->
		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Debug">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
      
  
  <li>
      <a href="#">Overview</a>
      <ul>
          
          
          
          <li><a href="index.html">What Is Eclipse Che?</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Setup</a>
      <ul>
          
          
          
          <li><a href="single_multi_user.html">Single vs Multi-User</a></li>
          
          
          
          
          
          
          <li><a href="docker_openshift.html">Docker vs OpenShift</a></li>
          
          
          
          
          
          
          <li><a href="docker.html">Single-User on Docker</a></li>
          
          
          
          
          
          
          <li><a href="openshift.html">Single-User on OpenShift</a></li>
          
          
          
          
          
          
          <li><a href="multi-user-docker.html">Multi-User on Docker</a></li>
          
          
          
          
          
          
          <li><a href="multi-user-openshift.html">Multi-User on OpenShift</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Configuration</a>
      <ul>
          
          
          
          <li><a href="docker-config.html">Configuration on Docker</a></li>
          
          
          
          
          
          
          <li><a href="cli-reference.html">CLI Reference</a></li>
          
          
          
          
          
          
          <li><a href="openshift-config.html">Configuration on OpenShift</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Framework</a>
      <ul>
          
          
          
          <li><a href="framework_overview.html">Overview</a></li>
          
          
          
          
          
          
          <li><a href="che_master.html">Master</a></li>
          
          
          
          
          
          
          <li><a href="rest_api.html">REST API</a></li>
          
          
          
          
          
          
          <li><a href="dao.html">Persistence, DAO</a></li>
          
          
          
          
          
          
          <li><a href="registry.html">Registry</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Workspaces</a>
      <ul>
          
          
          
          <li><a href="what_are_workspaces.html">Model</a></li>
          
          
          
          
          
          
          <li><a href="workspaces_rest_api.html">REST API</a></li>
          
          
          
          
          
          
          <li><a href="environments.html">Environments</a></li>
          
          
          
          
          
          
          <li><a href="servers.html">Servers</a></li>
          
          
          
          
          
          
          <li><a href="recipes.html">Recipes</a></li>
          
          
          
          
          
          
          <li><a href="installers.html">Installers</a></li>
          
          
          
          
          
          
          <li><a href="volumes.html">Volumes</a></li>
          
          
          
          
          
          
          <li><a href="env_variables.html">Env Variables</a></li>
          
          
          
          
          
          
          <li><a href="projects.html">Projects</a></li>
          
          
          
          
          
          
          <li><a href="workspaces_troubleshooting.html">Troubleshooting</a></li>
          
          
          
          
          
          
          <li><a href="workspace_data_model.html">Workspace Data Model</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Workspace Delivery</a>
      <ul>
          
          
          
          <li><a href="creating_starting_workspaces.html">Creating and starting Workspaces</a></li>
          
          
          
          
          
          
          <li><a href="factories_getting_started.html">Factories Getting Started</a></li>
          
          
          
          
          
          
          <li><a href="creating_factories.html">Creating Factories</a></li>
          
          
          
          
          
          
          <li><a href="factories_json_reference.html">Factories JSON Reference</a></li>
          
          
          
          
          
          
          <li><a href="stacks.html">Stacks</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">IDE and Editor</a>
      <ul>
          
          
          
          <li><a href="ide_projects.html">Projects</a></li>
          
          
          
          
          
          
          <li><a href="editor_code_assistance.html">Editor and Code-Assistance</a></li>
          
          
          
          
          
          
          <li><a href="dependency_management.html">Dependency Management</a></li>
          
          
          
          
          
          
          <li><a href="commands_ide_macro.html">Commands and IDE Macros</a></li>
          
          
          
          
          
          
          <li><a href="version_control.html">Version Control</a></li>
          
          
          
          
          
          
          <li class="active"><a href="debug.html">Debug</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Multi-User</a>
      <ul>
          
          
          
          <li><a href="user-management.html">Authentication and Authorization</a></li>
          
          
          
          
          
          
          <li><a href="permissions.html">Permissions</a></li>
          
          
          
          
          
          
          <li><a href="multiuser_api.html">REST API</a></li>
          
          
          
          
          
          
          <li><a href="organizations.html">Organizations in UD</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Infrastructure and SPI</a>
      <ul>
          
          
          
          <li><a href="spi_overview.html">Overview</a></li>
          
          
          
          
          
          
          <li><a href="spi_implementation.html">Implementation Notes</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Extensibility</a>
      <ul>
          
          
          
          <li><a href="che_in_che_quickstart.html">Quick-Start&#58 Your First Plugin</a></li>
          
          
          
          
          
          
          <li><a href="assemblies.html">Assemblies</a></li>
          
          
          
          
          
          
          <li><a href="ide-extensions-gwt.html">GWT IDE Extensions</a></li>
          
          
          
          
          
          
          <li><a href="ide-extensions-js.html">JavaScript IDE Extensions</a></li>
          
          
          
          
          
          
          <li><a href="server-side-extensions.html">Server Side Agents</a></li>
          
          
          
          
          
          
          <li><a href="project_types.html">Project Types</a></li>
          
          
          
          
          
          
          <li><a href="language_servers.html">Language Servers</a></li>
          
          
          
          
          
          
          <li><a href="parts.html">IDE UI&#58 Parts</a></li>
          
          
          
          
          
          
          <li><a href="actions.html">IDE UI&#58 Actions</a></li>
          
          
          
          
          
          
          <li><a href="editor.html">IDE UI&#58 Editor</a></li>
          
          
          
          
          
          
          <li><a href="themes.html">IDE UI&#58 Themes</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Dev Essentials</a>
      <ul>
          
          
          
          <li><a href="guice.html">Dependency Injection</a></li>
          
          
          
          
          
          
          <li><a href="dto.html">Transport&#58 DTO</a></li>
          
          
          
          
          
          
          <li><a href="json-rpc.html">Communication&#58 JSON-RPC</a></li>
          
          
          
          
          
          
          <li><a href="handling-projects-in-plugins.html">Handling Projects in Plugins</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>

            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Debug</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.
$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2' });
/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top
  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    


    <!-- 


     -->

  
<p>Che currently supports debuggers for:</p>

<ul>
  <li><a href="#java">Java</a></li>
  <li><a href="#gdb">C/C++</a> (via GDB)</li>
  <li><a href="#php">PHP</a> (via Zend debugger, zDebug and Z-Ray)</li>
  <li><a href="#nodejs">Node.js</a> (via GDB)</li>
</ul>

<h2 id="java">Java</h2>

<p>Java debugger is deployed with the workspace agent, i.e. runs in the workspace. It can connect to local processes (those running in a workspace) or remote ones.</p>

<p>Breakpoints are set with a single click on a line number in the editor. You can set breakpoints before attaching a debugger:</p>

<figure><img class="docimage" src="images/debug/breakpoint.png" alt="" /></figure>

<p>In a Debug Dialog (<strong>Run &gt; Edit Debug Configurations…</strong>), choose if you want to attach to a process in a local workspace or a remote machine. If localhost is chosen, a drop down menu will show all ports that are exposed in a container. You may either choose an existing port or provide your own.</p>

<figure><img class="docimage" src="images/debug/debug-configurations.png" alt="" /></figure>

<p><strong>Java Console Apps</strong></p>

<p>To debug console apps, pass debug arguments to JVM:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn clean install <span class="o">&amp;&amp;</span> java <span class="nt">-jar</span> <span class="nt">-Xdebug</span> <span class="nt">-Xrunjdwp</span>:transport<span class="o">=</span>dt_socket,address<span class="o">=</span>8000,server<span class="o">=</span>y,suspend<span class="o">=</span>y <span class="k">${</span><span class="nv">current</span><span class="p">.project.path</span><span class="k">}</span>/target/<span class="k">*</span>.jar
</code></pre></div></div>

<p><strong>Java Web Apps</strong></p>

<p>To debug a web application, you need to start a web server in a debug mode. Debug arguments may vary depending on the web server in use. For example, to start Tomcat in a debug mode, run:
st</p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$TOMCAT_HOME/bin/catalina.sh jpda run
</code></pre></div></div>

<p>You can add debug commands to CMD widget to permanently save them with the workspace config.</p>

<h2 id="gdb">GDB</h2>

<p>GDB can be used to debug <strong>C/C++</strong> and <strong>Node.js</strong> projects. In Docker 1.13+, a container requires certain capabilities for gdb and gdbserver to start. In <code class="highlighter-rouge">che.env</code> uncomment the following line and restart Che:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CHE_DOCKER_SECURITYOPT=seccomp:unconfined

</code></pre></div></div>

<h2 id="debugging-local-binary">Debugging Local Binary</h2>

<p>Compile your app with <code class="highlighter-rouge">-g</code> argument, go to <code class="highlighter-rouge">Run &gt; Edit Debug Configurations &gt; GDB</code>. Create a new configuration, check <code class="highlighter-rouge">Debug local binary</code> box. By default, binary path is <code class="highlighter-rouge">${current.project.path/a.out}</code>. When the debugger attaches, this macro is translated into an absolute path to a currently selected project. <code class="highlighter-rouge">a.out</code> is the default binary name. If you have compiled binary with a different name, change it:</p>

<figure><img class="docimage" src="images/debug/debug.png" alt="" /></figure>

<p>Set a breakpoint in code, go to <code class="highlighter-rouge">Run &gt; Debug &gt; YourDebugConfiguration</code>. Once a debugger attaches, there’s a notification in the top right corner. A debugger panel will open.</p>

<h2 id="remote-debugging-with-gdb-server">Remote Debugging with GDB server</h2>

<p>Similar to Java debugger, one needs to start a process that a debugger will connect to. In case of GDB, this is <code class="highlighter-rouge">gdbserver</code> which is installed in C/CPP runtime by default.</p>

<p>To <strong>run</strong> gdbserver, execute the following:</p>

<p><code class="highlighter-rouge">gdbserver :$port /path/to/binary/file</code> where <code class="highlighter-rouge">$port</code> is a random port that you will then connect to. It is important to provide an absolute path to a binary file if you run gdbserver in a command.</p>

<p>It is important to make sure that the binary has been compiled with <code class="highlighter-rouge">-g</code> argument, i.e. with attached sources.</p>

<p>When gdbserver starts, it produces some output with info on process ID and port it’s listening on. When a remote client connects to gdbserver, there will be a message with IP address of a remote connection.</p>

<p>To <strong>stop</strong> gdbserver, terminate the command in Consoles panel (if the server has been started as a command). If gdbserver has been started in a terminal, Ctrl+C does not kill it. Open another terminal into a machine, and run:</p>

<p><code class="highlighter-rouge">kill $(ps ax | grep "[g]dbserver" | awk {'print $1;}')</code></p>

<p>This commands grabs gdbserver PID and kills the process.</p>

<p><strong>Connect to GDB server</strong></p>

<p>Go to <code class="highlighter-rouge">Run &gt; Edit Debug Configurations</code> and enter host (localhost if gdbserver has been started in the same workspace environment), port and path to the binary file being debugged. By default, binary name is <code class="highlighter-rouge">a.out</code>. If you have compiled your binary with <code class="highlighter-rouge">-o</code> argument, you need to provide own custom binary name in a debug configuration.</p>

<p>Save your configuration, choose it at <code class="highlighter-rouge">Run &gt; Debug &gt; &lt;YourDebugConfiguration&gt;</code> and attach the debugger, having previously set breakpoints in source files.</p>

<p><strong>Connection Timeouts</strong></p>

<p>Latency or poor connectivity may cause issues with remote debugging. A local GDB may fail to receive a timely response from the remote server. To fix it, set a default timeout for a local GDB. In the terminal, run:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo  "set remotetimeout 10" &gt; ~/.gdbinit
</code></pre></div></div>

<p>You may set a bigger timeout, say, 20 seconds, if there are serious connectivity issues with a remote GDB server.</p>

<p>It is also possible to add this command as a Dockerfile instruction for a custom recipe:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>FROM eclipse/cpp_gcc
RUN <span class="nb">echo</span>  <span class="s2">"set remotetimeout 10"</span> <span class="o">&gt;</span> /home/user/.gdbinit
</code></pre></div></div>

<h2 id="php">PHP</h2>

<p>The PHP and Zend stacks come with the Zend Debugger module installed and configured. Debugging both PHP CLI scripts and PHP web apps is supported.</p>

<p>The debugging workflow involves the following steps:</p>

<ol>
  <li>Launch the Zend Debugger Client to start listening for new debug sessions.</li>
  <li>Optionally set breakpoints in the PHP editor.</li>
  <li>Trigger a debug session from the CLI script or the web app.</li>
  <li>Use the Web IDE tooling to do the actual debugging.</li>
</ol>

<figure><img class="docimage" src="images/debug/php-debugging.gif" alt="" /></figure>

<h2 id="starting-the-zend-debugger-client">Starting the Zend Debugger Client</h2>

<p>has the Zend Debugger Client integrated in the Web IDE. For launching the Zend Debugger Client:</p>

<ol>
  <li>Go to <code class="highlighter-rouge">Run &gt; Edit Debug Configurations</code> from the main menu.</li>
  <li>Create new <code class="highlighter-rouge">PHP</code> configuration.</li>
  <li>Change any settings if necessary. The defaults are usually OK.</li>
  <li>Click the <code class="highlighter-rouge">Debug</code> button.</li>
</ol>

<figure><img class="docimage" src="images/debug/php-debug-configuration.png" alt="" /></figure>

<p>The successful launch of the Zend Debugger Client is noted with a notification message. From this moment on the Zend Debugger Client listens for new debug sessions initiated by the Zend Debugger module of the PHP engine.</p>

<p>The Debug Configuration window allows the following configuration for the Zend Debugger Client:</p>

<ul>
  <li><code class="highlighter-rouge">Break at first line</code>. Determines whether to break the execution at the very first line, hit by the PHP interpreter. Enabled by default. It is useful to easily find the app’s entry point. You may want to switch this option off if you defined your own breakpoint and you are not interesting at breaking the execution at the first line.</li>
  <li><code class="highlighter-rouge">Client host/IP</code>. The host/IP on which to bind the server socket for listening for new debug sessions. The default host is <code class="highlighter-rouge">localhost</code>. Changing it should be only necessary if the PHP engine is running in a different workspace machine or outside of the  workspace at all.</li>
  <li><code class="highlighter-rouge">Debug port</code>. The port on which to bind the server socket for listening for new debug sessions. The default port is <code class="highlighter-rouge">10137</code>. It should be rarely necessary to change it.</li>
  <li><code class="highlighter-rouge">Use SSL encryption</code>. Whether to use SSL encryption for the debugging communication between the PHP engine and the Zend Debugger Client. Disabled by default.</li>
</ul>

<h2 id="debugging-php-cli-scripts">Debugging PHP CLI Scripts</h2>

<p>PHP CLI scripts can be debugged by setting the <code class="highlighter-rouge">QUERY_STRING</code> environment variable when executing the PHP script. For example, to debug the <code class="highlighter-rouge">hello.php</code> script you should execute the following command in the Terminal:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">QUERY_STRING</span><span class="o">=</span><span class="s2">"start_debug=1&amp;debug_host=localhost&amp;debug_port=10137"</span> php hello.php
</code></pre></div></div>

<p>Let’s dissect the value of the <code class="highlighter-rouge">QUERY_STRING</code>:</p>

<ul>
  <li><code class="highlighter-rouge">start_debug=1</code> says the PHP engine that we want to trigger a debug session for this execution.</li>
  <li><code class="highlighter-rouge">debug_host=localhost</code> says that the Zend Debugger Client runs on localhost (on the same host where the PHP engine runs).</li>
  <li><code class="highlighter-rouge">debug_port=10137</code> says that the Zend Debugger Client listens on port 10137.</li>
</ul>

<p>For convenience the PHP and Zend stacks have the <code class="highlighter-rouge">debug php script</code> command. It will run the PHP script, which is currently opened in the editor, with the required <code class="highlighter-rouge">QUERY_STRING</code> preprended to the launch command. It is a handy way for easily debugging CLI script without the need to remember the exact <code class="highlighter-rouge">QUERY_STRING</code> variable.</p>

<h2 id="debugging-php-web-apps">Debugging PHP Web Apps</h2>

<p>Debugging web apps is done in a similar way. The value of the <code class="highlighter-rouge">QUERY_STRING</code> used for debugging CLI scripts must be added as a query string to the URL of the debugged web page. This can be done either manually or by using a browser toolbar/extension that does it automatically. Such browser extensions also make it easier to debug POST requests.</p>

<p><strong>Using Query Params in URL</strong></p>

<p>The <code class="highlighter-rouge">?start_debug=1&amp;debug_host=localhost&amp;debug_port=10137</code> query string must be added to the URL. For example, to debug the <code class="highlighter-rouge">http://localhost:32810/web-php-simple/index.php</code> web page you should request the following URL in the browser:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://localhost:32810/web-php-simple/index.php?start_debug=1&amp;debug_host=localhost&amp;debug_port=10137
</code></pre></div></div>

<h2 id="using-zdebug-extension-for-chrome">Using zDebug Extension for Chrome</h2>

<p>The <a href="https://chrome.google.com/webstore/detail/zdebug/gknbnafalimbhgkmichoadhmkaoingil">zDebug</a> extension can be used for easier triggering of debug sessions from the Chrome browser. The <a href="https://chrome.google.com/webstore/detail/zend-debugger-extension/aonajadpeeaijblinaeohfdmbgdpibba">Zend Debugger Extension</a> is another extension that does the same job.</p>

<p>It is important to configure the Chrome extension properly before using it for debugging PHP apps running in a  workspace:</p>

<ol>
  <li>Set <code class="highlighter-rouge">Debug Host</code> to <code class="highlighter-rouge">localhost</code> or <code class="highlighter-rouge">127.0.0.1</code>.</li>
  <li>Set <code class="highlighter-rouge">Debug Port</code> to <code class="highlighter-rouge">10137</code>.</li>
  <li>Set <code class="highlighter-rouge">Debug Local Copy</code> to <code class="highlighter-rouge">No</code>.</li>
</ol>

<p>Note that it is not the browser that opens the debug session to the Zend Debugger Client. This is done by the PHP engine that runs in the  workspace. The browser just tells the PHP engine to do so. So the above settings are for the PHP engine (the Zend Debugger module in particular). Thus the <code class="highlighter-rouge">Debug Host</code> must be set to <code class="highlighter-rouge">localhost</code> and not the public host of the docker container running the  workspace.</p>

<p>In the end the zDebug settings should look like this:</p>

<figure><img class="docimage" src="images/debug/zdebug-settings.png" alt="" /></figure>

<p>Now you are ready to trigger the debug session:</p>

<ol>
  <li>Open the web page to debug.</li>
  <li>Click on the zDebug toolbar button.</li>
  <li>Click on <code class="highlighter-rouge">This Page</code>.</li>
</ol>

<h2 id="using-the-zend-debugger-toolbar-for-firefox">Using the Zend Debugger Toolbar for Firefox</h2>

<p>The <a href="https://addons.mozilla.org/firefox/addon/zend-debugger-toolbar/">Zend Debugger Toolbar for Firefox</a> can be used for easier triggering of debug sessions from the Firefox browser.</p>

<p>After installing it, go to <code class="highlighter-rouge">Extra Stuff &gt; Setttings</code> to configure the toolbar:</p>

<ol>
  <li>Disable the <code class="highlighter-rouge">Debug Local Copy</code> option.</li>
  <li>Switch the <code class="highlighter-rouge">Client/IDE Settings</code> to <code class="highlighter-rouge">Manual Settings</code>.</li>
  <li>Set <code class="highlighter-rouge">Debug Port</code> to <code class="highlighter-rouge">10137</code>.</li>
  <li>Set <code class="highlighter-rouge">IP Address</code> to <code class="highlighter-rouge">127.0.0.1</code>.</li>
</ol>

<p>In the end the toolbar settings should look like this:</p>

<figure><img class="docimage" src="images/debug/zend-debugger-firefox-settings.png" alt="" /></figure>

<p>Now you are ready to trigger the debug session:</p>

<ol>
  <li>Open the web page to debug.</li>
  <li>Click on the <code class="highlighter-rouge">Debug</code> toolbar button.</li>
</ol>

<h2 id="using-z-ray">Using Z-Ray</h2>

<p><a href="http://www.zend.com/en/products/server/z-ray">Z-Ray</a> is a productivity tool, part of <a href="http://www.zend.com/en/products/zend_server">Zend Server</a>, that is available in the Zend stack. Z-Ray requires no installation or configuraton. It is injected into the response coming from your PHP app and shown right in the browser you are using for development.</p>

<p>Among other features, it also has the capability to trigger a debug session:</p>

<ol>
  <li>Click on the “bug” button.</li>
  <li>Click on <code class="highlighter-rouge">Debug current page</code>.</li>
</ol>

<figure><img class="docimage" src="images/debug/z-ray-debug.png" alt="" /></figure>

<p>That’s all!</p>

<h2 id="nodejs">NodeJS</h2>

<p>The Node.js ready-to-go <a href="stacks.html">stack</a> comes with a Node.js debugger module installed and configured. The Dockerfile is located in the <a href="https://github.com/eclipse/che-dockerfiles/blob/master/recipes/node/Dockerfile">eclipse/che-dockerfiles</a> repository.</p>

<p>The debugging workflow is:</p>

<ol>
  <li>Launch the Node.js debugger client to start a debug session</li>
  <li>Create/Run command to generate a preview URL</li>
  <li>Click the preview URL to interact with the app</li>
  <li>Use the debugger panel to perform debug functions</li>
</ol>

<p>You can set breakpoints in the editor at any time by clicking on the line number.</p>

<p><strong>Starting Node.js Debugger Client</strong></p>

<p>has the Node.js client integrated in the web IDE. to launch the debugger client:</p>

<ol>
  <li>Go to <code class="highlighter-rouge">Run &gt; Edit Debug Configurations</code> from the main menu</li>
  <li>Create a new <code class="highlighter-rouge">NODEJS</code> configuration</li>
  <li>Change any settings if necessary. The defaults are usually OK</li>
  <li>Click the <code class="highlighter-rouge">Debug</code> button</li>
  <li>The debugger will break at first line of code</li>
</ol>

<figure><img class="docimage" src="images/debug/debug-nodejs-config.png" alt="" /></figure>

<p><strong>Creating a Command with Preview URL</strong></p>

<p>’s workspaces have machine(s) that are docker container(s). Docker container’s exposed ports are given an ephemeral port. The preview url provides an easy way convert an internal port to it’s external ephemeral port counter part.</p>

<ol>
  <li>Add a command <code class="highlighter-rouge">Run &gt; Edit Commands</code></li>
  <li>Give the command a name like “View Preview URL”</li>
  <li>Add a fictitious command <code class="highlighter-rouge">echo</code> for required command line</li>
  <li>Provide the preview URL for your app such as <code class="highlighter-rouge">http://${server.port.&lt;port&gt;}/</code></li>
</ol>

<h2 id="using-nodejs-debugger">Using Node.js Debugger</h2>

<ol>
  <li>Start the debugger <code class="highlighter-rouge">Run &gt; debug &gt; &lt;config-name&gt;</code></li>
  <li>Click the continue button until server is running</li>
  <li>Add breakpoints if needed</li>
  <li>Run the preview URL command (see above)</li>
  <li>Click the preview URL to open web app in another tab</li>
  <li>Go back to IDE tab</li>
  <li>Use the Web IDE tooling to do the actual debugging</li>
</ol>

<figure><img class="docimage" src="images/debug/nodejs-debugger-walkthru.gif" alt="" /></figure>



    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="tag_workspace.html" class="btn btn-default navbar-btn cursorNorm" role="button">workspace</a>
        
        
        
        <a href="tag_runtime.html" class="btn btn-default navbar-btn cursorNorm" role="button">runtime</a>
        
        
        
        <a href="tag_debugger.html" class="btn btn-default navbar-btn cursorNorm" role="button">debugger</a>
        
        
        
    </div>

<!-- 
 -->

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               01/08/18 <br /> Eclipse Che: Eclipse Public License - v 1.0. <br />
 Site last generated: Jan 8, 2018 <br />
<p><img src="images/che_logo.png" alt="Eclise Che"/></p>
                </div>
            </div>
</footer>




    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
