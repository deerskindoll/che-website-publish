<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content="chedirfactories,  chedir, factories">
<title>Factories JSON Reference | Eclipse Che Documentation</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="che" href="http://0.0.0.0:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Eclipse Che Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="news">Release Notes</a></li>
                
                
                
                <li><a href="https://github.com/eclipse/che" target="_blank">Source Code</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Support<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3Akind%2Fbug" target="_blank">Known Bugs</a></li>
                        
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues/new" target="_blank">File an Issue</a></li>
                        
                        
                        
                        <li><a href="https://stackoverflow.com/questions/tagged/eclipse-che" target="_blank">Che on StackOverflow</a></li>
                        
                        
                    </ul>
                </li>
                
                
                <!-- 
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:?subject= feedback&body=I have some feedback about the Factories JSON Reference page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>
 -->
		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Factories JSON Reference">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
      
  
  <li>
      <a href="#">Overview</a>
      <ul>
          
          
          
          <li><a href="index.html">What Is Eclipse Che?</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Setup</a>
      <ul>
          
          
          
          <li><a href="single_multi_user.html">Single vs Multi-User</a></li>
          
          
          
          
          
          
          <li><a href="docker_openshift.html">Docker vs OpenShift</a></li>
          
          
          
          
          
          
          <li><a href="docker.html">Single-User on Docker</a></li>
          
          
          
          
          
          
          <li><a href="openshift.html">Single-User on OpenShift</a></li>
          
          
          
          
          
          
          <li><a href="multi-user-docker.html">Multi-User on Docker</a></li>
          
          
          
          
          
          
          <li><a href="multi-user-openshift.html">Multi-User on OpenShift</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Configuration</a>
      <ul>
          
          
          
          <li><a href="docker-config.html">Configuration on Docker</a></li>
          
          
          
          
          
          
          <li><a href="cli-reference.html">CLI Reference</a></li>
          
          
          
          
          
          
          <li><a href="openshift-config.html">Configuration on OpenShift</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Framework</a>
      <ul>
          
          
          
          <li><a href="framework_overview.html">Overview</a></li>
          
          
          
          
          
          
          <li><a href="che_master.html">Master</a></li>
          
          
          
          
          
          
          <li><a href="rest_api.html">REST API</a></li>
          
          
          
          
          
          
          <li><a href="dao.html">Persistence, DAO</a></li>
          
          
          
          
          
          
          <li><a href="registry.html">Registry</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Workspaces</a>
      <ul>
          
          
          
          <li><a href="what_are_workspaces.html">Model</a></li>
          
          
          
          
          
          
          <li><a href="workspaces_rest_api.html">REST API</a></li>
          
          
          
          
          
          
          <li><a href="environments.html">Environments</a></li>
          
          
          
          
          
          
          <li><a href="servers.html">Servers</a></li>
          
          
          
          
          
          
          <li><a href="recipes.html">Recipes</a></li>
          
          
          
          
          
          
          <li><a href="installers.html">Installers</a></li>
          
          
          
          
          
          
          <li><a href="volumes.html">Volumes</a></li>
          
          
          
          
          
          
          <li><a href="env_variables.html">Env Variables</a></li>
          
          
          
          
          
          
          <li><a href="projects.html">Projects</a></li>
          
          
          
          
          
          
          <li><a href="workspaces_troubleshooting.html">Troubleshooting</a></li>
          
          
          
          
          
          
          <li><a href="workspace_data_model.html">Workspace Data Model</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Workspace Delivery</a>
      <ul>
          
          
          
          <li><a href="creating_starting_workspaces.html">Creating and starting Workspaces</a></li>
          
          
          
          
          
          
          <li><a href="factories_getting_started.html">Factories Getting Started</a></li>
          
          
          
          
          
          
          <li><a href="creating_factories.html">Creating Factories</a></li>
          
          
          
          
          
          
          <li class="active"><a href="factories_json_reference.html">Factories JSON Reference</a></li>
          
          
          
          
          
          
          <li><a href="stacks.html">Stacks</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">IDE and Editor</a>
      <ul>
          
          
          
          <li><a href="ide_projects.html">Projects</a></li>
          
          
          
          
          
          
          <li><a href="editor_code_assistance.html">Editor and Code-Assistance</a></li>
          
          
          
          
          
          
          <li><a href="dependency_management.html">Dependency Management</a></li>
          
          
          
          
          
          
          <li><a href="commands_ide_macro.html">Commands and IDE Macros</a></li>
          
          
          
          
          
          
          <li><a href="version_control.html">Version Control</a></li>
          
          
          
          
          
          
          <li><a href="debug.html">Debug</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Multi-User</a>
      <ul>
          
          
          
          <li><a href="user-management.html">Authentication and Authorization</a></li>
          
          
          
          
          
          
          <li><a href="permissions.html">Permissions</a></li>
          
          
          
          
          
          
          <li><a href="multiuser_api.html">REST API</a></li>
          
          
          
          
          
          
          <li><a href="organizations.html">Organizations in UD</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Infrastructure and SPI</a>
      <ul>
          
          
          
          <li><a href="spi_overview.html">Overview</a></li>
          
          
          
          
          
          
          <li><a href="spi_implementation.html">Implementation Notes</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Extensibility</a>
      <ul>
          
          
          
          <li><a href="che_in_che_quickstart.html">Quick-Start&#58 Your First Plugin</a></li>
          
          
          
          
          
          
          <li><a href="assemblies.html">Assemblies</a></li>
          
          
          
          
          
          
          <li><a href="ide-extensions-gwt.html">GWT IDE Extensions</a></li>
          
          
          
          
          
          
          <li><a href="ide-extensions-js.html">JavaScript IDE Extensions</a></li>
          
          
          
          
          
          
          <li><a href="server-side-extensions.html">Server Side Agents</a></li>
          
          
          
          
          
          
          <li><a href="project_types.html">Project Types</a></li>
          
          
          
          
          
          
          <li><a href="language_servers.html">Language Servers</a></li>
          
          
          
          
          
          
          <li><a href="parts.html">IDE UI&#58 Parts</a></li>
          
          
          
          
          
          
          <li><a href="actions.html">IDE UI&#58 Actions</a></li>
          
          
          
          
          
          
          <li><a href="editor.html">IDE UI&#58 Editor</a></li>
          
          
          
          
          
          
          <li><a href="themes.html">IDE UI&#58 Themes</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Dev Essentials</a>
      <ul>
          
          
          
          <li><a href="guice.html">Dependency Injection</a></li>
          
          
          
          
          
          
          <li><a href="dto.html">Transport&#58 DTO</a></li>
          
          
          
          
          
          
          <li><a href="json-rpc.html">Communication&#58 JSON-RPC</a></li>
          
          
          
          
          
          
          <li><a href="handling-projects-in-plugins.html">Handling Projects in Plugins</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>

            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Factories JSON Reference</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.
$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2' });
/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top
  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    


    <!-- 


     -->

  
<h2 id="overview">Overview</h2>

<p>A Factory configuration is a JSON snippet either stored within  or as a <code class="highlighter-rouge">.factory.json</code> file. You can create Factories within the IDE using our URL syntax, within the dashboard, or on the command line with the API and CLI.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">factory</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"v"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="mf">4.0</span><span class="p">,</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">Version</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">configuration</span><span class="w"> </span><span class="err">format</span><span class="w">
  </span><span class="s2">"workspace"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">Identical</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">workspace</span><span class="p">:{}</span><span class="w"> </span><span class="err">object</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">Eclipse</span><span class="w"> </span><span class="err">Che</span><span class="w">
  </span><span class="s2">"policies"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">(Optional)</span><span class="w"> </span><span class="err">Restrictions</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">limit</span><span class="w"> </span><span class="err">behaviors</span><span class="w">
  </span><span class="s2">"ide"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">(Optional)</span><span class="w"> </span><span class="err">Trigger</span><span class="w"> </span><span class="err">IDE</span><span class="w"> </span><span class="err">UI</span><span class="w"> </span><span class="err">actions</span><span class="w"> </span><span class="err">tied</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">workspace</span><span class="w"> </span><span class="err">events</span><span class="w">
  </span><span class="s2">"creator"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">(Optional)</span><span class="w"> </span><span class="err">Identifying</span><span class="w"> </span><span class="err">information</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">author</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The <code class="highlighter-rouge">factory.workspace</code> is identical to the <code class="highlighter-rouge">workspace:{}</code> object for Eclipse Che and contains the structure of the workspace. Learn more about <a href="workspace_data_model.html">the workspace JSON object</a>.</p>

<p>You can export  workspaces and then reuse the workspace definition within a Factory.  workspaces are composed of:</p>
<ul>
  <li>0..n projects</li>
  <li>0..n environments which contain machines to run the code</li>
  <li>0..n commands to execute against the code and machines</li>
  <li>a type</li>
</ul>

<p>The <code class="highlighter-rouge">factory.policies</code>, <code class="highlighter-rouge">factory.ide</code> and <code class="highlighter-rouge">factory.creator</code> objects are unique to Factories. They provide meta information to the automation engine that alter the presentation of the Factory URL or the behavior of the provisioning.</p>

<h2 id="mixins">Mixins</h2>

<p>A mixin adds additional behaviors to a project as a set of new project type attributes.  Mixins are reusable across any project type. You define the mixins to add to a project by specifying an array of strings, with each string containing the identifier for the mixin.  For example, <code class="highlighter-rouge">"mixins" : [ "pullrequest" ]</code>.</p>

<table>
  <thead>
    <tr>
      <th>Mixin ID</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">pullrequest</code></td>
      <td>Enables pull request workflow where  handles local &amp; remote branching, forking, and pull request issuance. Pull requests generated from within  have another Factory placed into the comments of pull requests that a PR reviewer can consume. Adds contribution panel to the IDE. If this mixin is set, then it uses attribute values for <code class="highlighter-rouge">project.attributes.local_branch</code> and <code class="highlighter-rouge">project.attributes.contribute_to_branch</code>. <br /><br /> The <code class="highlighter-rouge">pullrequest</code> mixin requires additional configuration from the <code class="highlighter-rouge">attributes</code> object of the project.  If present,  will use the project attributes as defined in the Factory. If not provided,  will set defaults for the attributes. <br /><br /> Learn more about other [mixins][TODO: link to project API docs]</td>
    </tr>
  </tbody>
</table>

<h2 id="pull-request-mixin-attributes">Pull Request Mixin Attributes</h2>
<p>Project attributes alter the behavior of the IDE or workspace.</p>

<p>Different Eclipse Che and Codenvy plug-ins can add their own attributes to affect the behavior for the system.  Attribute configuration is always optional and if not provided within a Factory definition, the system will set itself.</p>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">local_branch</code></td>
      <td>Used in conjunction with the <code class="highlighter-rouge">pullrequest</code> mixin. If provided, the local branch for the project is set with this value. If not provided, then the local branch is set with the value of <code class="highlighter-rouge">project.source.parameters.branch</code> (the name of the branch from the remote).  If <code class="highlighter-rouge">local_branch</code> and <code class="highlighter-rouge">project.source.parameters.branch</code> are both not provided, then the local branch is set to the name of the checked out branch.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">contribute_to_branch</code></td>
      <td>Name of the branch that a pull request will be contributed to. Default is the value of <code class="highlighter-rouge">project.source.parameters.branch</code>, which is the name of the branch this project was cloned from.</td>
    </tr>
  </tbody>
</table>

<p><br />
Here is a snippet that demonstrates full configuration of the contribution mixin.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">factory.workspace.project</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"mixins"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"pullrequest"</span><span class="w"> </span><span class="p">],</span><span class="w">

  </span><span class="s2">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"local_branch"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"timing"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"contribute_to_branch"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"master"</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">

  </span><span class="s2">"source"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/codenvy/che.git"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parameters"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"keepVcs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="policies">Policies</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">factory.policies</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"referer"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="err">STRING</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">Works</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">clients</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">referer</span><span class="w">
  </span><span class="s2">"since"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="err">EPOCHTIME</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">Factory</span><span class="w"> </span><span class="err">works</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">after</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">date</span><span class="w">
  </span><span class="s2">"until"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="err">EPOCHTIME</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">Factory</span><span class="w"> </span><span class="err">works</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">before</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">date</span><span class="w">
  </span><span class="s2">"create"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">perClick</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">perUser</span><span class="p">]</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Create</span><span class="w"> </span><span class="err">one</span><span class="w"> </span><span class="err">workpace</span><span class="w"> </span><span class="err">per</span><span class="w"> </span><span class="err">click</span><span class="p">,</span><span class="w"> </span><span class="err">user</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">account</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="limitations">Limitations</h2>
<p>You can use <code class="highlighter-rouge">since : EPOCHTIME</code>, <code class="highlighter-rouge">until : EPOCHTIME</code> and <code class="highlighter-rouge">referer</code> as a way to prevent the Factory from executing under certain conditions.  <code class="highlighter-rouge">since</code> and <code class="highlighter-rouge">until</code> represent a valid time window that will allow the Factory to activate. The <code class="highlighter-rouge">referer</code> will check the hostname of the acceptor and only allow the Factory to execute if there is a match.</p>

<h2 id="multiplicity">Multiplicity</h2>
<p>If <code class="highlighter-rouge">create : perClick</code> is used, then every click of the Factory URL will generate a new workspace, each with its own identifier, name and resources.  If <code class="highlighter-rouge">create : perUser</code> is used, then only one workspace will be generated for each unique user that clicks on the Factory URL. If the workspace has previously been generated, we will reopen the existing workspace.</p>

<h2 id="ide-customization">IDE Customization</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">factory.ide.</span><span class="p">{</span><span class="err">event</span><span class="p">}</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">event</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">onAppLoaded</span><span class="p">,</span><span class="w"> </span><span class="err">onProjectsLoaded</span><span class="p">,</span><span class="w"> </span><span class="err">onAppClosed</span><span class="w">
  </span><span class="s2">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{}]</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">List</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">IDE</span><span class="w"> </span><span class="err">actions</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">execute</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">event</span><span class="w"> </span><span class="err">triggered</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">factory.ide.</span><span class="p">{</span><span class="err">event</span><span class="p">}</span><span class="err">.actions</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
  </span><span class="s2">"id"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="err">String</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">Action</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">IDE</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">perform</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">event</span><span class="w"> </span><span class="err">triggered</span><span class="w">
  </span><span class="err">properties</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">                </span><span class="err">//</span><span class="w"> </span><span class="err">Properties</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">customize</span><span class="w"> </span><span class="err">action</span><span class="w"> </span><span class="err">behavior</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre></div></div>
<p>You can instruct the Factory to invoke a series of IDE actions based upon events in the lifecycle of the workspace.</p>

<dl>
  <dt><code class="highlighter-rouge">onAppLoaded</code></dt>
  <dd>Triggered when the IDE is loaded.</dd>
  <dt><code class="highlighter-rouge">onProjectsLoaded</code></dt>
  <dd>Triggered when the workspace and all projects have been activated/imported.</dd>
  <dt><code class="highlighter-rouge">onAppClosed</code></dt>
  <dd>Triggered when the IDE is closed.</dd>
</dl>

<p>This is an example that associates a variety of actions with all of the events.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"ide"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  
  </span><span class="s2">"onProjectsLoaded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">                </span><span class="err">//</span><span class="w"> </span><span class="err">Actions</span><span class="w"> </span><span class="err">triggered</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">project</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">opened</span><span class="w">
    </span><span class="s2">"actions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">  
      </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openFile"</span><span class="p">,</span><span class="w">                </span><span class="err">//</span><span class="w"> </span><span class="err">Opens</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">file</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">editor.</span><span class="w"> </span><span class="err">Can</span><span class="w"> </span><span class="err">add</span><span class="w"> </span><span class="err">multiple</span><span class="w">
      </span><span class="s2">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">                  </span><span class="err">//</span><span class="w"> </span><span class="err">The</span><span class="w"> </span><span class="err">file</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">open</span><span class="w"> </span><span class="err">(include</span><span class="w"> </span><span class="err">project</span><span class="w"> </span><span class="err">name)</span><span class="w">
        </span><span class="s2">"file"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/my-project/pom.xml"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">  
      </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"runCommand"</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">Launch</span><span class="w"> </span><span class="err">command</span><span class="w"> </span><span class="err">after</span><span class="w"> </span><span class="err">IDE</span><span class="w"> </span><span class="err">opens</span><span class="w">
      </span><span class="s2">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"MCI"</span><span class="w">                  </span><span class="err">//</span><span class="w"> </span><span class="err">Command</span><span class="w"> </span><span class="err">name</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]},</span><span class="w">
  </span><span class="s2">"onAppLoaded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
           </span><span class="s2">"properties:{
              "</span><span class="err">greetingTitle</span><span class="s2">": "</span><span class="err">Getting</span><span class="w"> </span><span class="err">Started</span><span class="s2">",			// Title of a Welcome tab
              "</span><span class="err">greetingContentUrl</span><span class="s2">": "</span><span class="err">http</span><span class="p">:</span><span class="err">//example.com/README.html</span><span class="s2">"	// HTML to be loaded into a tab
           },
           "</span><span class="err">id</span><span class="s2">": "</span><span class="err">openWelcomePage</span><span class="s2">"
        }
     ]
  },
  "</span><span class="err">onAppClosed</span><span class="s2">" : {                     // Actions to be triggered when IDE is closed
    "</span><span class="err">actions</span><span class="s2">" : [{
      "</span><span class="err">id</span><span class="s2">" : "</span><span class="err">warnOnClose</span><span class="s2">"              // Show warning when closing browser tab
    }]
  }
}
</span></code></pre></div></div>
<p>Each event type has a set of actions that can be triggered. There is no ordering of actions executed when you provide a list;  will asynchronously invoke multiple actions if appropriate. Some actions can be configured in how they perform and will have an associated <code class="highlighter-rouge">properties : {}</code> object.</p>

<p><strong>onProjectsLoaded Event</strong></p>

<table>
  <thead>
    <tr>
      <th>Action</th>
      <th>Properties?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">runCommand</code></td>
      <td>Yes</td>
      <td>Specify the name of the command to invoke after the IDE is loaded. Specify the commands in the <code class="highlighter-rouge">factory.workspace.commands : []</code> array.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">openFile</code></td>
      <td>Yes</td>
      <td>Open project files as a tab in the editor.</td>
    </tr>
  </tbody>
</table>

<p><strong>onAppLoaded Event</strong></p>

<table>
  <thead>
    <tr>
      <th>Action</th>
      <th>Properties?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">openWelcomePage</code></td>
      <td>Yes</td>
      <td>Customize the content of the welcome panel when the workspace is loaded. Note that browsers block http resources that are loaded into https pages.</td>
    </tr>
  </tbody>
</table>

<p><strong>onAppClosed Event</strong></p>

<table>
  <thead>
    <tr>
      <th>Action</th>
      <th>Properties?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">warnOnClose</code></td>
      <td>No</td>
      <td>Opens a warning popup when the user closes the browser tab with a project that has uncommitted changes. Requires <code class="highlighter-rouge">project.parameters.keepVcs</code> to be <code class="highlighter-rouge">true</code>.</td>
    </tr>
  </tbody>
</table>

<h2 id="action-open-file">Action: Open File</h2>

<p>This action will open a file as a tab in the editor. You can provide this action multiple times to have multiple files open. The file property is a relative reference to a file in the project’s source tree. The <code class="highlighter-rouge">file</code> parameter is the relative path within the workspace to the file that should be opened by the editor. The <code class="highlighter-rouge">line</code> parameter is optional and can be used to move the editor cursor to a specific line when the file is opened. Note that projects are located in the workspaces <code class="highlighter-rouge">/projects</code> folder.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
  </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openFile"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"file"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/my-project/pom.xml"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"line"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="action-find-and-replace">Action: Find and Replace</h2>

<p>If you create a project from a factory, you can have  perform a find / replace on values in the imported source code after it is imported into the project tree. This essentially lets you parameterize your source code. Find and replace can be run as a <strong>Run Command</strong> during <code class="highlighter-rouge">onProjectsLoaded</code> event. You can use <code class="highlighter-rouge">sed</code>, <code class="highlighter-rouge">awk</code> or any other tools that are available in your workspace environment.</p>

<p>Define a command for your workspace in <code class="highlighter-rouge">factory.workspace.workspaceConfig.commands</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "commandLine": "sed -i 's/***/userId984hfy6/g' /projects/console-java-simple/README.md",
  "name": "replace",
  "attributes": {
    "goal": "Common",
    "previewUrl": ""
  },
  "type": "custom"
}
</code></pre></div></div>

<p>In this example, we have created a named command <code class="highlighter-rouge">replace</code> which replaces <code class="highlighter-rouge">***</code> with a string in project’s README.md.</p>

<p>Then register this command to the execution list linked to <code class="highlighter-rouge">onProjectsLoaded</code> event. In this example, <code class="highlighter-rouge">replace</code> command is executed after project is imported into a workspace:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"ide": {
    "onProjectsLoaded": {
      "actions": [
        {
          "properties": {
            "name": "replace"
          },
          "id": "runCommand"
        }
      ]
    }
  }
</code></pre></div></div>

<p>Use <a href="https://www.gnu.org/software/sed/manual/html_node/Regular-Expressions.html">regular expressions</a> in sed, both in find/replace and file/file types patterns.</p>

<h2 id="creator">Creator</h2>
<p>This object has meta information that you can embed within the Factory. These attributes do not affect the automation behavior or the behavior of the generated workspace.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">factory.creator</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="err">STRING</span><span class="p">,</span><span class="w">                </span><span class="err">//</span><span class="w"> </span><span class="err">Name</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">author</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">configuration</span><span class="w"> </span><span class="err">file</span><span class="w">
  </span><span class="s2">"email"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="err">STRING</span><span class="p">,</span><span class="w">                </span><span class="err">//</span><span class="w"> </span><span class="err">Email</span><span class="w"> </span><span class="err">address</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">author</span><span class="w">
  </span><span class="s2">"created"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="err">EPOCHTIME</span><span class="p">,</span><span class="w">             </span><span class="err">//</span><span class="w"> </span><span class="err">Set</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">system</span><span class="w">
  </span><span class="s2">"userId"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="err">STRING</span><span class="w">                 </span><span class="err">//</span><span class="w"> </span><span class="err">Set</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">system</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>


    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="tag_chedir.html" class="btn btn-default navbar-btn cursorNorm" role="button">chedir</a>
        
        
        
        <a href="tag_factories.html" class="btn btn-default navbar-btn cursorNorm" role="button">factories</a>
        
        
        
    </div>

<!-- 
 -->

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               01/06/18 <br /> Eclipse Che: Eclipse Public License - v 1.0. <br />
 Site last generated: Jan 6, 2018 <br />
<p><img src="images/che_logo.png" alt="Eclise Che"/></p>
                </div>
            </div>
</footer>




    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
